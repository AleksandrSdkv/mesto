<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: index.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: index.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import './index.css';
import {
    initialCards,
    profileName,
    profileAbout,
    profileEditButton,
    profilePopup,
    elementList,
    profileForm,
    nameInput,
    jobInput,
    newPlacePopup,
    formNewElement,
    placeName,
    placeUrl,
    picturePopup,
    profilePlaceButton
} from '../utils/constants.js';

import { FormValidator } from '../components/FormValidator.js';
import { Card } from '../components/Card.js';
import { config } from '../utils/config.js';
import { Section } from '../components/Section.js';
import { PopupWithImage } from '../components/PopupWithImage.js';
import { PopupWithForm } from '../components/PopupWithForm.js';
import { UserInfo } from '../components/UserInfo.js';


/**
 * @description - запускает валидацию.
 */

const validateFormNewElement = new FormValidator(config, formNewElement);
const validateProfileForm = new FormValidator(config, profileForm);



validateFormNewElement.enableValidation();
validateProfileForm.enableValidation();


/**
 * @description - функция создающая готовую карточку с данными.
 */


function createCardClass(name, link) {
    const card = new Card({
            name,
            link
        },
        handleCardClick, '#card_template');
    const cardNewElement = card.generateCard();
    return cardNewElement
}

/**
 * @description - класс отрисовки массива карточек.
 */
const cardList = new Section({
        data: initialCards,
        renderer: (item) => {
            const element = createCardClass(item.name, item.link);
            cardList.addItem(element);

        },
    },
    elementList
);
cardList.renderItems();
/**
 * @description - функция создающая готовую карточку с данными.
 */


/**
 * @description - класс попапа картинки.
 */
const popupPice = new PopupWithImage(picturePopup)
popupPice.setEventListeners();

function handleCardClick({ name, link }) {
    popupPice.open({ name, link });
};



/**
 * @description - попап редактирвания профиля.
 */
const handleProfileFormSubmit = ({ name, about }) => {
    const user = name;
    const info = about;
    profileInfo.setUserInfo(user, info);
    popupProfileForm.close();
};

const popupProfileForm = new PopupWithForm(profilePopup, handleProfileFormSubmit);
popupProfileForm.setEventListeners();
/**
 * @description - слушатель, который сбрасывает валидацию формы профиля и переносит значения в inputs
 */

profileEditButton.addEventListener('click', () => {
    validateProfileForm.resetVadlidation();
    const profileValue = profileInfo.getUserInfo();
    const { name, info } = profileValue;
    nameInput.value = name;
    jobInput.value = info;
    validateProfileForm.toggleButtonState();
    popupProfileForm.open()
});

/**
 * @description - управление отображением информации о пользователе на странице.
 */
const profileInfo = new UserInfo(profileName, profileAbout);


/**
 * @description - код создания новой карточки и работы попапа.
 */
const handleAddElmForm = (formData) => {
    submitFormHandlerPlace();
    popupNewElement.close()
}

const popupNewElement = new PopupWithForm(newPlacePopup, handleAddElmForm);

popupNewElement.setEventListeners();

function submitFormHandlerPlace() {
    const link = placeUrl.value;
    const name = placeName.value;
    const add = createCardClass(name, link);
    cardList.addItem(add);
}


profilePlaceButton.addEventListener('click', () => {
    validateFormNewElement.resetVadlidation();
    popupNewElement.open()
    validateFormNewElement.toggleButtonState();
})
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#cardList">cardList</a></li><li><a href="global.html#createCardClass">createCardClass</a></li><li><a href="global.html#handleAddElmForm">handleAddElmForm</a></li><li><a href="global.html#handleProfileFormSubmit">handleProfileFormSubmit</a></li><li><a href="global.html#popupPice">popupPice</a></li><li><a href="global.html#profileInfo">profileInfo</a></li><li><a href="global.html#validateFormNewElement">validateFormNewElement</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.11</a> on Tue Aug 16 2022 02:01:28 GMT+0300 (Москва, стандартное время)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
