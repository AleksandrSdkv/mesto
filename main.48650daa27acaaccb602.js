(()=>{"use strict";var e=document.querySelector(".profile__name"),t=document.querySelector(".profile__about"),n=document.querySelector(".profile__edit-button"),r=document.querySelector(".popup_type_profile"),o=document.querySelector(".element-list"),i=r.querySelector(".form"),a=r.querySelector(".form__input_type_name"),u=r.querySelector(".form__input_type_about"),c=document.querySelector(".popup_type_place"),s=c.querySelector(".form"),l=(c.querySelector(".form__input_type_name"),c.querySelector(".form__input_type_about"),document.querySelector(".popup_type_pic")),f=document.querySelector(".profile__place-button"),p=document.querySelector(".popup_type_notification"),h=document.querySelector(".profile__overlay"),y=document.querySelector(".popup_type_for-avatar"),d=y.querySelector(".form");function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),m(this,"resetVadlidation",(function(){r._inputList.forEach((function(e){return r._hideInputError(e)}))})),m(this,"_setEventListeners",(function(){r.toggleButtonState(),r._inputList.forEach((function(e){e.addEventListener("input",(function(){r._isValidity(e),r.toggleButtonState()}))}))})),this._config=t,this._formElement=n,this._inputList=Array.from(n.querySelectorAll(t.inputSelector)),this._buttonElement=n.querySelector(t.submitButtonSelector)}var t,n;return t=e,(n=[{key:"_isValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"_showInputError",value:function(e){var t=this._formElement.querySelector(".".concat(e.id,"-error"));e.classList.add(this._config.inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._config.errorClass)}},{key:"_hideInputError",value:function(e){var t=this._formElement.querySelector(".".concat(e.id,"-error"));e.classList.remove(this._config.inputErrorClass),t.classList.remove(this._config.errorClass),t.textContent=""}},{key:"toggleButtonState",value:function(){this._hasInvalidInput()?this._setDisabledButton():this._setEnabledButton()}},{key:"_setDisabledButton",value:function(){this._buttonElement.classList.add(this._config.inactiveButtonClass),this._buttonElement.disabled=!0}},{key:"_setEnabledButton",value:function(){this._buttonElement.classList.remove(this._config.inactiveButtonClass),this._buttonElement.disabled=!1}},{key:"enableValidation",value:function(){this._setEventListeners()}}])&&_(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var g=function(){function e(t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._data=t,this._handleCardClick=n,this._cardTemplate=r,this._element=this._getTemplate(),this.maskGroupImg=this._element.querySelector(".element__mask-group"),this.maskGroupName=this._element.querySelector(".element__place-name"),this._likeButton=this._element.querySelector(".element__like-button"),this._btnRemoveCard=this._element.querySelector(".element__btn-remove"),this.likesElement=this._element.querySelector(".element__like-counter"),this.maskGroupImg.src=this._data.link,this.maskGroupName.textContent=this._data.name,this.maskGroupImg.alt=this._data.name,this.likesElement.textContent=this._data.likes.length,this._ownerID="2341679b0114bf727da8f477",this.data_id=t._id,this._isCardMine=t.owner._id===this._ownerID,this._removePic=o,this._setEventListeners()}var t,n;return t=e,(n=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardTemplate).content.querySelector(".element").cloneNode(!0)}},{key:"generateCard",value:function(){return this._isCardMine&&this._btnRemoveCard.classList.remove("popup_hidden"),this._element}},{key:"_setEventListeners",value:function(){var e=this;this._likeButton.addEventListener("click",(function(){e._handleLikeBtnClick()})),this._btnRemoveCard.addEventListener("click",(function(){e._removePic(e._data,(function(){e._handleTrashBtnClick()}))})),this.maskGroupImg.addEventListener("click",(function(){e._handleCardClick({name:e._data.name,link:e._data.link})}))}},{key:"_handleLikeBtnClick",value:function(){this._likeButton.classList.toggle("element__like-button_active")}},{key:"_handleTrashBtnClick",value:function(){this._element.remove(),this._element=null}}])&&b(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var E=function(){function e(t,n){var r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._functionRender=r,this._container=n}var t,n;return t=e,(n=[{key:"renderItems",value:function(e){var t=this;e.reverse().forEach((function(e){return t._functionRender(e)}))}},{key:"addItem",value:function(e){this._container.prepend(e)}}])&&k(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var O=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popupElement=t,this._handleEscCloseBinded=this._handleEscClose.bind(this)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popupElement.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscCloseBinded)}},{key:"close",value:function(){this._popupElement.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscCloseBinded)}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this._popupElement.addEventListener("mousedown",(function(t){(t.target.classList.contains("popup_opened")||t.target.classList.contains("popup__close"))&&e.close()}))}}])&&w(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(){return C="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=P(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},C.apply(this,arguments)}function P(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=q(e)););return e}function L(e,t){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},L(e,t)}function I(e,t){if(t&&("object"===S(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function q(e){return q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},q(e)}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=q(r);if(o){var n=q(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return I(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._popupPhotoTitle=document.querySelector(".popup__caption"),t._popupPhotoImg=document.querySelector(".popup__img"),t}return t=a,(n=[{key:"open",value:function(e){var t=e.name,n=e.link;this._popupPhotoImg.src=n,this._popupPhotoImg.alt=t,this._popupPhotoTitle.textContent=t,C(q(a.prototype),"open",this).call(this)}}])&&j(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(O);function B(e){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B(e)}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(){return D="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=A(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},D.apply(this,arguments)}function A(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=x(e)););return e}function U(e,t){return U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},U(e,t)}function V(e,t){if(t&&("object"===B(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}var N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&U(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=x(r);if(o){var n=x(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return V(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e))._popupElement=e,n._handleFormSubmit=t,n._formElement=n._popupElement.querySelector(".form"),n._formInputList=Array.from(n._formElement.querySelectorAll(".form__input")),n}return t=a,(n=[{key:"_getInputValues",value:function(){var e=this;return this._formValues={},this._formInputList.forEach((function(t){e._formValues[t.name]=t.value})),this._formValues}},{key:"setEventListeners",value:function(){var e=this;D(x(a.prototype),"setEventListeners",this).call(this),this._formElement.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit(e._getInputValues())}))}},{key:"close",value:function(){D(x(a.prototype),"close",this).call(this),this._formElement.reset()}}])&&T(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(O);function G(e){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G(e)}function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(){return M="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=F(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},M.apply(this,arguments)}function F(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=K(e)););return e}function H(e,t){return H=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},H(e,t)}function z(e,t){if(t&&("object"===G(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function K(e){return K=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},K(e)}var Q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&H(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=K(r);if(o){var n=K(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return z(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._popupElement=e,t._formElement=t._popupElement.querySelector(".form"),t._setConfirmAction=function(){},t}return t=a,(n=[{key:"setEventListeners",value:function(){var e=this;M(K(a.prototype),"setEventListeners",this).call(this),this._formElement.addEventListener("submit",(function(t){t.preventDefault(),e._setConfirmAction()}))}},{key:"setConfirmAction",value:function(e){this._setConfirmAction=e}}])&&J(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(O);function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var X=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._userName=t,this._userInfo=n,this._avatarSelector=document.querySelector(".profile__avatar"),this._id=getUserId()}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return this._data}},{key:"setUserInfo",value:function(e){return this._data=e,this._userName.textContent=e.name,this._userInfo.textContent=e.about,this._id=this._data}},{key:"getUserId",value:function(){return this._id}},{key:"setAvatar",value:function(e){this._avatarSelector.src=e.avatar}}])&&W(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Z=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._url=t.url,this._headers=t.headers}var t,n;return t=e,(n=[{key:"getUserData",value:function(){return fetch("".concat(this._url,"/users/me"),{headers:this._headers}).then((function(e){if(e.ok)return e.json()})).catch((function(e){console.log(e)}))}},{key:"getUserCards",value:function(){return fetch("".concat(this._url,"/cards"),{headers:this._headers}).then((function(e){if(e.ok)return e.json()})).catch((function(e){console.log(e)}))}},{key:"setUserData",value:function(e){return fetch("".concat(this._url,"/users/me"),{headers:this._headers,method:"PATCH",body:JSON.stringify({name:e.name,about:e.about})}).then((function(e){if(e.ok)return e.json()}))}},{key:"setAvatarData",value:function(e){return fetch("".concat(this._url,"/users/me/avatar"),{headers:this._headers,method:"PATCH",body:JSON.stringify({avatar:e.avatar})}).then((function(e){if(e.ok)return e.json()}))}},{key:"pushNewCard",value:function(e){return fetch("".concat(this._url,"/cards"),{headers:this._headers,method:"POST",body:JSON.stringify({name:e.name,link:e.link})}).then((function(e){if(e.ok)return e.json()}))}},{key:"deleteCard",value:function(e){return fetch("https://mesto.nomoreparties.co/v1/cohort-48/cards/".concat(e),{headers:this._headers,method:"DELETE"}).then((function(e){if(e.ok)return e.json()}))}},{key:"putLike",value:function(e){return fetch("https://mesto.nomoreparties.co/v1/cohort-48/cards/".concat(e,"/likes"),{headers:this._headers,method:"PUT"}).then((function(e){if(e.ok)return console.log(e),e.json()}))}},{key:"removeLike",value:function(e){return fetch("https://mesto.nomoreparties.co/v1/cohort-48/cards/".concat(e,"/likes"),{headers:this._headers,method:"DELETE"}).then((function(e){if(e.ok)return console.log(e),e.json()}))}}])&&Y(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),$={formSelector:".form",inputSelector:".form__input",submitButtonSelector:".form__bottom-submit",inactiveButtonClass:"form__bottom-submit_status_inactive",inputErrorClass:"form__input_type_error",errorClass:"form__input-error_active"},ee=new v($,s),te=new v($,i),ne=new v($,d);function re(e){return new g(e,ae,"#card_template",(function(e,t){ce.open(),ce.setConfirmAction((function(){se.deleteCard(e._id).then((function(){t(),ce.close()}))}))})).generateCard()}ee.enableValidation(),te.enableValidation(),ne.enableValidation();var oe=new E({renderer:function(e){var t=re(e);oe.addItem(t)}},o),ie=new R(l);function ae(e,t){ie.open(e,t)}ie.setEventListeners();var ue=new N(r,(function(e){se.setUserData(e).then((function(e){pe.setUserInfo(e)})),ue.close()}));ue.setEventListeners();var ce=new Q(p);ce.setEventListeners();var se=new Z({url:"https://mesto.nomoreparties.co/v1/cohort-48",headers:{authorization:"25ce2e8c-2a55-4b07-a594-407cca6a6dd7","content-type":"application/json"}});se.getUserCards().then((function(e){return oe.renderItems(e)})).catch((function(e){console.log(e)}));var le=new N(y,(function(e){se.setAvatarData(e).then((function(e){pe.setAvatar(e)})),le.close()})),fe=new N(c,(function(e){se.pushNewCard(e).then((function(e){oe.addItem(re(e))})).catch((function(e){console.log(e)})),fe.close()}));fe.setEventListeners(),le.setEventListeners(),h.addEventListener("click",(function(){ne.resetVadlidation(),le.open(),ne.toggleButtonState()})),n.addEventListener("click",(function(){te.resetVadlidation();var e=pe.getUserInfo(),t=e.name,n=e.about;a.value=t,u.value=n,te.toggleButtonState(),ue.open()}));var pe=new X(e,t);pe.getUserId(),se.getUserData().then((function(e){pe.getUserInfo(),pe.setUserInfo(e),pe.setAvatar(e)})).catch((function(e){console.log(e)})),f.addEventListener("click",(function(){ee.resetVadlidation(),fe.open(),ee.toggleButtonState()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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IjpbIndlYnBhY2s6Ly9ibC8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vYmwvLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL2JsLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9ibC8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vYmwvLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9ibC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL2JsLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9ibC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm1hdGlvbi5qcyIsIndlYnBhY2s6Ly9ibC8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL2JsLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL2JsLy4vc3JjL3V0aWxzL2NvbmZpZy5qcyIsIndlYnBhY2s6Ly9ibC8uL3NyYy9wYWdlcy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgcHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fbmFtZScpO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVBYm91dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hYm91dCcpO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVFZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2VkaXQtYnV0dG9uJyk7XG5leHBvcnQgY29uc3QgcHJvZmlsZVBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX3R5cGVfcHJvZmlsZScpO1xuZXhwb3J0IGNvbnN0IGVsZW1lbnRMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnQtbGlzdCcpO1xuXG5leHBvcnQgY29uc3QgcHJvZmlsZUZvcm0gPSBwcm9maWxlUG9wdXAucXVlcnlTZWxlY3RvcignLmZvcm0nKTtcbmV4cG9ydCBjb25zdCBuYW1lSW5wdXQgPSBwcm9maWxlUG9wdXAucXVlcnlTZWxlY3RvcignLmZvcm1fX2lucHV0X3R5cGVfbmFtZScpO1xuZXhwb3J0IGNvbnN0IGpvYklucHV0ID0gcHJvZmlsZVBvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtX19pbnB1dF90eXBlX2Fib3V0Jyk7XG5leHBvcnQgY29uc3QgbmV3UGxhY2VQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF90eXBlX3BsYWNlJyk7XG5leHBvcnQgY29uc3QgZm9ybU5ld0VsZW1lbnQgPSBuZXdQbGFjZVBvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtJyk7XG5cbmV4cG9ydCBjb25zdCBwbGFjZU5hbWUgPSBuZXdQbGFjZVBvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtX19pbnB1dF90eXBlX25hbWUnKTtcbmV4cG9ydCBjb25zdCBwbGFjZVVybCA9IG5ld1BsYWNlUG9wdXAucXVlcnlTZWxlY3RvcignLmZvcm1fX2lucHV0X3R5cGVfYWJvdXQnKTtcblxuZXhwb3J0IGNvbnN0IHBpY3R1cmVQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF90eXBlX3BpYycpO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVQbGFjZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19wbGFjZS1idXR0b24nKTtcblxuZXhwb3J0IGNvbnN0IG5vdGlmaWNhdGlvblBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX3R5cGVfbm90aWZpY2F0aW9uJyk7XG5leHBvcnQgY29uc3QgYnRuT3ZlcmxheUF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19vdmVybGF5Jyk7XG5leHBvcnQgY29uc3QgYXZhdGFyUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfdHlwZV9mb3ItYXZhdGFyJyk7XG5leHBvcnQgY29uc3QgZm9ybU5ld0F2YXRhciA9IGF2YXRhclBvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtJyk7XG4iLCJleHBvcnQgY2xhc3MgRm9ybVZhbGlkYXRvciB7IC8qKiBAbW9kdWxlINCe0YLQstC10YfQsNC10YIg0LfQsCDQstCw0LvQuNC00LDRhtC40Y4g0YTQvtGA0LzRiyovXG4gICAgY29uc3RydWN0b3IoY29uZmlnLCBmb3JtRWxlbWVudCkge1xuICAgICAgICB0aGlzLl9jb25maWcgPSBjb25maWc7XG4gICAgICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XG4gICAgICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20oZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChjb25maWcuaW5wdXRTZWxlY3RvcikpO1xuICAgICAgICB0aGlzLl9idXR0b25FbGVtZW50ID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3Rvcihjb25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xuICAgIH07XG5cbiAgICBfaXNWYWxpZGl0eShpbnB1dEVsZW1lbnQpIHsgLy/Qv9GA0Y/Rh9C10YIg0LjQu9C4INC/0L7QutCw0LfRi9Cy0LDQtdGCINC+0YjQuNCx0LrQuCDQsiDQt9Cw0LLQuNGB0LjQvNC+0YHRgtC4INC+0YIg0LLQsNC70LjQtNC90L7RgdGC0Lgg0L/QvtC70LXQuSDQstGL0LfRi9Cy0LDQtdGCINGB0L7QvtGC0LIuINGE0YPQvdC60YbQuNGOXG4gICAgICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICAgICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBfaGFzSW52YWxpZElucHV0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7IC8vINC/0L7QutCw0LfRi9Cy0LDQtdGCINC+0YjQuNCx0LrQuFxuICAgICAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XG4gICAgICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2NvbmZpZy5pbnB1dEVycm9yQ2xhc3MpO1xuICAgICAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2U7XG4gICAgICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2NvbmZpZy5lcnJvckNsYXNzKTtcbiAgICB9O1xuXG4gICAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkgeyAvL9C/0YDRj9GH0LXRgiDQvtGI0LjQsdC60LhcbiAgICAgICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xuICAgICAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9jb25maWcuaW5wdXRFcnJvckNsYXNzKTtcbiAgICAgICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fY29uZmlnLmVycm9yQ2xhc3MpO1xuICAgICAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSAnJztcbiAgICB9O1xuXG4gICAgdG9nZ2xlQnV0dG9uU3RhdGUoKSB7IC8v0YDQtdCz0YPQu9C40YDRg9C10YIg0YHQvtGB0YLQvtGP0L3QuNC1INC60L3QvtC/0LrQuFxuICAgICAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcbiAgICAgICAgICAgIHRoaXMuX3NldERpc2FibGVkQnV0dG9uKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9zZXRFbmFibGVkQnV0dG9uKClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9zZXREaXNhYmxlZEJ1dHRvbigpIHsgLy/RgNC10LPRg9C70LjRgNGD0LXRgiDRgdC+0YHRgtC+0Y/QvdC40LUg0LrQvdC+0L/QutC4IG9mZlxuICAgICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgICAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBfc2V0RW5hYmxlZEJ1dHRvbigpIHsgLy/RgNC10LPRg9C70LjRgNGD0LXRgiDRgdC+0YHRgtC+0Y/QvdC40LUg0LrQvdC+0L/QutC4IG9uXG4gICAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9jb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcylcbiAgICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIHJlc2V0VmFkbGlkYXRpb24gPSAoKSA9PiB7IC8v0YHQsdGA0LDRgdGL0LLQsNC10YIg0YHQvtGB0YLQvtGP0L3QuNGPINC+0YjQuNCx0L7Quiwg0LjRgdC/0L7Qu9GM0LfRg9C10YLRgdGPINC/0YDQuCDQvtGC0LrRgNGL0YLQuNC4INC/0L7Qv9Cw0L/QvtCyXG4gICAgICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEl0ZW0pID0+IHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0SXRlbSkpO1xuICAgIH1cblxuICAgIF9zZXRFdmVudExpc3RlbmVycyA9ICgpID0+IHsgLy8g0YPRgdGC0LDQvdCw0LLQu9C40LLQstCw0LXRgiDRgdC70YPRiNCw0YLQtdC70LhcbiAgICAgICAgdGhpcy50b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgICAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICAgICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5faXNWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIHRoaXMudG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgZW5hYmxlVmFsaWRhdGlvbigpIHsgLy8g0LLQutC70Y7Rh9Cw0LXRgiDQstCw0LvQuNC00LDRhtC40Y4g0YTQvtGA0LzRi1xuICAgICAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICAgIH07XG59OyIsImV4cG9ydCBjbGFzcyBDYXJkIHtcbiAgICBjb25zdHJ1Y3RvcihkYXRhLCBoYW5kbGVDYXJkQ2xpY2ssIGNhcmR0ZW1wbGF0ZSwgaGFuZGxlUmVtb3ZlKSB7IC8qKiBAbW9kdWxlINCe0YLQstC10YfQsNC10YIg0LfQsCDQs9C10L3QtdGA0LDRhtC40Y4g0LrQsNGA0YIqL1xuICAgICAgICB0aGlzLl9kYXRhID0gZGF0YTtcblxuICAgICAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XG4gICAgICAgIHRoaXMuX2NhcmRUZW1wbGF0ZSA9IGNhcmR0ZW1wbGF0ZTtcbiAgICAgICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XG4gICAgICAgIHRoaXMubWFza0dyb3VwSW1nID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fbWFzay1ncm91cCcpO1xuICAgICAgICB0aGlzLm1hc2tHcm91cE5hbWUgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19wbGFjZS1uYW1lJyk7XG4gICAgICAgIHRoaXMuX2xpa2VCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19saWtlLWJ1dHRvbicpO1xuICAgICAgICB0aGlzLl9idG5SZW1vdmVDYXJkID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fYnRuLXJlbW92ZScpO1xuICAgICAgICB0aGlzLmxpa2VzRWxlbWVudCA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2xpa2UtY291bnRlcicpO1xuICAgICAgICB0aGlzLm1hc2tHcm91cEltZy5zcmMgPSB0aGlzLl9kYXRhLmxpbms7XG4gICAgICAgIHRoaXMubWFza0dyb3VwTmFtZS50ZXh0Q29udGVudCA9IHRoaXMuX2RhdGEubmFtZTtcbiAgICAgICAgdGhpcy5tYXNrR3JvdXBJbWcuYWx0ID0gdGhpcy5fZGF0YS5uYW1lO1xuICAgICAgICB0aGlzLmxpa2VzRWxlbWVudC50ZXh0Q29udGVudCA9IHRoaXMuX2RhdGEubGlrZXMubGVuZ3RoO1xuICAgICAgICB0aGlzLl9vd25lcklEID0gXCIyMzQxNjc5YjAxMTRiZjcyN2RhOGY0NzdcIjtcbiAgICAgICAgdGhpcy5kYXRhX2lkID0gZGF0YS5faWQ7XG4gICAgICAgIHRoaXMuX2lzQ2FyZE1pbmUgPSBkYXRhLm93bmVyLl9pZCA9PT0gdGhpcy5fb3duZXJJRDtcbiAgICAgICAgdGhpcy5fcmVtb3ZlUGljID0gaGFuZGxlUmVtb3ZlO1xuXG4gICAgICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKClcbiAgICB9XG5cbiAgICBfZ2V0VGVtcGxhdGUoKSB7XG4gICAgICAgIGNvbnN0IGNhcmROZXdFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkVGVtcGxhdGUpLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50XCIpLmNsb25lTm9kZSh0cnVlKTtcbiAgICAgICAgcmV0dXJuIGNhcmROZXdFbGVtZW50XG4gICAgfVxuICAgIGdlbmVyYXRlQ2FyZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2lzQ2FyZE1pbmUpIHtcbiAgICAgICAgICAgIHRoaXMuX2J0blJlbW92ZUNhcmQuY2xhc3NMaXN0LnJlbW92ZSgncG9wdXBfaGlkZGVuJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2VsZW1lbnRcbiAgICB9XG5cbiAgICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICAgIHRoaXMuX2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVMaWtlQnRuQ2xpY2soKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX2J0blJlbW92ZUNhcmQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX3JlbW92ZVBpYyh0aGlzLl9kYXRhLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlVHJhc2hCdG5DbGljaygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm1hc2tHcm91cEltZy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKHsgbmFtZTogdGhpcy5fZGF0YS5uYW1lLCBsaW5rOiB0aGlzLl9kYXRhLmxpbmsgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIF9oYW5kbGVMaWtlQnRuQ2xpY2soKSB7XG4gICAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LnRvZ2dsZSgnZWxlbWVudF9fbGlrZS1idXR0b25fYWN0aXZlJyk7XG4gICAgfVxuICAgIF9oYW5kbGVUcmFzaEJ0bkNsaWNrKCkge1xuICAgICAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xuICAgICAgICB0aGlzLl9lbGVtZW50ID0gbnVsbDtcbiAgICB9XG5cbn1cbiIsImV4cG9ydCBjbGFzcyBTZWN0aW9uIHsgLyoqIEBtb2R1bGUg0LrQu9Cw0YHRgSDQvtGC0YDQuNGB0L7QstC60Lgg0LzQsNGB0YHQuNCy0LAg0LrQsNGA0YLQvtGH0LXQui4gICovXG4gICAgY29uc3RydWN0b3IoeyByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xuXG4gICAgICAgIHRoaXMuX2Z1bmN0aW9uUmVuZGVyID0gcmVuZGVyZXI7XG4gICAgICAgIHRoaXMuX2NvbnRhaW5lciA9IGNvbnRhaW5lclNlbGVjdG9yO1xuICAgIH1cblxuICAgIHJlbmRlckl0ZW1zKGRhdGEpIHtcblxuICAgICAgICBkYXRhLnJldmVyc2UoKS5mb3JFYWNoKGl0ZW0gPT4gdGhpcy5fZnVuY3Rpb25SZW5kZXIoaXRlbSkpO1xuXG4gICAgfVxuICAgIGFkZEl0ZW0oZWxlbWVudCkge1xuXG4gICAgICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xuICAgIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBQb3B1cCB7XG4gICAgY29uc3RydWN0b3IocG9wdXBFbGVtZW50KSB7XG4gICAgICAgIHRoaXMuX3BvcHVwRWxlbWVudCA9IHBvcHVwRWxlbWVudDtcbiAgICAgICAgdGhpcy5faGFuZGxlRXNjQ2xvc2VCaW5kZWQgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xuICAgIH1cbiAgICBvcGVuKCkge1xuICAgICAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgncG9wdXBfb3BlbmVkJyk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZUJpbmRlZCk7XG4gICAgfVxuICAgIGNsb3NlKCkge1xuICAgICAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgncG9wdXBfb3BlbmVkJyk7XG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZUJpbmRlZCk7XG4gICAgfVxuICAgIF9oYW5kbGVFc2NDbG9zZShldnQpIHtcbiAgICAgICAgaWYgKGV2dC5rZXkgPT09ICdFc2NhcGUnKSB7XG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICAgIHRoaXMuX3BvcHVwRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoZXZ0KSA9PiB7XG4gICAgICAgICAgICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3BvcHVwX29wZW5lZCcpIHx8IChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncG9wdXBfX2Nsb3NlJykpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH1cbn1cbiIsImltcG9ydCB7IFBvcHVwIH0gZnJvbSAnLi9Qb3B1cC5qcydcblxuZXhwb3J0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAgeyAvKiogQG1vZHVsZSDQntGC0LLQtdGH0LDQtdGCINC30LAg0L7RgtC60YDRi9GC0LjQtSDQutCw0YDRgtC40L3QutC4Ki9cbiAgICBjb25zdHJ1Y3Rvcihwb3B1cEVsZW1lbnQpIHtcbiAgICAgICAgc3VwZXIocG9wdXBFbGVtZW50KTtcbiAgICAgICAgdGhpcy5fcG9wdXBQaG90b1RpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19jYXB0aW9uJyk7XG4gICAgICAgIHRoaXMuX3BvcHVwUGhvdG9JbWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2ltZycpO1xuICAgIH1cblxuICAgIG9wZW4oeyBuYW1lLCBsaW5rIH0pIHtcbiAgICAgICAgdGhpcy5fcG9wdXBQaG90b0ltZy5zcmMgPSBsaW5rO1xuICAgICAgICB0aGlzLl9wb3B1cFBob3RvSW1nLmFsdCA9IG5hbWU7XG4gICAgICAgIHRoaXMuX3BvcHVwUGhvdG9UaXRsZS50ZXh0Q29udGVudCA9IG5hbWU7XG5cbiAgICAgICAgc3VwZXIub3BlbigpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwLmpzXCJcblxuZXhwb3J0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7IC8qKiBAbW9kdWxlINCe0YLQstC10YfQsNC10YIg0LfQsCDQvtGC0LrRgNGL0YLQuNC1INC/0L7Qv9Cw0L/QvtCyINGE0L7RgNC8Ki9cbiAgICBjb25zdHJ1Y3Rvcihwb3B1cEVsZW1lbnQsIGhhbmRsZUZvcm1TdWJtaXQpIHtcbiAgICAgICAgc3VwZXIocG9wdXBFbGVtZW50KVxuICAgICAgICB0aGlzLl9wb3B1cEVsZW1lbnQgPSBwb3B1cEVsZW1lbnQ7XG4gICAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xuICAgICAgICB0aGlzLl9mb3JtRWxlbWVudCA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZm9ybScpO1xuICAgICAgICB0aGlzLl9mb3JtSW5wdXRMaXN0ID0gQXJyYXkuZnJvbSh0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZm9ybV9faW5wdXQnKSk7XG5cbiAgICB9XG4gICAgX2dldElucHV0VmFsdWVzKCkge1xuICAgICAgICB0aGlzLl9mb3JtVmFsdWVzID0ge307XG4gICAgICAgIHRoaXMuX2Zvcm1JbnB1dExpc3QuZm9yRWFjaChpbnB1dCA9PiB7XG4gICAgICAgICAgICB0aGlzLl9mb3JtVmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyDQstC+0LfQstGA0LDRidCw0LXQvCDQvtCx0YrQtdC60YIg0LfQvdCw0YfQtdC90LjQuVxuICAgICAgICByZXR1cm4gdGhpcy5fZm9ybVZhbHVlcztcbiAgICB9XG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgICAgIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldnQpID0+IHtcbiAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgc3VwZXIuY2xvc2UoKTtcbiAgICAgICAgdGhpcy5fZm9ybUVsZW1lbnQucmVzZXQoKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwLmpzXCJcbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhDb25maXJtYXRpb24gZXh0ZW5kcyBQb3B1cCB7XG4gICAgY29uc3RydWN0b3IocG9wdXBFbGVtZW50KSB7XG4gICAgICAgIHN1cGVyKHBvcHVwRWxlbWVudClcbiAgICAgICAgdGhpcy5fcG9wdXBFbGVtZW50ID0gcG9wdXBFbGVtZW50O1xuICAgICAgICB0aGlzLl9mb3JtRWxlbWVudCA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZm9ybScpO1xuICAgICAgICB0aGlzLl9zZXRDb25maXJtQWN0aW9uID0gKCkgPT4ge31cblxuICAgIH1cbiAgICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICAgICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICAgICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xuICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB0aGlzLl9zZXRDb25maXJtQWN0aW9uKCk7XG4gICAgICAgIH0pXG4gICAgfVxuICAgIHNldENvbmZpcm1BY3Rpb24oYWN0aW9uKSB7XG4gICAgICAgIHRoaXMuX3NldENvbmZpcm1BY3Rpb24gPSBhY3Rpb247XG4gICAgfVxuXG5cbn1cbiIsImV4cG9ydCBjbGFzcyBVc2VySW5mbyB7IC8qKiBAbW9kdWxlINCf0LXRgNC10LTQsNC10YIg0LjQvdGE0L7RgNC80LDRhtC40Y4g0L3QsCDRgdGC0YDQsNC90LjRhtGDICovXG4gICAgY29uc3RydWN0b3IodXNlck5hbWVTZWxlY3RvciwgdXNlckluZm9TZWxlY3Rvcikge1xuXG5cbiAgICAgICAgdGhpcy5fdXNlck5hbWUgPSB1c2VyTmFtZVNlbGVjdG9yO1xuICAgICAgICB0aGlzLl91c2VySW5mbyA9IHVzZXJJbmZvU2VsZWN0b3I7XG4gICAgICAgIHRoaXMuX2F2YXRhclNlbGVjdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2F2YXRhcicpO1xuICAgICAgICB0aGlzLl9pZCA9IGdldFVzZXJJZCgpO1xuICAgIH1cblxuICAgIC8v0J/Rg9Cx0LvQuNGH0L3Ri9C5INC80LXRgtC+0LQg0LLQvtC30LLRgNCw0YnQsNC10YIg0L7QsdGK0LXQutGCINGBINC00LDQvdC90YvQvNC4INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjywg0LjRgdC/0L7Qu9GM0LfRg9C10YLRgdGPINC/0YDQuCDQvtGC0LrRgNGL0YLQuNC4INC/0L7Qv9Cw0L/QsFxuICAgIGdldFVzZXJJbmZvKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGF0YTtcbiAgICB9XG5cblxuICAgIC8v0J/Rg9Cx0LvQuNGH0L3Ri9C5INC80LXRgtC+0LQg0L/RgNC40L3QuNC80LDQtdGCINC90L7QstGL0LUg0LTQsNC90L3Ri9C1INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjyDQuCDQtNC+0LHQsNCy0LvRj9C10YIg0LjRhSDQvdCwINGB0YLRgNCw0L3QuNGG0YNcbiAgICBzZXRVc2VySW5mbyhkYXRhKSB7XG4gICAgICAgIHRoaXMuX2RhdGEgPSBkYXRhO1xuICAgICAgICB0aGlzLl91c2VyTmFtZS50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcbiAgICAgICAgdGhpcy5fdXNlckluZm8udGV4dENvbnRlbnQgPSBkYXRhLmFib3V0O1xuICAgICAgICByZXR1cm4gdGhpcy5faWQgPSB0aGlzLl9kYXRhO1xuXG4gICAgfVxuICAgIGdldFVzZXJJZCgpIHtcblxuICAgICAgICByZXR1cm4gdGhpcy5faWQ7XG4gICAgfVxuICAgIHNldEF2YXRhcihkYXRhKSB7XG5cbiAgICAgICAgdGhpcy5fYXZhdGFyU2VsZWN0b3Iuc3JjID0gZGF0YS5hdmF0YXI7XG5cbiAgICB9XG59XG4iLCJleHBvcnQgY2xhc3MgQXBpIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuX3VybCA9IG9wdGlvbnMudXJsO1xuICAgICAgICB0aGlzLl9oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzO1xuXG4gICAgfVxuICAgIGdldFVzZXJEYXRhKCkge1xuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS91c2Vycy9tZWAsIHsgaGVhZGVyczogdGhpcy5faGVhZGVycyB9KVxuICAgICAgICAgICAgLnRoZW4ocmVzID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7IC8vINCy0YvQstC10LTQtdC8INC+0YjQuNCx0LrRgyDQsiDQutC+0L3RgdC+0LvRjFxuICAgICAgICAgICAgfSk7XG5cbiAgICB9XG4gICAgZ2V0VXNlckNhcmRzKCkge1xuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkc2AsIHsgaGVhZGVyczogdGhpcy5faGVhZGVycyB9KVxuICAgICAgICAgICAgLnRoZW4ocmVzID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7IC8vINCy0YvQstC10LTQtdC8INC+0YjQuNCx0LrRgyDQsiDQutC+0L3RgdC+0LvRjFxuICAgICAgICAgICAgfSk7XG4gICAgfVxuICAgIHNldFVzZXJEYXRhKGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vdXNlcnMvbWVgLCB7XG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgbmFtZTogZGF0YS5uYW1lLFxuICAgICAgICAgICAgICAgIGFib3V0OiBkYXRhLmFib3V0XG4gICAgICAgICAgICB9KVxuICAgICAgICB9KS50aGVuKHJlcyA9PiB7XG4gICAgICAgICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfVxuICAgIHNldEF2YXRhckRhdGEoZGF0YSkge1xuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgYXZhdGFyOiBkYXRhLmF2YXRhclxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSkudGhlbihyZXMgPT4ge1xuICAgICAgICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH1cbiAgICBwdXNoTmV3Q2FyZChkYXRhKSB7XG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzYCwge1xuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgbmFtZTogZGF0YS5uYW1lLFxuICAgICAgICAgICAgICAgIGxpbms6IGRhdGEubGlua1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfSkudGhlbihyZXMgPT4ge1xuICAgICAgICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuXG4gICAgfVxuXG4gICAgZGVsZXRlQ2FyZChkYXRhSWQpIHtcbiAgICAgICAgcmV0dXJuIGZldGNoKGBodHRwczovL21lc3RvLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTQ4L2NhcmRzLyR7ZGF0YUlkfWAsIHtcblxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICAgIH0pLnRoZW4ocmVzID0+IHtcbiAgICAgICAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcblxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH1cbiAgICBwdXRMaWtlKGRhdGFJZCkge1xuICAgICAgICByZXR1cm4gZmV0Y2goYGh0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtNDgvY2FyZHMvJHtkYXRhSWR9L2xpa2VzYCwge1xuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgIH0pLnRoZW4ocmVzID0+IHtcbiAgICAgICAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIHJlbW92ZUxpa2UoY2FyZElEKSB7XG4gICAgICAgIHJldHVybiBmZXRjaChgaHR0cHM6Ly9tZXN0by5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC00OC9jYXJkcy8ke2NhcmRJRH0vbGlrZXNgLCB7XG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgICAgfSkudGhlbihyZXMgPT4ge1xuICAgICAgICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IGNvbmZpZyA9IHtcbiAgICBmb3JtU2VsZWN0b3I6ICcuZm9ybScsXG4gICAgaW5wdXRTZWxlY3RvcjogJy5mb3JtX19pbnB1dCcsXG4gICAgc3VibWl0QnV0dG9uU2VsZWN0b3I6ICcuZm9ybV9fYm90dG9tLXN1Ym1pdCcsXG4gICAgaW5hY3RpdmVCdXR0b25DbGFzczogJ2Zvcm1fX2JvdHRvbS1zdWJtaXRfc3RhdHVzX2luYWN0aXZlJyxcbiAgICBpbnB1dEVycm9yQ2xhc3M6ICdmb3JtX19pbnB1dF90eXBlX2Vycm9yJyxcbiAgICBlcnJvckNsYXNzOiAnZm9ybV9faW5wdXQtZXJyb3JfYWN0aXZlJyxcbn07XG5leHBvcnQgY29uc3QgYXBpQ29uZmlnID0ge1xuICAgIHVybDogXCJodHRwczovL21lc3RvLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTQ4XCIsXG4gICAgaGVhZGVyczoge1xuICAgICAgICBhdXRob3JpemF0aW9uOiAnMjVjZTJlOGMtMmE1NS00YjA3LWE1OTQtNDA3Y2NhNmE2ZGQ3JyxcbiAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICB9XG59O1xuIiwiaW1wb3J0ICcuL2luZGV4LmNzcyc7XG5pbXBvcnQge1xuICAgIGZvcm1OZXdBdmF0YXIsXG4gICAgYXZhdGFyUG9wdXAsXG4gICAgYnRuT3ZlcmxheUF2YXRhcixcbiAgICBub3RpZmljYXRpb25Qb3B1cCxcbiAgICBwcm9maWxlTmFtZSxcbiAgICBwcm9maWxlQWJvdXQsXG4gICAgcHJvZmlsZUVkaXRCdXR0b24sXG4gICAgcHJvZmlsZVBvcHVwLFxuICAgIGVsZW1lbnRMaXN0LFxuICAgIHByb2ZpbGVGb3JtLFxuICAgIG5hbWVJbnB1dCxcbiAgICBqb2JJbnB1dCxcbiAgICBuZXdQbGFjZVBvcHVwLFxuICAgIGZvcm1OZXdFbGVtZW50LFxuICAgIHBpY3R1cmVQb3B1cCxcbiAgICBwcm9maWxlUGxhY2VCdXR0b25cbn0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzLmpzJztcblxuaW1wb3J0IHsgRm9ybVZhbGlkYXRvciB9IGZyb20gJy4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyc7XG5pbXBvcnQgeyBDYXJkIH0gZnJvbSAnLi4vY29tcG9uZW50cy9DYXJkLmpzJztcblxuaW1wb3J0IHsgU2VjdGlvbiB9IGZyb20gJy4uL2NvbXBvbmVudHMvU2VjdGlvbi5qcyc7XG5pbXBvcnQgeyBQb3B1cFdpdGhJbWFnZSB9IGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMnO1xuaW1wb3J0IHsgUG9wdXBXaXRoRm9ybSB9IGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyc7XG5pbXBvcnQgeyBQb3B1cFdpdGhDb25maXJtYXRpb24gfSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm1hdGlvbi5qcyc7XG5pbXBvcnQgeyBVc2VySW5mbyB9IGZyb20gJy4uL2NvbXBvbmVudHMvVXNlckluZm8uanMnO1xuaW1wb3J0IHsgQXBpIH0gZnJvbSAnLi4vY29tcG9uZW50cy9BcGkuanMnO1xuaW1wb3J0IHsgY29uZmlnLCBhcGlDb25maWcgfSBmcm9tICcuLi91dGlscy9jb25maWcuanMnO1xuXG5cblxuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiAtINC30LDQv9GD0YHQutCw0LXRgiDQstCw0LvQuNC00LDRhtC40Y4uXG4gKi9cbmNvbnN0IHZhbGlkYXRlRm9ybU5ld0VsZW1lbnQgPSBuZXcgRm9ybVZhbGlkYXRvcihjb25maWcsIGZvcm1OZXdFbGVtZW50KTtcbmNvbnN0IHZhbGlkYXRlUHJvZmlsZUZvcm0gPSBuZXcgRm9ybVZhbGlkYXRvcihjb25maWcsIHByb2ZpbGVGb3JtKTtcbmNvbnN0IHZhbGlkYXRlQXZhdGFGb3JtID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnLCBmb3JtTmV3QXZhdGFyKTtcblxudmFsaWRhdGVGb3JtTmV3RWxlbWVudC5lbmFibGVWYWxpZGF0aW9uKCk7XG52YWxpZGF0ZVByb2ZpbGVGb3JtLmVuYWJsZVZhbGlkYXRpb24oKTtcbnZhbGlkYXRlQXZhdGFGb3JtLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuLyoqXG4gKiBAZGVzY3JpcHRpb24gLSDRhNGD0L3QutGG0LjRjyDRgdC+0LfQtNCw0Y7RidCw0Y8g0LPQvtGC0L7QstGD0Y4g0LrQsNGA0YLQvtGH0LrRgyDRgSDQtNCw0L3QvdGL0LzQuC5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlQ2FyZENsYXNzKGRhdGEpIHtcbiAgICBjb25zdCBjYXJkID0gbmV3IENhcmQoXG4gICAgICAgIGRhdGEsXG4gICAgICAgIGhhbmRsZUNhcmRDbGljaywgJyNjYXJkX3RlbXBsYXRlJywgKGN1cnJlbnRDYXJkLCByZW1vdmVDYXJkKSA9PiB7XG4gICAgICAgICAgICBjb25maXJtUG9wdXAub3BlbigpO1xuICAgICAgICAgICAgY29uZmlybVBvcHVwLnNldENvbmZpcm1BY3Rpb24oKCkgPT4ge1xuICAgICAgICAgICAgICAgIGFwaS5kZWxldGVDYXJkKGN1cnJlbnRDYXJkLl9pZCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZUNhcmQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uZmlybVBvcHVwLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgIClcbiAgICBjb25zdCBjYXJkTmV3RWxlbWVudCA9IGNhcmQuZ2VuZXJhdGVDYXJkKCk7XG5cbiAgICByZXR1cm4gY2FyZE5ld0VsZW1lbnRcbn1cbi8vIGFwaS5wdXRMaWtlKClcblxuLyoqXG4gKiBAZGVzY3JpcHRpb24gLSDQlNC+0LHQsNCy0LvQtdC90LjQtSDQvdC+0LLQvtC5INC60LDRgNGC0L7Rh9C60Lgg0YfQtdGA0LXQtyDRhNC+0YDQvNGDLlxuICovXG5cblxuLyoqXG4gKiBAZGVzY3JpcHRpb24gLSDQutC70LDRgdGBINC+0YLRgNC40YHQvtCy0LrQuCDQvNCw0YHRgdC40LLQsCDQutCw0YDRgtC+0YfQtdC6LlxuICovXG5cbmNvbnN0IGNhcmRMaXN0ID0gbmV3IFNlY3Rpb24oe1xuICAgICAgICByZW5kZXJlcjogKGRhdGEpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBjcmVhdGVDYXJkQ2xhc3MoZGF0YSk7XG4gICAgICAgICAgICBjYXJkTGlzdC5hZGRJdGVtKGVsZW1lbnQpO1xuICAgICAgICB9LFxuICAgIH0sXG4gICAgZWxlbWVudExpc3Rcbik7XG5cblxuXG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIC0g0LrQu9Cw0YHRgSDQv9C+0L/QsNC/0LAg0LrQsNGA0YLQuNC90LrQuC5cbiAqL1xuY29uc3QgcG9wdXBQaWNlID0gbmV3IFBvcHVwV2l0aEltYWdlKHBpY3R1cmVQb3B1cClcbnBvcHVwUGljZS5zZXRFdmVudExpc3RlbmVycygpO1xuXG5mdW5jdGlvbiBoYW5kbGVDYXJkQ2xpY2sobmFtZSwgbGluaykge1xuICAgIHBvcHVwUGljZS5vcGVuKG5hbWUsIGxpbmspO1xufTtcblxuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiAtINC/0L7Qv9Cw0L8g0YDQtdC00LDQutGC0LjRgNCy0LDQvdC40Y8g0L/RgNC+0YTQuNC70Y8uXG4gKi9cblxuY29uc3QgaGFuZGxlUHJvZmlsZUZvcm1TdWJtaXQgPSAoZGF0YSkgPT4ge1xuICAgIGFwaS5zZXRVc2VyRGF0YShkYXRhKVxuICAgICAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICAgICAgcHJvZmlsZUluZm8uc2V0VXNlckluZm8oZGF0YSlcbiAgICAgICAgfSk7XG5cbiAgICBwb3B1cFByb2ZpbGVGb3JtLmNsb3NlKClcbn1cblxuY29uc3QgcG9wdXBQcm9maWxlRm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtKHByb2ZpbGVQb3B1cCwgaGFuZGxlUHJvZmlsZUZvcm1TdWJtaXQpO1xucG9wdXBQcm9maWxlRm9ybS5zZXRFdmVudExpc3RlbmVycygpO1xuXG5cbmNvbnN0IGNvbmZpcm1Qb3B1cCA9IG5ldyBQb3B1cFdpdGhDb25maXJtYXRpb24obm90aWZpY2F0aW9uUG9wdXApXG5jb25maXJtUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKVxuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiAtINC60LvQsNGB0YEg0YHQvtC00LXRgNC20LjRgiDQvNC10YLQvtC00YsgQVBJINC30LDQv9GA0L7RgdC+0LJcbiAqL1xuY29uc3QgYXBpID0gbmV3IEFwaShhcGlDb25maWcpO1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiAtINGE0YPQvdC60YbQuNGPINGB0L7Qt9C00LDRjtGJ0LDRjyDQutCw0YDRgtC+0YfQutC4INC40Lcg0LzQsNGB0YHQuNCy0LAuXG4gKi9cbmFwaS5nZXRVc2VyQ2FyZHMoKS50aGVuKHJlcyA9PiBjYXJkTGlzdC5yZW5kZXJJdGVtcyhyZXMpKS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgY29uc29sZS5sb2coZXJyKTsgLy8g0LLRi9Cy0LXQtNC10Lwg0L7RiNC40LHQutGDINCyINC60L7QvdGB0L7Qu9GMXG59KTtcblxuLyoqIEBkZXNjcmlwdGlvbiAtINCX0LDQs9GA0YPQt9C60LAg0LjQvdGE0L7RgNC80LDRhtC40Lgg0L4g0L/QvtC70YzQt9C+0LLQsNGC0LXQu9C1INGBINGB0LXRgNCy0LXRgNCwICovXG5cblxuXG5jb25zdCBhdmF0YXJGdW5jdGlvbiA9IChkYXRhKSA9PiB7XG4gICAgYXBpLnNldEF2YXRhckRhdGEoZGF0YSlcbiAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgICAgcHJvZmlsZUluZm8uc2V0QXZhdGFyKHJlcylcbiAgICAgICAgfSk7XG4gICAgcG9wdXBCeUF2YXRhci5jbG9zZSgpXG59XG5cbmNvbnN0IHBvcHVwQnlBdmF0YXIgPSBuZXcgUG9wdXBXaXRoRm9ybShhdmF0YXJQb3B1cCwgYXZhdGFyRnVuY3Rpb24pO1xuXG5cbmNvbnN0IGhhbmRsZUFkZEVsbUZvcm0gPSAoZGF0YSkgPT4ge1xuICAgIGFwaS5wdXNoTmV3Q2FyZChkYXRhKS50aGVuKChyZXMpID0+IHtcbiAgICAgICAgY2FyZExpc3QuYWRkSXRlbShjcmVhdGVDYXJkQ2xhc3MocmVzKSlcbiAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7IC8vINCy0YvQstC10LTQtdC8INC+0YjQuNCx0LrRgyDQsiDQutC+0L3RgdC+0LvRjFxuICAgIH0pO1xuICAgIHBvcHVwTmV3RWxlbWVudC5jbG9zZSgpXG59XG5jb25zdCBwb3B1cE5ld0VsZW1lbnQgPSBuZXcgUG9wdXBXaXRoRm9ybShuZXdQbGFjZVBvcHVwLCBoYW5kbGVBZGRFbG1Gb3JtKTtcbnBvcHVwTmV3RWxlbWVudC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5cblxucG9wdXBCeUF2YXRhci5zZXRFdmVudExpc3RlbmVycygpO1xuXG5idG5PdmVybGF5QXZhdGFyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIHZhbGlkYXRlQXZhdGFGb3JtLnJlc2V0VmFkbGlkYXRpb24oKTtcbiAgICBwb3B1cEJ5QXZhdGFyLm9wZW4oKTtcbiAgICB2YWxpZGF0ZUF2YXRhRm9ybS50b2dnbGVCdXR0b25TdGF0ZSgpO1xufSlcblxuXG5cblxuLyoqXG4gKiBAZGVzY3JpcHRpb24gLSDRgdC70YPRiNCw0YLQtdC70YwsINC60L7RgtC+0YDRi9C5INGB0LHRgNCw0YHRi9Cy0LDQtdGCINCy0LDQu9C40LTQsNGG0LjRjiDRhNC+0YDQvNGLINC/0YDQvtGE0LjQu9GPINC4INC/0LXRgNC10L3QvtGB0LjRgiDQt9C90LDRh9C10L3QuNGPINCyIGlucHV0c1xuICovXG5wcm9maWxlRWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICB2YWxpZGF0ZVByb2ZpbGVGb3JtLnJlc2V0VmFkbGlkYXRpb24oKTtcbiAgICBjb25zdCB7IG5hbWUsIGFib3V0IH0gPSBwcm9maWxlSW5mby5nZXRVc2VySW5mbygpO1xuICAgIG5hbWVJbnB1dC52YWx1ZSA9IG5hbWU7XG4gICAgam9iSW5wdXQudmFsdWUgPSBhYm91dDtcbiAgICB2YWxpZGF0ZVByb2ZpbGVGb3JtLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgcG9wdXBQcm9maWxlRm9ybS5vcGVuKClcbn0pO1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiAtINGD0L/RgNCw0LLQu9C10L3QuNC1INC+0YLQvtCx0YDQsNC20LXQvdC40LXQvCDQuNC90YTQvtGA0LzQsNGG0LjQuCDQviDQv9C+0LvRjNC30L7QstCw0YLQtdC70LUg0L3QsCDRgdGC0YDQsNC90LjRhtC1LlxuICovXG5jb25zdCBwcm9maWxlSW5mbyA9IG5ldyBVc2VySW5mbyhwcm9maWxlTmFtZSwgcHJvZmlsZUFib3V0KTtcblxucHJvZmlsZUluZm8uZ2V0VXNlcklkKClcbmFwaS5nZXRVc2VyRGF0YSgpLnRoZW4oKGRhdGEpID0+IHtcbiAgICBwcm9maWxlSW5mby5nZXRVc2VySW5mbygpLFxuICAgICAgICBwcm9maWxlSW5mby5zZXRVc2VySW5mbyhkYXRhKVxuICAgIHByb2ZpbGVJbmZvLnNldEF2YXRhcihkYXRhKVxufSkuY2F0Y2goKGVycikgPT4ge1xuICAgIGNvbnNvbGUubG9nKGVycik7IC8vINCy0YvQstC10LTQtdC8INC+0YjQuNCx0LrRgyDQsiDQutC+0L3RgdC+0LvRjFxufSk7XG5wcm9maWxlUGxhY2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgdmFsaWRhdGVGb3JtTmV3RWxlbWVudC5yZXNldFZhZGxpZGF0aW9uKCk7XG4gICAgcG9wdXBOZXdFbGVtZW50Lm9wZW4oKVxuICAgIHZhbGlkYXRlRm9ybU5ld0VsZW1lbnQudG9nZ2xlQnV0dG9uU3RhdGUoKTtcbn0pXG4iXSwibmFtZXMiOlsicHJvZmlsZU5hbWUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJwcm9maWxlQWJvdXQiLCJwcm9maWxlRWRpdEJ1dHRvbiIsInByb2ZpbGVQb3B1cCIsImVsZW1lbnRMaXN0IiwicHJvZmlsZUZvcm0iLCJuYW1lSW5wdXQiLCJqb2JJbnB1dCIsIm5ld1BsYWNlUG9wdXAiLCJmb3JtTmV3RWxlbWVudCIsInBpY3R1cmVQb3B1cCIsInByb2ZpbGVQbGFjZUJ1dHRvbiIsIm5vdGlmaWNhdGlvblBvcHVwIiwiYnRuT3ZlcmxheUF2YXRhciIsImF2YXRhclBvcHVwIiwiZm9ybU5ld0F2YXRhciIsIkZvcm1WYWxpZGF0b3IiLCJjb25maWciLCJmb3JtRWxlbWVudCIsIl9pbnB1dExpc3QiLCJmb3JFYWNoIiwiaW5wdXRJdGVtIiwiX2hpZGVJbnB1dEVycm9yIiwidG9nZ2xlQnV0dG9uU3RhdGUiLCJpbnB1dEVsZW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiX2lzVmFsaWRpdHkiLCJ0aGlzIiwiX2NvbmZpZyIsIl9mb3JtRWxlbWVudCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpbnB1dFNlbGVjdG9yIiwiX2J1dHRvbkVsZW1lbnQiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsInZhbGlkaXR5IiwidmFsaWQiLCJfc2hvd0lucHV0RXJyb3IiLCJzb21lIiwiZXJyb3JFbGVtZW50IiwiaWQiLCJjbGFzc0xpc3QiLCJhZGQiLCJpbnB1dEVycm9yQ2xhc3MiLCJ0ZXh0Q29udGVudCIsInZhbGlkYXRpb25NZXNzYWdlIiwiZXJyb3JDbGFzcyIsInJlbW92ZSIsIl9oYXNJbnZhbGlkSW5wdXQiLCJfc2V0RGlzYWJsZWRCdXR0b24iLCJfc2V0RW5hYmxlZEJ1dHRvbiIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJkaXNhYmxlZCIsIl9zZXRFdmVudExpc3RlbmVycyIsIkNhcmQiLCJkYXRhIiwiaGFuZGxlQ2FyZENsaWNrIiwiY2FyZHRlbXBsYXRlIiwiaGFuZGxlUmVtb3ZlIiwiX2RhdGEiLCJfaGFuZGxlQ2FyZENsaWNrIiwiX2NhcmRUZW1wbGF0ZSIsIl9lbGVtZW50IiwiX2dldFRlbXBsYXRlIiwibWFza0dyb3VwSW1nIiwibWFza0dyb3VwTmFtZSIsIl9saWtlQnV0dG9uIiwiX2J0blJlbW92ZUNhcmQiLCJsaWtlc0VsZW1lbnQiLCJzcmMiLCJsaW5rIiwibmFtZSIsImFsdCIsImxpa2VzIiwibGVuZ3RoIiwiX293bmVySUQiLCJkYXRhX2lkIiwiX2lkIiwiX2lzQ2FyZE1pbmUiLCJvd25lciIsIl9yZW1vdmVQaWMiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX2hhbmRsZUxpa2VCdG5DbGljayIsIl9oYW5kbGVUcmFzaEJ0bkNsaWNrIiwidG9nZ2xlIiwiU2VjdGlvbiIsImNvbnRhaW5lclNlbGVjdG9yIiwicmVuZGVyZXIiLCJfZnVuY3Rpb25SZW5kZXIiLCJfY29udGFpbmVyIiwicmV2ZXJzZSIsIml0ZW0iLCJlbGVtZW50IiwicHJlcGVuZCIsIlBvcHVwIiwicG9wdXBFbGVtZW50IiwiX3BvcHVwRWxlbWVudCIsIl9oYW5kbGVFc2NDbG9zZUJpbmRlZCIsIl9oYW5kbGVFc2NDbG9zZSIsImJpbmQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZXZ0Iiwia2V5IiwiY2xvc2UiLCJ0YXJnZXQiLCJjb250YWlucyIsIlBvcHVwV2l0aEltYWdlIiwiX3BvcHVwUGhvdG9UaXRsZSIsIl9wb3B1cFBob3RvSW1nIiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZUZvcm1TdWJtaXQiLCJfaGFuZGxlRm9ybVN1Ym1pdCIsIl9mb3JtSW5wdXRMaXN0IiwiX2Zvcm1WYWx1ZXMiLCJpbnB1dCIsInZhbHVlIiwicHJldmVudERlZmF1bHQiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJyZXNldCIsIlBvcHVwV2l0aENvbmZpcm1hdGlvbiIsIl9zZXRDb25maXJtQWN0aW9uIiwiYWN0aW9uIiwiVXNlckluZm8iLCJ1c2VyTmFtZVNlbGVjdG9yIiwidXNlckluZm9TZWxlY3RvciIsIl91c2VyTmFtZSIsIl91c2VySW5mbyIsIl9hdmF0YXJTZWxlY3RvciIsImdldFVzZXJJZCIsImFib3V0IiwiYXZhdGFyIiwiQXBpIiwib3B0aW9ucyIsIl91cmwiLCJ1cmwiLCJfaGVhZGVycyIsImhlYWRlcnMiLCJmZXRjaCIsInRoZW4iLCJyZXMiLCJvayIsImpzb24iLCJlcnIiLCJjb25zb2xlIiwibG9nIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJkYXRhSWQiLCJjYXJkSUQiLCJmb3JtU2VsZWN0b3IiLCJ2YWxpZGF0ZUZvcm1OZXdFbGVtZW50IiwidmFsaWRhdGVQcm9maWxlRm9ybSIsInZhbGlkYXRlQXZhdGFGb3JtIiwiY3JlYXRlQ2FyZENsYXNzIiwiY3VycmVudENhcmQiLCJyZW1vdmVDYXJkIiwiY29uZmlybVBvcHVwIiwib3BlbiIsInNldENvbmZpcm1BY3Rpb24iLCJhcGkiLCJkZWxldGVDYXJkIiwiZ2VuZXJhdGVDYXJkIiwiZW5hYmxlVmFsaWRhdGlvbiIsImNhcmRMaXN0IiwiYWRkSXRlbSIsInBvcHVwUGljZSIsInNldEV2ZW50TGlzdGVuZXJzIiwicG9wdXBQcm9maWxlRm9ybSIsInNldFVzZXJEYXRhIiwicHJvZmlsZUluZm8iLCJzZXRVc2VySW5mbyIsImF1dGhvcml6YXRpb24iLCJnZXRVc2VyQ2FyZHMiLCJyZW5kZXJJdGVtcyIsInBvcHVwQnlBdmF0YXIiLCJzZXRBdmF0YXJEYXRhIiwic2V0QXZhdGFyIiwicG9wdXBOZXdFbGVtZW50IiwicHVzaE5ld0NhcmQiLCJyZXNldFZhZGxpZGF0aW9uIiwiZ2V0VXNlckluZm8iLCJnZXRVc2VyRGF0YSJdLCJzb3VyY2VSb290IjoiIn0=