(()=>{"use strict";var e=document.querySelector(".profile__name"),t=document.querySelector(".profile__about"),n=document.querySelector(".profile__edit-button"),r=document.querySelector(".popup_type_profile"),o=document.querySelector(".element-list"),i=r.querySelector(".form"),a=r.querySelector(".form__input_type_name"),u=r.querySelector(".form__input_type_about"),c=document.querySelector(".popup_type_place"),s=c.querySelector(".form"),l=(c.querySelector(".form__input_type_name"),c.querySelector(".form__input_type_about"),document.querySelector(".popup_type_pic")),f=document.querySelector(".profile__place-button"),p=document.querySelector(".popup_type_notification"),h=document.querySelector(".profile__overlay"),y=document.querySelector(".popup_type_for-avatar"),d=y.querySelector(".form");function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),m(this,"resetVadlidation",(function(){r._inputList.forEach((function(e){return r._hideInputError(e)}))})),m(this,"_setEventListeners",(function(){r.toggleButtonState(),r._inputList.forEach((function(e){e.addEventListener("input",(function(){r._isValidity(e),r.toggleButtonState()}))}))})),this._config=t,this._formElement=n,this._inputList=Array.from(n.querySelectorAll(t.inputSelector)),this._buttonElement=n.querySelector(t.submitButtonSelector)}var t,n;return t=e,(n=[{key:"_isValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"_showInputError",value:function(e){var t=this._formElement.querySelector(".".concat(e.id,"-error"));console.log(t),e.classList.add(this._config.inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._config.errorClass)}},{key:"_hideInputError",value:function(e){var t=this._formElement.querySelector(".".concat(e.id,"-error"));e.classList.remove(this._config.inputErrorClass),t.classList.remove(this._config.errorClass),t.textContent=""}},{key:"toggleButtonState",value:function(){this._hasInvalidInput()?this._setDisabledButton():this._setEnabledButton()}},{key:"_setDisabledButton",value:function(){this._buttonElement.classList.add(this._config.inactiveButtonClass),this._buttonElement.disabled=!0}},{key:"_setEnabledButton",value:function(){this._buttonElement.classList.remove(this._config.inactiveButtonClass),this._buttonElement.disabled=!1}},{key:"enableValidation",value:function(){this._setEventListeners()}}])&&_(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var g=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._data=t,this._onLikeHandler=r.onLike,this._removePic=r.onDeleteCard,this._handleCardClick=r.onClick,this._cardTemplate=n,this._element=this._getTemplate(),this.maskGroupImg=this._element.querySelector(".element__mask-group"),this.maskGroupName=this._element.querySelector(".element__place-name"),this._likeButton=this._element.querySelector(".element__like-button"),this._btnRemoveCard=this._element.querySelector(".element__btn-remove"),this.likesElement=this._element.querySelector(".element__like-counter"),this.maskGroupImg.src=this._data.link,this.maskGroupName.textContent=this._data.name,this.maskGroupImg.alt=this._data.name,this.likesElement.textContent=this._data.likes.length,this.isLiked()?this._likeButton.classList.add("element__like-button_active"):this._likeButton.classList.remove("element__like-button_active"),this.isOwner()||this._btnRemoveCard.remove(),this._setEventListeners()}var t,n;return t=e,(n=[{key:"isLiked",value:function(){var e=this;return this._data.likes.some((function(t){return e._data.currentUser._id===t._id}))}},{key:"isOwner",value:function(){return this._data.currentUser._id===this._data.owner._id}},{key:"_handleLike",value:function(){var e=this;this._onLikeHandler(this._data,(function(t){e._data.likes=t,e._likeButton.classList.toggle("element__like-button_active",e.isLiked()),e.likesElement.textContent=e._data.likes.length}))}},{key:"_getTemplate",value:function(){return document.querySelector(this._cardTemplate).content.querySelector(".element").cloneNode(!0)}},{key:"generateCard",value:function(){return this._element}},{key:"_setEventListeners",value:function(){var e=this;this._likeButton.addEventListener("click",(function(){e._handleLike()})),this._btnRemoveCard.addEventListener("click",(function(){e._removePic(e._data,(function(){e._handleTrashBtnClick()}))})),this.maskGroupImg.addEventListener("click",(function(){e._handleCardClick({name:e._data.name,link:e._data.link})}))}},{key:"_handleTrashBtnClick",value:function(){this._element.remove(),this._element=null}}])&&b(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var w=function(){function e(t,n){var r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._functionRender=r,this._container=n}var t,n;return t=e,(n=[{key:"renderItems",value:function(e){var t=this;e.reverse().forEach((function(e){return t._functionRender(e)}))}},{key:"addItem",value:function(e){this._container.prepend(e)}}])&&k(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var E=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popupSelector=t,this._handleEscCloseBinded=this._handleEscClose.bind(this)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popupSelector.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscCloseBinded)}},{key:"close",value:function(){this._popupSelector.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscCloseBinded)}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this._popupSelector.addEventListener("mousedown",(function(t){(t.target.classList.contains("popup_opened")||t.target.classList.contains("popup__close"))&&e.close()}))}}])&&S(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(){return L="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=P(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},L.apply(this,arguments)}function P(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=R(e)););return e}function j(e,t){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},j(e,t)}function I(e,t){if(t&&("object"===O(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function R(e){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},R(e)}var B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&j(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=R(r);if(o){var n=R(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return I(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._popupPhotoTitle=document.querySelector(".popup__caption"),t._popupPhotoImg=document.querySelector(".popup__img"),t}return t=a,(n=[{key:"open",value:function(e){var t=e.name,n=e.link;this._popupPhotoImg.src=n,this._popupPhotoImg.alt=t,this._popupPhotoTitle.textContent=t,L(R(a.prototype),"open",this).call(this)}}])&&C(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(E);function q(e){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q(e)}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(){return D="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=x(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},D.apply(this,arguments)}function x(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=V(e)););return e}function A(e,t){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},A(e,t)}function U(e,t){if(t&&("object"===q(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function V(e){return V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},V(e)}var N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&A(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=V(r);if(o){var n=V(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return U(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e))._popupSelector=e,n._handleFormSubmit=t,n._formElement=n._popupSelector.querySelector(".form"),n._btnSave=n._formElement.querySelector(".form__bottom-submit"),n._btnSaveText=n._btnSave.textContent,n._formInputList=Array.from(n._formElement.querySelectorAll(".form__input")),n}return t=a,(n=[{key:"_getInputValues",value:function(){var e=this;return this._formValues={},this._formInputList.forEach((function(t){e._formValues[t.name]=t.value})),this._formValues}},{key:"setEventListeners",value:function(){var e=this;D(V(a.prototype),"setEventListeners",this).call(this),this._formElement.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit(e._getInputValues())}))}},{key:"saveButton",value:function(e){this._btnSave.textContent=e?"Сохранение...":this._btnSaveText}},{key:"close",value:function(){D(V(a.prototype),"close",this).call(this),this._formElement.reset()}}])&&T(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(E);function G(e){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G(e)}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function J(){return J="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=F(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},J.apply(this,arguments)}function F(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=$(e)););return e}function M(e,t){return M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},M(e,t)}function z(e,t){if(t&&("object"===G(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function $(e){return $=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$(e)}var K=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=$(r);if(o){var n=$(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return z(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._popupSelector=e,t._formElement=t._popupSelector.querySelector(".form"),t._setConfirmAction=function(){},t}return t=a,(n=[{key:"setEventListeners",value:function(){var e=this;J($(a.prototype),"setEventListeners",this).call(this),this._formElement.addEventListener("submit",(function(t){t.preventDefault(),e._setConfirmAction()}))}},{key:"setConfirmAction",value:function(e){this._setConfirmAction=e}}])&&H(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(E);function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var W=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._userName=t,this._userInfo=n,this._avatarSelector=document.querySelector(".profile__avatar")}var t,n;return t=e,(n=[{key:"getUserId",value:function(){return this._data}},{key:"getUserInfo",value:function(){var e={};return e.name=this._userName.textContent,e.about=this._userInfo.textContent,e.id=this._userId,e}},{key:"setUserInfo",value:function(e){this._data=e,this._userName.textContent=e.name,this._userInfo.textContent=e.about,this._avatarSelector.src=e.avatar,this._userId=e._id}}])&&Q(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Y=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._url=t.url,this._headers=t.headers}var t,n;return t=e,(n=[{key:"_getResponseData",value:function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}},{key:"getUserData",value:function(){return fetch("".concat(this._url,"/users/me"),{headers:this._headers}).then(this._getResponseData)}},{key:"getUserCards",value:function(){return fetch("".concat(this._url,"/cards"),{headers:this._headers}).then(this._getResponseData)}},{key:"setUserData",value:function(e){return fetch("".concat(this._url,"/users/me"),{headers:this._headers,method:"PATCH",body:JSON.stringify({name:e.name,about:e.about})}).then(this._getResponseData)}},{key:"setAvatarData",value:function(e){return fetch("".concat(this._url,"/users/me/avatar"),{headers:this._headers,method:"PATCH",body:JSON.stringify({avatar:e.avatar})}).then(this._getResponseData)}},{key:"pushNewCard",value:function(e){return fetch("".concat(this._url,"/cards"),{headers:this._headers,method:"POST",body:JSON.stringify({name:e.name,link:e.link})}).then(this._getResponseData)}},{key:"deleteCard",value:function(e){return fetch("https://mesto.nomoreparties.co/v1/cohort-48/cards/".concat(e),{headers:this._headers,method:"DELETE"}).then(this._getResponseData)}},{key:"setLike",value:function(e){return fetch("https://mesto.nomoreparties.co/v1/cohort-48/cards/".concat(e,"/likes"),{headers:this._headers,method:"PUT"}).then(this._getResponseData)}},{key:"removeLike",value:function(e){return fetch("https://mesto.nomoreparties.co/v1/cohort-48/cards/".concat(e,"/likes"),{headers:this._headers,method:"DELETE"}).then(this._getResponseData)}}])&&X(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Z={formSelector:".form",inputSelector:".form__input",submitButtonSelector:".form__bottom-submit",inactiveButtonClass:"form__bottom-submit_status_inactive",inputErrorClass:"form__input_type_error",errorClass:"form__input-error_active"};function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var te=new v(Z,s),ne=new v(Z,i),re=new v(Z,d);te.enableValidation(),ne.enableValidation(),re.enableValidation();var oe=new Y({url:"https://mesto.nomoreparties.co/v1/cohort-48",headers:{authorization:"25ce2e8c-2a55-4b07-a594-407cca6a6dd7","content-type":"application/json"}});function ie(e){e.currentUser=he.getUserId();var t=new g(e,"#card_template",{onClick:ce,onDeleteCard:function(e,t){le.open(),le.setConfirmAction((function(){oe.deleteCard(e._id).then((function(){t(),le.close()})).catch((function(e){console.log("Ошибка: ",e)}))}))},onLike:function(e,n){t.isLiked()?oe.removeLike(e._id).then((function(e){return n(e.likes)})).catch((function(e){console.log("Ошибка: ",e)})):oe.setLike(e._id).then((function(e){return n(e.likes)})).catch((function(e){console.log("Ошибка: ",e)}))}});return t.generateCard()}var ae=new w({renderer:function(e){var t=ie(e);ae.addItem(t)}},o),ue=new B(l);function ce(e,t){ue.open(e,t)}ue.setEventListeners(),n.addEventListener("click",(function(){ne.resetVadlidation();var e=he.getUserInfo(),t=e.name,n=e.about;a.value=t,u.value=n,ne.toggleButtonState(),se.open()}));var se=new N(r,(function(e){se.saveButton(!0),oe.setUserData(e).then((function(e){he.setUserInfo(e),se.close()})).catch((function(e){console.log("Ошибка: ",e)})).finally((function(){se.saveButton(!1)}))}));se.setEventListeners();var le=new K(p);le.setEventListeners(),Promise.all([oe.getUserCards(),oe.getUserData()]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ee(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];he.setUserInfo(i),ae.renderItems(o)})).catch((function(e){console.log(e)})),h.addEventListener("click",(function(){re.resetVadlidation(),fe.open(),re.toggleButtonState()}));var fe=new N(y,(function(e){fe.saveButton(!0),oe.setAvatarData(e).then((function(e){he.setUserInfo(e),fe.close()})).catch((function(e){console.log("Ошибка: ",e)})).finally((function(){fe.saveButton(!1)}))}));fe.setEventListeners();var pe=new N(c,(function(e){pe.saveButton(!0),oe.pushNewCard(e).then((function(e){ae.addItem(ie(e)),pe.close()})).catch((function(e){console.log(e)})).finally((function(){pe.saveButton(!1)}))}));pe.setEventListeners(),f.addEventListener("click",(function(){te.resetVadlidation(),pe.open(),te.toggleButtonState()}));var he=new W(e,t)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ZWJwYWNrOi8vYmwvLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL2JsLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9ibC8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vYmwvLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL2JsLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vYmwvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9ibC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vYmwvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtYXRpb24uanMiLCJ3ZWJwYWNrOi8vYmwvLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9ibC8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9ibC8uL3NyYy91dGlscy9jb25maWcuanMiLCJ3ZWJwYWNrOi8vYmwvLi9zcmMvcGFnZXMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IHByb2ZpbGVOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX25hbWUnKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlQWJvdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYWJvdXQnKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlRWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19lZGl0LWJ1dHRvbicpO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF90eXBlX3Byb2ZpbGUnKTtcbmV4cG9ydCBjb25zdCBlbGVtZW50TGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50LWxpc3QnKTtcblxuZXhwb3J0IGNvbnN0IHByb2ZpbGVGb3JtID0gcHJvZmlsZVBvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtJyk7XG5leHBvcnQgY29uc3QgbmFtZUlucHV0ID0gcHJvZmlsZVBvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtX19pbnB1dF90eXBlX25hbWUnKTtcbmV4cG9ydCBjb25zdCBqb2JJbnB1dCA9IHByb2ZpbGVQb3B1cC5xdWVyeVNlbGVjdG9yKCcuZm9ybV9faW5wdXRfdHlwZV9hYm91dCcpO1xuZXhwb3J0IGNvbnN0IG5ld1BsYWNlUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfdHlwZV9wbGFjZScpO1xuZXhwb3J0IGNvbnN0IGZvcm1OZXdFbGVtZW50ID0gbmV3UGxhY2VQb3B1cC5xdWVyeVNlbGVjdG9yKCcuZm9ybScpO1xuXG5leHBvcnQgY29uc3QgcGxhY2VOYW1lID0gbmV3UGxhY2VQb3B1cC5xdWVyeVNlbGVjdG9yKCcuZm9ybV9faW5wdXRfdHlwZV9uYW1lJyk7XG5leHBvcnQgY29uc3QgcGxhY2VVcmwgPSBuZXdQbGFjZVBvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtX19pbnB1dF90eXBlX2Fib3V0Jyk7XG5cbmV4cG9ydCBjb25zdCBwaWN0dXJlUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfdHlwZV9waWMnKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlUGxhY2VCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fcGxhY2UtYnV0dG9uJyk7XG5cbmV4cG9ydCBjb25zdCBub3RpZmljYXRpb25Qb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF90eXBlX25vdGlmaWNhdGlvbicpO1xuZXhwb3J0IGNvbnN0IGJ0bk92ZXJsYXlBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fb3ZlcmxheScpO1xuZXhwb3J0IGNvbnN0IGF2YXRhclBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX3R5cGVfZm9yLWF2YXRhcicpO1xuZXhwb3J0IGNvbnN0IGZvcm1OZXdBdmF0YXIgPSBhdmF0YXJQb3B1cC5xdWVyeVNlbGVjdG9yKCcuZm9ybScpO1xuIiwiZXhwb3J0IGNsYXNzIEZvcm1WYWxpZGF0b3IgeyAvKiogQG1vZHVsZSDQntGC0LLQtdGH0LDQtdGCINC30LAg0LLQsNC70LjQtNCw0YbQuNGOINGE0L7RgNC80YsqL1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZywgZm9ybUVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5fY29uZmlnID0gY29uZmlnO1xuICAgICAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xuICAgICAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoY29uZmlnLmlucHV0U2VsZWN0b3IpKTtcbiAgICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudCA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoY29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcbiAgICB9O1xuXG4gICAgX2lzVmFsaWRpdHkoaW5wdXRFbGVtZW50KSB7IC8v0L/RgNGP0YfQtdGCINC40LvQuCDQv9C+0LrQsNC30YvQstCw0LXRgiDQvtGI0LjQsdC60Lgg0LIg0LfQsNCy0LjRgdC40LzQvtGB0YLQuCDQvtGCINCy0LDQu9C40LTQvdC+0YHRgtC4INC/0L7Qu9C10Lkg0LLRi9C30YvQstCw0LXRgiDRgdC+0L7RgtCyLiDRhNGD0L3QutGG0LjRjlxuICAgICAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgX2hhc0ludmFsaWRJbnB1dCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCkgeyAvLyDQv9C+0LrQsNC30YvQstCw0LXRgiDQvtGI0LjQsdC60LhcbiAgICAgICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xuICAgICAgICBjb25zb2xlLmxvZyhlcnJvckVsZW1lbnQpXG4gICAgICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2NvbmZpZy5pbnB1dEVycm9yQ2xhc3MpO1xuICAgICAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2U7XG4gICAgICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2NvbmZpZy5lcnJvckNsYXNzKTtcbiAgICB9O1xuXG4gICAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkgeyAvL9C/0YDRj9GH0LXRgiDQvtGI0LjQsdC60LhcbiAgICAgICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xuICAgICAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9jb25maWcuaW5wdXRFcnJvckNsYXNzKTtcbiAgICAgICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fY29uZmlnLmVycm9yQ2xhc3MpO1xuICAgICAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSAnJztcbiAgICB9O1xuXG4gICAgdG9nZ2xlQnV0dG9uU3RhdGUoKSB7IC8v0YDQtdCz0YPQu9C40YDRg9C10YIg0YHQvtGB0YLQvtGP0L3QuNC1INC60L3QvtC/0LrQuFxuICAgICAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcbiAgICAgICAgICAgIHRoaXMuX3NldERpc2FibGVkQnV0dG9uKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9zZXRFbmFibGVkQnV0dG9uKClcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgX3NldERpc2FibGVkQnV0dG9uKCkgeyAvL9GA0LXQs9GD0LvQuNGA0YPQtdGCINGB0L7RgdGC0L7Rj9C90LjQtSDQutC90L7Qv9C60Lggb2ZmXG4gICAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9jb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIF9zZXRFbmFibGVkQnV0dG9uKCkgeyAvL9GA0LXQs9GD0LvQuNGA0YPQtdGCINGB0L7RgdGC0L7Rj9C90LjQtSDQutC90L7Qv9C60Lggb25cbiAgICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2NvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKVxuICAgICAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgcmVzZXRWYWRsaWRhdGlvbiA9ICgpID0+IHsgLy/RgdCx0YDQsNGB0YvQstCw0LXRgiDRgdC+0YHRgtC+0Y/QvdC40Y8g0L7RiNC40LHQvtC6LCDQuNGB0L/QvtC70YzQt9GD0LXRgtGB0Y8g0L/RgNC4INC+0YLQutGA0YvRgtC40Lgg0L/QvtC/0LDQv9C+0LJcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0SXRlbSkgPT4gdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRJdGVtKSk7XG4gICAgfVxuXG4gICAgX3NldEV2ZW50TGlzdGVuZXJzID0gKCkgPT4geyAvLyDRg9GB0YLQsNC90LDQstC70LjQstCy0LDQtdGCINGB0LvRg9GI0LDRgtC10LvQuFxuICAgICAgICB0aGlzLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9pc1ZhbGlkaXR5KGlucHV0RWxlbWVudCk7XG4gICAgICAgICAgICAgICAgdGhpcy50b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBlbmFibGVWYWxpZGF0aW9uKCkgeyAvLyDQstC60LvRjtGH0LDQtdGCINCy0LDQu9C40LTQsNGG0LjRjiDRhNC+0YDQvNGLXG4gICAgICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgfTtcbn07XG4iLCJleHBvcnQgY2xhc3MgQ2FyZCB7XG4gICAgY29uc3RydWN0b3IoZGF0YSwgY2FyZHRlbXBsYXRlLCBoYW5kbGVyKSB7IC8qKiBAbW9kdWxlINCe0YLQstC10YfQsNC10YIg0LfQsCDQs9C10L3QtdGA0LDRhtC40Y4g0LrQsNGA0YIqL1xuICAgICAgICB0aGlzLl9kYXRhID0gZGF0YTtcbiAgICAgICAgdGhpcy5fb25MaWtlSGFuZGxlciA9IGhhbmRsZXIub25MaWtlO1xuICAgICAgICB0aGlzLl9yZW1vdmVQaWMgPSBoYW5kbGVyLm9uRGVsZXRlQ2FyZDtcbiAgICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlci5vbkNsaWNrO1xuICAgICAgICB0aGlzLl9jYXJkVGVtcGxhdGUgPSBjYXJkdGVtcGxhdGU7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xuICAgICAgICB0aGlzLm1hc2tHcm91cEltZyA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX21hc2stZ3JvdXAnKTtcbiAgICAgICAgdGhpcy5tYXNrR3JvdXBOYW1lID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fcGxhY2UtbmFtZScpO1xuICAgICAgICB0aGlzLl9saWtlQnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fbGlrZS1idXR0b24nKTtcbiAgICAgICAgdGhpcy5fYnRuUmVtb3ZlQ2FyZCA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2J0bi1yZW1vdmUnKTtcbiAgICAgICAgdGhpcy5saWtlc0VsZW1lbnQgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19saWtlLWNvdW50ZXInKTtcbiAgICAgICAgdGhpcy5tYXNrR3JvdXBJbWcuc3JjID0gdGhpcy5fZGF0YS5saW5rO1xuICAgICAgICB0aGlzLm1hc2tHcm91cE5hbWUudGV4dENvbnRlbnQgPSB0aGlzLl9kYXRhLm5hbWU7XG4gICAgICAgIHRoaXMubWFza0dyb3VwSW1nLmFsdCA9IHRoaXMuX2RhdGEubmFtZTtcbiAgICAgICAgdGhpcy5saWtlc0VsZW1lbnQudGV4dENvbnRlbnQgPSB0aGlzLl9kYXRhLmxpa2VzLmxlbmd0aDtcbiAgICAgICAgaWYgKHRoaXMuaXNMaWtlZCgpKSB7XG4gICAgICAgICAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2VsZW1lbnRfX2xpa2UtYnV0dG9uX2FjdGl2ZScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdlbGVtZW50X19saWtlLWJ1dHRvbl9hY3RpdmUnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuaXNPd25lcigpKSB7XG4gICAgICAgICAgICB0aGlzLl9idG5SZW1vdmVDYXJkLnJlbW92ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKClcbiAgICB9XG5cbiAgICBpc0xpa2VkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGF0YS5saWtlcy5zb21lKChpdGVtKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZGF0YS5jdXJyZW50VXNlci5faWQgPT09IGl0ZW0uX2lkXG4gICAgICAgIH0pXG4gICAgfVxuICAgIGlzT3duZXIoKSB7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGEuY3VycmVudFVzZXIuX2lkID09PSB0aGlzLl9kYXRhLm93bmVyLl9pZFxuICAgIH1cblxuICAgIF9oYW5kbGVMaWtlKCkge1xuICAgICAgICAvLyDQstGL0LfQvtCyINC60L7Qu9Cx0LXQutCwLCDQutC+0YLQvtGA0YvQuSDQv9GA0LjRiNGR0Lsg0YHQvdCw0YDRg9C20LhcbiAgICAgICAgdGhpcy5fb25MaWtlSGFuZGxlcihcbiAgICAgICAgICAgIHRoaXMuX2RhdGEsXG4gICAgICAgICAgICAodXBkYXRlZExpa2VzKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZGF0YS5saWtlcyA9IHVwZGF0ZWRMaWtlcztcbiAgICAgICAgICAgICAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoJ2VsZW1lbnRfX2xpa2UtYnV0dG9uX2FjdGl2ZScsIHRoaXMuaXNMaWtlZCgpKTtcbiAgICAgICAgICAgICAgICB0aGlzLmxpa2VzRWxlbWVudC50ZXh0Q29udGVudCA9IHRoaXMuX2RhdGEubGlrZXMubGVuZ3RoO1xuICAgICAgICAgICAgfSk7XG4gICAgfVxuICAgIF9nZXRUZW1wbGF0ZSgpIHtcbiAgICAgICAgY29uc3QgY2FyZE5ld0VsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRUZW1wbGF0ZSkuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRcIikuY2xvbmVOb2RlKHRydWUpO1xuICAgICAgICByZXR1cm4gY2FyZE5ld0VsZW1lbnRcbiAgICB9XG4gICAgZ2VuZXJhdGVDYXJkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZWxlbWVudFxuICAgIH1cblxuICAgIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZUxpa2UoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX2J0blJlbW92ZUNhcmQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX3JlbW92ZVBpYyh0aGlzLl9kYXRhLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlVHJhc2hCdG5DbGljaygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm1hc2tHcm91cEltZy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKHsgbmFtZTogdGhpcy5fZGF0YS5uYW1lLCBsaW5rOiB0aGlzLl9kYXRhLmxpbmsgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfaGFuZGxlVHJhc2hCdG5DbGljaygpIHtcbiAgICAgICAgdGhpcy5fZWxlbWVudC5yZW1vdmUoKTtcbiAgICAgICAgdGhpcy5fZWxlbWVudCA9IG51bGw7XG4gICAgfVxuXG59XG4iLCJleHBvcnQgY2xhc3MgU2VjdGlvbiB7IC8qKiBAbW9kdWxlINC60LvQsNGB0YEg0L7RgtGA0LjRgdC+0LLQutC4INC80LDRgdGB0LjQstCwINC60LDRgNGC0L7Rh9C10LouICAqL1xuICAgIGNvbnN0cnVjdG9yKHsgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcbiAgICAgICAgdGhpcy5fZnVuY3Rpb25SZW5kZXIgPSByZW5kZXJlcjtcbiAgICAgICAgdGhpcy5fY29udGFpbmVyID0gY29udGFpbmVyU2VsZWN0b3I7XG4gICAgfVxuXG4gICAgcmVuZGVySXRlbXMoZGF0YSkge1xuICAgICAgICBkYXRhLnJldmVyc2UoKS5mb3JFYWNoKGl0ZW0gPT4gdGhpcy5fZnVuY3Rpb25SZW5kZXIoaXRlbSkpO1xuICAgIH1cblxuICAgIGFkZEl0ZW0oZWxlbWVudCkge1xuICAgICAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcbiAgICB9XG59XG4iLCJleHBvcnQgY2xhc3MgUG9wdXAge1xuICAgIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICAgICAgdGhpcy5fcG9wdXBTZWxlY3RvciA9IHBvcHVwU2VsZWN0b3I7XG4gICAgICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlQmluZGVkID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcbiAgICB9XG4gICAgb3BlbigpIHtcbiAgICAgICAgdGhpcy5fcG9wdXBTZWxlY3Rvci5jbGFzc0xpc3QuYWRkKCdwb3B1cF9vcGVuZWQnKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlQmluZGVkKTtcbiAgICB9XG4gICAgY2xvc2UoKSB7XG4gICAgICAgIHRoaXMuX3BvcHVwU2VsZWN0b3IuY2xhc3NMaXN0LnJlbW92ZSgncG9wdXBfb3BlbmVkJyk7XG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZUJpbmRlZCk7XG4gICAgfVxuICAgIF9oYW5kbGVFc2NDbG9zZShldnQpIHsgLy/QnNC10YLQvtC0INC/0L7Qt9Cy0L7Qu9GP0Y7RidC40Lkg0LfQsNC60YDRi9Cy0LDRgtGMINC/0L7Qv9Cw0L/RiyDQv9C+IEVzY1xuICAgICAgICBpZiAoZXZ0LmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXRFdmVudExpc3RlbmVycygpIHsgLy/QnNC10YLQvtC0INC/0L7Qt9Cy0L7Qu9GP0Y7RidC40Lkg0LfQsNC60YDRi9Cy0LDRgtGMINC/0L7Qv9Cw0L/RiyDQv9C+INC60LvQuNC60YMg0L3QsCDQutGA0LXRgdGC0LjQuiDQuCDQvtCy0LXRgNC70LXQuVxuICAgICAgICB0aGlzLl9wb3B1cFNlbGVjdG9yLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChldnQpID0+IHtcbiAgICAgICAgICAgIGlmIChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncG9wdXBfb3BlbmVkJykgfHwgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cF9fY2xvc2UnKSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUG9wdXAgfSBmcm9tICcuL1BvcHVwLmpzJ1xuXG5leHBvcnQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7IC8qKiBAbW9kdWxlINCe0YLQstC10YfQsNC10YIg0LfQsCDQvtGC0LrRgNGL0YLQuNC1INC60LDRgNGC0LjQvdC60LgqL1xuICAgIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICAgICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgICAgIHRoaXMuX3BvcHVwUGhvdG9UaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fY2FwdGlvbicpO1xuICAgICAgICB0aGlzLl9wb3B1cFBob3RvSW1nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbWcnKTtcbiAgICB9XG5cbiAgICBvcGVuKHsgbmFtZSwgbGluayB9KSB7IC8v0L7RgtC60YDRi9GC0LjQtSDQutCw0YDRgtC40L3QutC4INC4INC/0LXRgNC10LTQsNGH0LAg0LfQvdCw0YfQtdC90LjQuVxuICAgICAgICB0aGlzLl9wb3B1cFBob3RvSW1nLnNyYyA9IGxpbms7XG4gICAgICAgIHRoaXMuX3BvcHVwUGhvdG9JbWcuYWx0ID0gbmFtZTtcbiAgICAgICAgdGhpcy5fcG9wdXBQaG90b1RpdGxlLnRleHRDb250ZW50ID0gbmFtZTtcblxuICAgICAgICBzdXBlci5vcGVuKCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUG9wdXAgfSBmcm9tIFwiLi9Qb3B1cC5qc1wiXG5cbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAgeyAvKiogQG1vZHVsZSDQntGC0LLQtdGH0LDQtdGCINC30LAg0L7RgtC60YDRi9GC0LjQtSDQv9C+0L/QsNC/0L7QsiDRhNC+0YDQvCovXG4gICAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCkgeyAvL9Cf0LXRgNC10LTQsNC10Lwg0LrQvtC70LHQtdC6XG4gICAgICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpXG4gICAgICAgIHRoaXMuX3BvcHVwU2VsZWN0b3IgPSBwb3B1cFNlbGVjdG9yO1xuICAgICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcbiAgICAgICAgdGhpcy5fZm9ybUVsZW1lbnQgPSB0aGlzLl9wb3B1cFNlbGVjdG9yLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtJyk7XG4gICAgICAgIHRoaXMuX2J0blNhdmUgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZm9ybV9fYm90dG9tLXN1Ym1pdCcpO1xuICAgICAgICB0aGlzLl9idG5TYXZlVGV4dCA9IHRoaXMuX2J0blNhdmUudGV4dENvbnRlbnQ7XG4gICAgICAgIHRoaXMuX2Zvcm1JbnB1dExpc3QgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5mb3JtX19pbnB1dCcpKTsgLy/QodC+0LHQuNGA0LDQtdC8INC60L7Qu9C70LXQutGG0LjRjiDQuNC90L/Rg9GC0L7QslxuXG4gICAgfVxuICAgIF9nZXRJbnB1dFZhbHVlcygpIHtcbiAgICAgICAgdGhpcy5fZm9ybVZhbHVlcyA9IHt9OyAvL9Cf0LXRgNC10LTQsNC10Lwg0LjRhSDQsiDQvNCw0YHRgdC40LJcbiAgICAgICAgdGhpcy5fZm9ybUlucHV0TGlzdC5mb3JFYWNoKGlucHV0ID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2Zvcm1WYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vINCy0L7Qt9Cy0YDQsNGJ0LDQtdC8INC+0LHRitC10LrRgiDQt9C90LDRh9C10L3QuNC5XG4gICAgICAgIHJldHVybiB0aGlzLl9mb3JtVmFsdWVzO1xuICAgIH1cbiAgICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICAgICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICAgICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xuICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpOyAvL9Cf0LXRgNC10LTQsNC10Lwg0LTQsNC90L3Ri9C1INCyINC60L7Qu9Cx0LXQulxuICAgICAgICB9KVxuICAgIH1cbiAgICBzYXZlQnV0dG9uKGlzU2F2ZSkgeyAvL9Cc0LXRgtC+0LQg0YDQtdCw0LvQuNC30YPQtdGCIFVYINGBINC60L3QvtC/0LrQvtC5INCy0YHQtdGFIHN1Ym1pdCDQv9C+0L/QsNC/0L7QslxuICAgICAgICBpZiAoaXNTYXZlKSB7XG4gICAgICAgICAgICB0aGlzLl9idG5TYXZlLnRleHRDb250ZW50ID0gJ9Ch0L7RhdGA0LDQvdC10L3QuNC1Li4uJ1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fYnRuU2F2ZS50ZXh0Q29udGVudCA9IHRoaXMuX2J0blNhdmVUZXh0O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2xvc2UoKSB7IC8v0LfQsNC60YDRi9Cy0LDQtdGCINC4INC+0YLRh9C40YnQsNC10YIg0LjQvdC/0YPRgtGLXG4gICAgICAgIHN1cGVyLmNsb3NlKCk7XG4gICAgICAgIHRoaXMuX2Zvcm1FbGVtZW50LnJlc2V0KCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUG9wdXAgfSBmcm9tIFwiLi9Qb3B1cC5qc1wiXG5leHBvcnQgY2xhc3MgUG9wdXBXaXRoQ29uZmlybWF0aW9uIGV4dGVuZHMgUG9wdXAge1xuICAgIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICAgICAgc3VwZXIocG9wdXBTZWxlY3RvcilcbiAgICAgICAgdGhpcy5fcG9wdXBTZWxlY3RvciA9IHBvcHVwU2VsZWN0b3I7XG4gICAgICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gdGhpcy5fcG9wdXBTZWxlY3Rvci5xdWVyeVNlbGVjdG9yKCcuZm9ybScpO1xuICAgICAgICB0aGlzLl9zZXRDb25maXJtQWN0aW9uID0gKCkgPT4ge31cblxuICAgIH1cbiAgICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICAgICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICAgICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4geyAvL9Cf0L7QtNGC0LLQtdGA0LbQtNC10L3QuNC1INGD0LTQsNC70LXQvdC40Y9cbiAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgdGhpcy5fc2V0Q29uZmlybUFjdGlvbigpO1xuICAgICAgICB9KVxuICAgIH1cbiAgICBzZXRDb25maXJtQWN0aW9uKGFjdGlvbikgeyAvL9Cf0LXRgNC10LTQsNC10YIg0LrQvtC70LHQtdC6INCyINC60L7QvdGB0YLRgNGD0LrRgtC+0YBcbiAgICAgICAgdGhpcy5fc2V0Q29uZmlybUFjdGlvbiA9IGFjdGlvbjtcbiAgICB9XG5cblxufVxuIiwiZXhwb3J0IGNsYXNzIFVzZXJJbmZvIHsgLyoqIEBtb2R1bGUg0J/QtdGA0LXQtNCw0LXRgiDQuNC90YTQvtGA0LzQsNGG0LjRjiDQvdCwINGB0YLRgNCw0L3QuNGG0YMgKi9cbiAgICBjb25zdHJ1Y3Rvcih1c2VyTmFtZVNlbGVjdG9yLCB1c2VySW5mb1NlbGVjdG9yKSB7XG4gICAgICAgIHRoaXMuX3VzZXJOYW1lID0gdXNlck5hbWVTZWxlY3RvcjtcbiAgICAgICAgdGhpcy5fdXNlckluZm8gPSB1c2VySW5mb1NlbGVjdG9yO1xuICAgICAgICB0aGlzLl9hdmF0YXJTZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hdmF0YXInKTtcblxuICAgIH1cblxuICAgIC8v0J/Rg9Cx0LvQuNGH0L3Ri9C5INC80LXRgtC+0LQg0L/RgNC40L3QuNC80LDQtdGCINC+0LHRitC10LrRgiDRgSDQtNCw0L3QvdGL0LzQuCDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y9cbiAgICBnZXRVc2VySWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kYXRhO1xuXG4gICAgfVxuICAgIGdldFVzZXJJbmZvKCkge1xuICAgICAgICBjb25zdCB1c2VyRGF0YSA9IHt9O1xuICAgICAgICB1c2VyRGF0YS5uYW1lID0gdGhpcy5fdXNlck5hbWUudGV4dENvbnRlbnQ7XG4gICAgICAgIHVzZXJEYXRhLmFib3V0ID0gdGhpcy5fdXNlckluZm8udGV4dENvbnRlbnQ7XG4gICAgICAgIHVzZXJEYXRhLmlkID0gdGhpcy5fdXNlcklkO1xuXG4gICAgICAgIHJldHVybiB1c2VyRGF0YTtcbiAgICB9XG5cbiAgICBzZXRVc2VySW5mbyhkYXRhKSB7XG4gICAgICAgIHRoaXMuX2RhdGEgPSBkYXRhO1xuICAgICAgICB0aGlzLl91c2VyTmFtZS50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcbiAgICAgICAgdGhpcy5fdXNlckluZm8udGV4dENvbnRlbnQgPSBkYXRhLmFib3V0O1xuICAgICAgICB0aGlzLl9hdmF0YXJTZWxlY3Rvci5zcmMgPSBkYXRhLmF2YXRhcjtcbiAgICAgICAgdGhpcy5fdXNlcklkID0gZGF0YS5faWQ7XG4gICAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIEFwaSB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICB0aGlzLl91cmwgPSBvcHRpb25zLnVybDtcbiAgICAgICAgdGhpcy5faGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycztcblxuICAgIH1cbiAgICBfZ2V0UmVzcG9uc2VEYXRhKHJlcykge1xuICAgICAgICBpZiAoIXJlcy5vaykge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LA6ICR7cmVzLnN0YXR1c31gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICB9XG4gICAgZ2V0VXNlckRhdGEoKSB7XG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L3VzZXJzL21lYCwgeyBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzIH0pXG4gICAgICAgICAgICAudGhlbih0aGlzLl9nZXRSZXNwb25zZURhdGEpXG4gICAgfVxuICAgIGdldFVzZXJDYXJkcygpIHtcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vY2FyZHNgLCB7IGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMgfSlcbiAgICAgICAgICAgIC50aGVuKHRoaXMuX2dldFJlc3BvbnNlRGF0YSlcbiAgICB9XG4gICAgc2V0VXNlckRhdGEoZGF0YSkge1xuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS91c2Vycy9tZWAsIHtcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICAgICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICBuYW1lOiBkYXRhLm5hbWUsXG4gICAgICAgICAgICAgICAgYWJvdXQ6IGRhdGEuYWJvdXRcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pLnRoZW4odGhpcy5fZ2V0UmVzcG9uc2VEYXRhKVxuICAgIH1cbiAgICBzZXRBdmF0YXJEYXRhKGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgICAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgIGF2YXRhcjogZGF0YS5hdmF0YXJcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pLnRoZW4odGhpcy5fZ2V0UmVzcG9uc2VEYXRhKVxuICAgIH1cbiAgICBwdXNoTmV3Q2FyZChkYXRhKSB7XG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzYCwge1xuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgbmFtZTogZGF0YS5uYW1lLFxuICAgICAgICAgICAgICAgIGxpbms6IGRhdGEubGlua1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfSkudGhlbih0aGlzLl9nZXRSZXNwb25zZURhdGEpXG5cbiAgICB9XG5cbiAgICBkZWxldGVDYXJkKGNhcmRJRCkge1xuICAgICAgICByZXR1cm4gZmV0Y2goYGh0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtNDgvY2FyZHMvJHtjYXJkSUR9YCwge1xuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICAgIH0pLnRoZW4odGhpcy5fZ2V0UmVzcG9uc2VEYXRhKVxuICAgIH1cbiAgICBzZXRMaWtlKGNhcmRJRCkge1xuICAgICAgICByZXR1cm4gZmV0Y2goYGh0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtNDgvY2FyZHMvJHtjYXJkSUR9L2xpa2VzYCwge1xuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgIH0pLnRoZW4odGhpcy5fZ2V0UmVzcG9uc2VEYXRhKVxuICAgIH1cblxuICAgIHJlbW92ZUxpa2UoY2FyZElEKSB7XG4gICAgICAgIHJldHVybiBmZXRjaChgaHR0cHM6Ly9tZXN0by5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC00OC9jYXJkcy8ke2NhcmRJRH0vbGlrZXNgLCB7XG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgICAgfSkudGhlbih0aGlzLl9nZXRSZXNwb25zZURhdGEpXG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IGNvbmZpZyA9IHtcbiAgICBmb3JtU2VsZWN0b3I6ICcuZm9ybScsXG4gICAgaW5wdXRTZWxlY3RvcjogJy5mb3JtX19pbnB1dCcsXG4gICAgc3VibWl0QnV0dG9uU2VsZWN0b3I6ICcuZm9ybV9fYm90dG9tLXN1Ym1pdCcsXG4gICAgaW5hY3RpdmVCdXR0b25DbGFzczogJ2Zvcm1fX2JvdHRvbS1zdWJtaXRfc3RhdHVzX2luYWN0aXZlJyxcbiAgICBpbnB1dEVycm9yQ2xhc3M6ICdmb3JtX19pbnB1dF90eXBlX2Vycm9yJyxcbiAgICBlcnJvckNsYXNzOiAnZm9ybV9faW5wdXQtZXJyb3JfYWN0aXZlJyxcbn07XG5leHBvcnQgY29uc3QgYXBpQ29uZmlnID0ge1xuICAgIHVybDogXCJodHRwczovL21lc3RvLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTQ4XCIsXG4gICAgaGVhZGVyczoge1xuICAgICAgICBhdXRob3JpemF0aW9uOiAnMjVjZTJlOGMtMmE1NS00YjA3LWE1OTQtNDA3Y2NhNmE2ZGQ3JyxcbiAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICB9XG59O1xuIiwiaW1wb3J0ICcuL2luZGV4LmNzcyc7XG5pbXBvcnQge1xuICAgIGZvcm1OZXdBdmF0YXIsXG4gICAgYXZhdGFyUG9wdXAsXG4gICAgYnRuT3ZlcmxheUF2YXRhcixcbiAgICBub3RpZmljYXRpb25Qb3B1cCxcbiAgICBwcm9maWxlTmFtZSxcbiAgICBwcm9maWxlQWJvdXQsXG4gICAgcHJvZmlsZUVkaXRCdXR0b24sXG4gICAgcHJvZmlsZVBvcHVwLFxuICAgIGVsZW1lbnRMaXN0LFxuICAgIHByb2ZpbGVGb3JtLFxuICAgIG5hbWVJbnB1dCxcbiAgICBqb2JJbnB1dCxcbiAgICBuZXdQbGFjZVBvcHVwLFxuICAgIGZvcm1OZXdFbGVtZW50LFxuICAgIHBpY3R1cmVQb3B1cCxcbiAgICBwcm9maWxlUGxhY2VCdXR0b25cbn0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzLmpzJztcbmltcG9ydCB7IEZvcm1WYWxpZGF0b3IgfSBmcm9tICcuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMnO1xuaW1wb3J0IHsgQ2FyZCB9IGZyb20gJy4uL2NvbXBvbmVudHMvQ2FyZC5qcyc7XG5pbXBvcnQgeyBTZWN0aW9uIH0gZnJvbSAnLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzJztcbmltcG9ydCB7IFBvcHVwV2l0aEltYWdlIH0gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyc7XG5pbXBvcnQgeyBQb3B1cFdpdGhGb3JtIH0gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzJztcbmltcG9ydCB7IFBvcHVwV2l0aENvbmZpcm1hdGlvbiB9IGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybWF0aW9uLmpzJztcbmltcG9ydCB7IFVzZXJJbmZvIH0gZnJvbSAnLi4vY29tcG9uZW50cy9Vc2VySW5mby5qcyc7XG5pbXBvcnQgeyBBcGkgfSBmcm9tICcuLi9jb21wb25lbnRzL0FwaS5qcyc7XG5pbXBvcnQgeyBjb25maWcsIGFwaUNvbmZpZyB9IGZyb20gJy4uL3V0aWxzL2NvbmZpZy5qcyc7XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIC0g0KHQvtC30LTQsNC90LjQtSDQutC70LDRgdGB0L7QsiDQstCw0LvQuNC00LDRhtC40Lgg0YTQvtGA0Lwg0L/QvtC/0LDQv9C+0LIo0J/RgNC+0YTQuNC70YwsINC00L7QsdCw0LLQu9C10L3QuNC1INC60LDRgNGCLCDRgdC80LXQvdCwINCw0LLQsNGC0LDRgNCwKSzQt9Cw0L/Rg9GB0LrQsNC10YIg0LLQsNC70LjQtNCw0YbQuNGOLlxuICovXG5jb25zdCB2YWxpZGF0ZUZvcm1OZXdFbGVtZW50ID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnLCBmb3JtTmV3RWxlbWVudCk7XG5jb25zdCB2YWxpZGF0ZVByb2ZpbGVGb3JtID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnLCBwcm9maWxlRm9ybSk7XG5jb25zdCB2YWxpZGF0ZUF2YXRhRm9ybSA9IG5ldyBGb3JtVmFsaWRhdG9yKGNvbmZpZywgZm9ybU5ld0F2YXRhcik7XG5cbnZhbGlkYXRlRm9ybU5ld0VsZW1lbnQuZW5hYmxlVmFsaWRhdGlvbigpO1xudmFsaWRhdGVQcm9maWxlRm9ybS5lbmFibGVWYWxpZGF0aW9uKCk7XG52YWxpZGF0ZUF2YXRhRm9ybS5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIC0g0LrQu9Cw0YHRgSDRgdC+0LTQtdGA0LbQuNGCINC80LXRgtC+0LTRiyBBUEkg0LfQsNC/0YDQvtGB0L7QslxuICovXG5jb25zdCBhcGkgPSBuZXcgQXBpKGFwaUNvbmZpZyk7XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIC0g0YTRg9C90LrRhtC40Y8g0LLRi9C30YvQstCw0Y7RidCw0Y8g0LzQtdGC0L7QtNGLINC60LvQsNGB0YHQvtCyIEFQSSwgVXNlckluZm8sIFBvcHVwV2l0aEZvcm0u0KHQvtC30LTQsNGO0YnQsNGPINC60LDRgNGC0L7Rh9C60YMg0Lgg0L3QsNC/0L7Qu9C90Y/QtdGCINGE0YPQvdC60YbQuNC+0L3QsNC70YzQvdC+0YHRgtGM0Y5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlQ2FyZENsYXNzKGRhdGEpIHtcbiAgICBkYXRhLmN1cnJlbnRVc2VyID0gcHJvZmlsZUluZm8uZ2V0VXNlcklkKCk7XG4gICAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKFxuICAgICAgICBkYXRhLCAnI2NhcmRfdGVtcGxhdGUnLCB7XG4gICAgICAgICAgICBvbkNsaWNrOiBoYW5kbGVDYXJkQ2xpY2ssIC8vINC+0YLQutGA0YvRgtC40LUg0L/QvtC/0LDQv9CwXG4gICAgICAgICAgICBvbkRlbGV0ZUNhcmQ6IChjdXJyZW50Q2FyZCwgcmVtb3ZlQ2FyZCkgPT4geyAvLyDRhNGD0L3QutGG0LjQvtC90LDQu9GM0L3QvtGB0YLRjCDRg9C00LDQu9C10L3QuNC1INC60LDRgNGC0YtcbiAgICAgICAgICAgICAgICBjb25maXJtUG9wdXAub3BlbigpO1xuICAgICAgICAgICAgICAgIGNvbmZpcm1Qb3B1cC5zZXRDb25maXJtQWN0aW9uKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgYXBpLmRlbGV0ZUNhcmQoY3VycmVudENhcmQuX2lkKS50aGVuKCgpID0+IHsgLy8g0L7RgtC/0YDQsNCy0LvRj9C10Lwg0LfQsNC/0YDQvtGBXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlQ2FyZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpcm1Qb3B1cC5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ9Ce0YjQuNCx0LrQsDogJywgZXJyKTsgLy8g0LLRi9Cy0LXQtNC10Lwg0L7RiNC40LHQutGDINCyINC60L7QvdGB0L7Qu9GMXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkxpa2U6IChjdXJyZW50Q2FyZCwgbGlrZUNhbGxiYWNrKSA9PiB7IC8vINGE0YPQvdC60YbQuNC+0L3QsNC70YzQvdC+0YHRgtGMINC/0L7RgdGC0LDQvdC+0LLQutC4INC70LDQudC60LBcbiAgICAgICAgICAgICAgICBpZiAoY2FyZC5pc0xpa2VkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgYXBpLnJlbW92ZUxpa2UoY3VycmVudENhcmQuX2lkKS50aGVuKCh1cGRhdGVkQ2FyZCkgPT4gbGlrZUNhbGxiYWNrKHVwZGF0ZWRDYXJkLmxpa2VzKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ9Ce0YjQuNCx0LrQsDogJywgZXJyKTsgLy8g0LLRi9Cy0LXQtNC10Lwg0L7RiNC40LHQutGDINCyINC60L7QvdGB0L7Qu9GMXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhcGkuc2V0TGlrZShjdXJyZW50Q2FyZC5faWQpLnRoZW4oKHVwZGF0ZWRDYXJkKSA9PiBsaWtlQ2FsbGJhY2sodXBkYXRlZENhcmQubGlrZXMpKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn0J7RiNC40LHQutCwOiAnLCBlcnIpOyAvLyDQstGL0LLQtdC00LXQvCDQvtGI0LjQsdC60YMg0LIg0LrQvtC90YHQvtC70YxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICBjb25zdCBjYXJkTmV3RWxlbWVudCA9IGNhcmQuZ2VuZXJhdGVDYXJkKCk7XG4gICAgcmV0dXJuIGNhcmROZXdFbGVtZW50O1xufVxuXG5jb25zdCBjYXJkTGlzdCA9IG5ldyBTZWN0aW9uKHtcbiAgICAgICAgcmVuZGVyZXI6IChkYXRhKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gY3JlYXRlQ2FyZENsYXNzKGRhdGEpO1xuICAgICAgICAgICAgY2FyZExpc3QuYWRkSXRlbShlbGVtZW50KTtcbiAgICAgICAgfSxcbiAgICB9LFxuICAgIGVsZW1lbnRMaXN0XG4pO1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiAtINC60LvQsNGB0YEg0L/QvtC/0LDQv9CwINC60LDRgNGC0LjQvdC60LguXG4gKi9cbmNvbnN0IHBvcHVwUGljZSA9IG5ldyBQb3B1cFdpdGhJbWFnZShwaWN0dXJlUG9wdXApXG5wb3B1cFBpY2Uuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuZnVuY3Rpb24gaGFuZGxlQ2FyZENsaWNrKG5hbWUsIGxpbmspIHtcbiAgICBwb3B1cFBpY2Uub3BlbihuYW1lLCBsaW5rKTtcbn07XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIC0g0L/QvtC/0LDQvyDRgNC10LTQsNC60YLQuNGA0LLQsNC90LjRjyDQv9GA0L7RhNC40LvRjy5cbiAqL1xucHJvZmlsZUVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgdmFsaWRhdGVQcm9maWxlRm9ybS5yZXNldFZhZGxpZGF0aW9uKCk7XG4gICAgY29uc3QgeyBuYW1lLCBhYm91dCB9ID0gcHJvZmlsZUluZm8uZ2V0VXNlckluZm8oKTtcbiAgICBuYW1lSW5wdXQudmFsdWUgPSBuYW1lO1xuICAgIGpvYklucHV0LnZhbHVlID0gYWJvdXQ7XG4gICAgdmFsaWRhdGVQcm9maWxlRm9ybS50b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgIHBvcHVwUHJvZmlsZUZvcm0ub3BlbigpXG59KTtcbmNvbnN0IGhhbmRsZVByb2ZpbGVGb3JtU3VibWl0ID0gKGRhdGEpID0+IHsgLy8g0LrQvtC70LHQtdC6IDEzMCDRgdGC0YDQvtC60LBcbiAgICBwb3B1cFByb2ZpbGVGb3JtLnNhdmVCdXR0b24odHJ1ZSk7XG4gICAgYXBpLnNldFVzZXJEYXRhKGRhdGEpXG4gICAgICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgICAgICBwcm9maWxlSW5mby5zZXRVc2VySW5mbyhkYXRhKTtcbiAgICAgICAgICAgIHBvcHVwUHJvZmlsZUZvcm0uY2xvc2UoKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfQntGI0LjQsdC60LA6ICcsIGVycik7IC8vINCy0YvQstC10LTQtdC8INC+0YjQuNCx0LrRgyDQsiDQutC+0L3RgdC+0LvRjFxuICAgICAgICB9KVxuICAgICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAgICAgICBwb3B1cFByb2ZpbGVGb3JtLnNhdmVCdXR0b24oZmFsc2UpO1xuICAgICAgICB9KTtcblxufVxuXG5jb25zdCBwb3B1cFByb2ZpbGVGb3JtID0gbmV3IFBvcHVwV2l0aEZvcm0ocHJvZmlsZVBvcHVwLCBoYW5kbGVQcm9maWxlRm9ybVN1Ym1pdCk7XG5wb3B1cFByb2ZpbGVGb3JtLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIC0g0J/QvtC/0LDQvyDQv9C10YDQtdC0INGD0LTQsNC70LXQvdC40LXQvCDQutCw0YDRgtGLLlxuICovXG5cbmNvbnN0IGNvbmZpcm1Qb3B1cCA9IG5ldyBQb3B1cFdpdGhDb25maXJtYXRpb24obm90aWZpY2F0aW9uUG9wdXApO1xuY29uZmlybVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cblByb21pc2UuYWxsKFthcGkuZ2V0VXNlckNhcmRzKCksIGFwaS5nZXRVc2VyRGF0YSgpXSlcbiAgICAudGhlbigoW2luaXRpYWxDYXJkcywgZGF0YV0pID0+IHtcbiAgICAgICAgcHJvZmlsZUluZm8uc2V0VXNlckluZm8oZGF0YSlcbiAgICAgICAgY2FyZExpc3QucmVuZGVySXRlbXMoaW5pdGlhbENhcmRzKVxuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTsgLy8g0LLRi9Cy0LXQtNC10Lwg0L7RiNC40LHQutGDINCyINC60L7QvdGB0L7Qu9GMXG4gICAgfSk7XG5cbi8qKiBAZGVzY3JpcHRpb24gLSDQoNCw0LHQvtGC0LAg0YEg0LDQstCw0YLQsNGA0L7QvCDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y8gKi9cblxuYnRuT3ZlcmxheUF2YXRhci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICB2YWxpZGF0ZUF2YXRhRm9ybS5yZXNldFZhZGxpZGF0aW9uKCk7XG4gICAgcG9wdXBCeUF2YXRhci5vcGVuKCk7XG4gICAgdmFsaWRhdGVBdmF0YUZvcm0udG9nZ2xlQnV0dG9uU3RhdGUoKTtcbn0pXG5cbmNvbnN0IGF2YXRhckZ1bmN0aW9uID0gKGRhdGEpID0+IHtcbiAgICBwb3B1cEJ5QXZhdGFyLnNhdmVCdXR0b24odHJ1ZSk7XG4gICAgYXBpLnNldEF2YXRhckRhdGEoZGF0YSlcbiAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgICAgcHJvZmlsZUluZm8uc2V0VXNlckluZm8ocmVzKTtcbiAgICAgICAgICAgIHBvcHVwQnlBdmF0YXIuY2xvc2UoKTtcblxuICAgICAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygn0J7RiNC40LHQutCwOiAnLCBlcnIpOyAvLyDQstGL0LLQtdC00LXQvCDQvtGI0LjQsdC60YMg0LIg0LrQvtC90YHQvtC70YxcbiAgICAgICAgfSlcbiAgICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICAgICAgcG9wdXBCeUF2YXRhci5zYXZlQnV0dG9uKGZhbHNlKTtcbiAgICAgICAgfSk7XG59XG5jb25zdCBwb3B1cEJ5QXZhdGFyID0gbmV3IFBvcHVwV2l0aEZvcm0oYXZhdGFyUG9wdXAsIGF2YXRhckZ1bmN0aW9uKTtcbnBvcHVwQnlBdmF0YXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuLyoqXG4gKiBAZGVzY3JpcHRpb24gLSDQoNCw0LHQvtGC0LAg0YEg0L/QvtC/0LDQv9C+0Lwg0YHQvtC30LTQsNC90LjRjyDQutCw0YDRgtC+0YfQutC4XG4gKi9cblxuY29uc3QgaGFuZGxlQWRkRWxtRm9ybSA9IChkYXRhKSA9PiB7IC8vINC60L7Qu9Cx0LXQuiAxOTEg0YHRgtGA0L7QutCwXG4gICAgcG9wdXBOZXdFbGVtZW50LnNhdmVCdXR0b24odHJ1ZSk7XG4gICAgYXBpLnB1c2hOZXdDYXJkKGRhdGEpLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgICAgY2FyZExpc3QuYWRkSXRlbShjcmVhdGVDYXJkQ2xhc3MocmVzKSlcbiAgICAgICAgICAgIHBvcHVwTmV3RWxlbWVudC5jbG9zZSgpXG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOyAvLyDQstGL0LLQtdC00LXQvCDQvtGI0LjQsdC60YMg0LIg0LrQvtC90YHQvtC70YxcbiAgICAgICAgfSlcbiAgICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICAgICAgcG9wdXBOZXdFbGVtZW50LnNhdmVCdXR0b24oZmFsc2UpO1xuICAgICAgICB9KTtcbn1cbmNvbnN0IHBvcHVwTmV3RWxlbWVudCA9IG5ldyBQb3B1cFdpdGhGb3JtKG5ld1BsYWNlUG9wdXAsIGhhbmRsZUFkZEVsbUZvcm0pOyAvLyDQv9C+0L/QsNC/INGB0L7Qt9C00LDQvdC40Y8g0LrQsNGA0YLRi1xuXG5wb3B1cE5ld0VsZW1lbnQuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbnByb2ZpbGVQbGFjZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICB2YWxpZGF0ZUZvcm1OZXdFbGVtZW50LnJlc2V0VmFkbGlkYXRpb24oKTtcbiAgICBwb3B1cE5ld0VsZW1lbnQub3BlbigpXG4gICAgdmFsaWRhdGVGb3JtTmV3RWxlbWVudC50b2dnbGVCdXR0b25TdGF0ZSgpO1xufSlcblxuLyoqXG4gKiBAZGVzY3JpcHRpb24gLSDRg9C/0YDQsNCy0LvQtdC90LjQtSDQvtGC0L7QsdGA0LDQttC10L3QuNC10Lwg0LjQvdGE0L7RgNC80LDRhtC40Lgg0L4g0L/QvtC70YzQt9C+0LLQsNGC0LXQu9C1INC90LAg0YHRgtGA0LDQvdC40YbQtS5cbiAqL1xuXG5jb25zdCBwcm9maWxlSW5mbyA9IG5ldyBVc2VySW5mbyhwcm9maWxlTmFtZSwgcHJvZmlsZUFib3V0KTtcbiJdLCJuYW1lcyI6WyJwcm9maWxlTmFtZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInByb2ZpbGVBYm91dCIsInByb2ZpbGVFZGl0QnV0dG9uIiwicHJvZmlsZVBvcHVwIiwiZWxlbWVudExpc3QiLCJwcm9maWxlRm9ybSIsIm5hbWVJbnB1dCIsImpvYklucHV0IiwibmV3UGxhY2VQb3B1cCIsImZvcm1OZXdFbGVtZW50IiwicGljdHVyZVBvcHVwIiwicHJvZmlsZVBsYWNlQnV0dG9uIiwibm90aWZpY2F0aW9uUG9wdXAiLCJidG5PdmVybGF5QXZhdGFyIiwiYXZhdGFyUG9wdXAiLCJmb3JtTmV3QXZhdGFyIiwiRm9ybVZhbGlkYXRvciIsImNvbmZpZyIsImZvcm1FbGVtZW50IiwiX2lucHV0TGlzdCIsImZvckVhY2giLCJpbnB1dEl0ZW0iLCJfaGlkZUlucHV0RXJyb3IiLCJ0b2dnbGVCdXR0b25TdGF0ZSIsImlucHV0RWxlbWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJfaXNWYWxpZGl0eSIsInRoaXMiLCJfY29uZmlnIiwiX2Zvcm1FbGVtZW50IiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsImlucHV0U2VsZWN0b3IiLCJfYnV0dG9uRWxlbWVudCIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9zaG93SW5wdXRFcnJvciIsInNvbWUiLCJlcnJvckVsZW1lbnQiLCJpZCIsImNvbnNvbGUiLCJsb2ciLCJjbGFzc0xpc3QiLCJhZGQiLCJpbnB1dEVycm9yQ2xhc3MiLCJ0ZXh0Q29udGVudCIsInZhbGlkYXRpb25NZXNzYWdlIiwiZXJyb3JDbGFzcyIsInJlbW92ZSIsIl9oYXNJbnZhbGlkSW5wdXQiLCJfc2V0RGlzYWJsZWRCdXR0b24iLCJfc2V0RW5hYmxlZEJ1dHRvbiIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJkaXNhYmxlZCIsIl9zZXRFdmVudExpc3RlbmVycyIsIkNhcmQiLCJkYXRhIiwiY2FyZHRlbXBsYXRlIiwiaGFuZGxlciIsIl9kYXRhIiwiX29uTGlrZUhhbmRsZXIiLCJvbkxpa2UiLCJfcmVtb3ZlUGljIiwib25EZWxldGVDYXJkIiwiX2hhbmRsZUNhcmRDbGljayIsIm9uQ2xpY2siLCJfY2FyZFRlbXBsYXRlIiwiX2VsZW1lbnQiLCJfZ2V0VGVtcGxhdGUiLCJtYXNrR3JvdXBJbWciLCJtYXNrR3JvdXBOYW1lIiwiX2xpa2VCdXR0b24iLCJfYnRuUmVtb3ZlQ2FyZCIsImxpa2VzRWxlbWVudCIsInNyYyIsImxpbmsiLCJuYW1lIiwiYWx0IiwibGlrZXMiLCJsZW5ndGgiLCJpc0xpa2VkIiwiaXNPd25lciIsIml0ZW0iLCJjdXJyZW50VXNlciIsIl9pZCIsIm93bmVyIiwidXBkYXRlZExpa2VzIiwidG9nZ2xlIiwiY29udGVudCIsImNsb25lTm9kZSIsIl9oYW5kbGVMaWtlIiwiX2hhbmRsZVRyYXNoQnRuQ2xpY2siLCJTZWN0aW9uIiwiY29udGFpbmVyU2VsZWN0b3IiLCJyZW5kZXJlciIsIl9mdW5jdGlvblJlbmRlciIsIl9jb250YWluZXIiLCJyZXZlcnNlIiwiZWxlbWVudCIsInByZXBlbmQiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJfcG9wdXBTZWxlY3RvciIsIl9oYW5kbGVFc2NDbG9zZUJpbmRlZCIsIl9oYW5kbGVFc2NDbG9zZSIsImJpbmQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZXZ0Iiwia2V5IiwiY2xvc2UiLCJ0YXJnZXQiLCJjb250YWlucyIsIlBvcHVwV2l0aEltYWdlIiwiX3BvcHVwUGhvdG9UaXRsZSIsIl9wb3B1cFBob3RvSW1nIiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZUZvcm1TdWJtaXQiLCJfaGFuZGxlRm9ybVN1Ym1pdCIsIl9idG5TYXZlIiwiX2J0blNhdmVUZXh0IiwiX2Zvcm1JbnB1dExpc3QiLCJfZm9ybVZhbHVlcyIsImlucHV0IiwidmFsdWUiLCJwcmV2ZW50RGVmYXVsdCIsIl9nZXRJbnB1dFZhbHVlcyIsImlzU2F2ZSIsInJlc2V0IiwiUG9wdXBXaXRoQ29uZmlybWF0aW9uIiwiX3NldENvbmZpcm1BY3Rpb24iLCJhY3Rpb24iLCJVc2VySW5mbyIsInVzZXJOYW1lU2VsZWN0b3IiLCJ1c2VySW5mb1NlbGVjdG9yIiwiX3VzZXJOYW1lIiwiX3VzZXJJbmZvIiwiX2F2YXRhclNlbGVjdG9yIiwidXNlckRhdGEiLCJhYm91dCIsIl91c2VySWQiLCJhdmF0YXIiLCJBcGkiLCJvcHRpb25zIiwiX3VybCIsInVybCIsIl9oZWFkZXJzIiwiaGVhZGVycyIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJmZXRjaCIsInRoZW4iLCJfZ2V0UmVzcG9uc2VEYXRhIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJjYXJkSUQiLCJmb3JtU2VsZWN0b3IiLCJ2YWxpZGF0ZUZvcm1OZXdFbGVtZW50IiwidmFsaWRhdGVQcm9maWxlRm9ybSIsInZhbGlkYXRlQXZhdGFGb3JtIiwiZW5hYmxlVmFsaWRhdGlvbiIsImFwaSIsImF1dGhvcml6YXRpb24iLCJjcmVhdGVDYXJkQ2xhc3MiLCJwcm9maWxlSW5mbyIsImdldFVzZXJJZCIsImNhcmQiLCJoYW5kbGVDYXJkQ2xpY2siLCJjdXJyZW50Q2FyZCIsInJlbW92ZUNhcmQiLCJjb25maXJtUG9wdXAiLCJvcGVuIiwic2V0Q29uZmlybUFjdGlvbiIsImRlbGV0ZUNhcmQiLCJlcnIiLCJsaWtlQ2FsbGJhY2siLCJyZW1vdmVMaWtlIiwidXBkYXRlZENhcmQiLCJzZXRMaWtlIiwiZ2VuZXJhdGVDYXJkIiwiY2FyZExpc3QiLCJhZGRJdGVtIiwicG9wdXBQaWNlIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJyZXNldFZhZGxpZGF0aW9uIiwiZ2V0VXNlckluZm8iLCJwb3B1cFByb2ZpbGVGb3JtIiwic2F2ZUJ1dHRvbiIsInNldFVzZXJEYXRhIiwic2V0VXNlckluZm8iLCJhbGwiLCJnZXRVc2VyQ2FyZHMiLCJnZXRVc2VyRGF0YSIsImluaXRpYWxDYXJkcyIsInJlbmRlckl0ZW1zIiwicG9wdXBCeUF2YXRhciIsInNldEF2YXRhckRhdGEiLCJwb3B1cE5ld0VsZW1lbnQiLCJwdXNoTmV3Q2FyZCJdLCJzb3VyY2VSb290IjoiIn0=