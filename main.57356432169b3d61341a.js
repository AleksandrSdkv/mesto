(()=>{"use strict";var e=document.querySelector(".profile__name"),t=document.querySelector(".profile__about"),n=document.querySelector(".profile__edit-button"),r=document.querySelector(".popup_type_profile"),o=document.querySelector(".element-list"),i=r.querySelector(".form"),a=r.querySelector(".form__input_type_name"),u=r.querySelector(".form__input_type_about"),c=document.querySelector(".popup_type_place"),s=c.querySelector(".form"),l=(c.querySelector(".form__input_type_name"),c.querySelector(".form__input_type_about"),document.querySelector(".popup_type_pic"),document.querySelector(".profile__place-button")),f=(document.querySelector(".popup_type_notification"),document.querySelector(".profile__overlay")),p=document.querySelector(".popup_type_for-avatar").querySelector(".form");function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),y(this,"resetVadlidation",(function(){r._inputList.forEach((function(e){return r._hideInputError(e)}))})),y(this,"_setEventListeners",(function(){r.toggleButtonState(),r._inputList.forEach((function(e){e.addEventListener("input",(function(){r._isValidity(e),r.toggleButtonState()}))}))})),this._config=t,this._formElement=n,this._inputList=Array.from(n.querySelectorAll(t.inputSelector)),this._buttonElement=n.querySelector(t.submitButtonSelector)}var t,n;return t=e,(n=[{key:"_isValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"_showInputError",value:function(e){var t=this._formElement.querySelector(".".concat(e.id,"-error"));console.log(t),e.classList.add(this._config.inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._config.errorClass)}},{key:"_hideInputError",value:function(e){var t=this._formElement.querySelector(".".concat(e.id,"-error"));e.classList.remove(this._config.inputErrorClass),t.classList.remove(this._config.errorClass),t.textContent=""}},{key:"toggleButtonState",value:function(){this._hasInvalidInput()?this._setDisabledButton():this._setEnabledButton()}},{key:"_setDisabledButton",value:function(){this._buttonElement.classList.add(this._config.inactiveButtonClass),this._buttonElement.disabled=!0}},{key:"_setEnabledButton",value:function(){this._buttonElement.classList.remove(this._config.inactiveButtonClass),this._buttonElement.disabled=!1}},{key:"enableValidation",value:function(){this._setEventListeners()}}])&&h(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var m=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._data=t,this._onLikeHandler=r.onLike,this._removePic=r.onDeleteCard,this._handleCardClick=r.onClick,this._cardTemplate=n,this._element=this._getTemplate(),this.maskGroupImg=this._element.querySelector(".element__mask-group"),this.maskGroupName=this._element.querySelector(".element__place-name"),this._likeButton=this._element.querySelector(".element__like-button"),this._btnRemoveCard=this._element.querySelector(".element__btn-remove"),this.likesElement=this._element.querySelector(".element__like-counter"),this.maskGroupImg.src=this._data.link,this.maskGroupName.textContent=this._data.name,this.maskGroupImg.alt=this._data.name,this.likesElement.textContent=this._data.likes.length,this.isLiked()?this._likeButton.classList.add("element__like-button_active"):this._likeButton.classList.remove("element__like-button_active"),this.isOwner()||this._btnRemoveCard.remove(),this._setEventListeners()}var t,n;return t=e,(n=[{key:"isLiked",value:function(){var e=this;return this._data.likes.some((function(t){return e._data.currentUser.id===t._id}))}},{key:"isOwner",value:function(){return this._data.currentUser.id===this._data.owner._id}},{key:"_handleLike",value:function(){var e=this;this._onLikeHandler(this._data,(function(t){e._data.likes=t,e._likeButton.classList.toggle("element__like-button_active",e.isLiked()),e.likesElement.textContent=e._data.likes.length}))}},{key:"_getTemplate",value:function(){return document.querySelector(this._cardTemplate).content.querySelector(".element").cloneNode(!0)}},{key:"generateCard",value:function(){return this._element}},{key:"_setEventListeners",value:function(){var e=this;this._likeButton.addEventListener("click",(function(){e._handleLike()})),this._btnRemoveCard.addEventListener("click",(function(){e._removePic(e._data,(function(){e._handleTrashBtnClick()}))})),this.maskGroupImg.addEventListener("click",(function(){e._handleCardClick({name:e._data.name,link:e._data.link})}))}},{key:"_handleTrashBtnClick",value:function(){this._element.remove(),this._element=null}}])&&d(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var b=function(){function e(t,n){var r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._functionRender=r,this._container=n}var t,n;return t=e,(n=[{key:"renderItems",value:function(e){var t=this;e.reverse().forEach((function(e){return t._functionRender(e)}))}},{key:"addItem",value:function(e){this._container.prepend(e)}}])&&v(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var k=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popup=document.querySelector(t),this._handleEscCloseBinded=this._handleEscClose.bind(this)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscCloseBinded)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscCloseBinded)}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this._popup.addEventListener("mousedown",(function(t){(t.target.classList.contains("popup_opened")||t.target.classList.contains("popup__close"))&&e.close()}))}}])&&g(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},S(e,t)}function O(e,t){if(t&&("object"===w(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return C(e)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(){return L="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=P(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},L.apply(this,arguments)}function P(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=j(e)););return e}function j(e){return j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},j(e)}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=j(r);if(o){var n=j(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return O(this,e)});function a(e){var t,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e))._popupPhotoTitle=document.querySelector(".popup__caption"),n._popupPhotoImg=document.querySelector(".popup__img"),L((t=C(n),j(a.prototype)),"setEventListeners",t).call(t),n}return t=a,(n=[{key:"open",value:function(e){var t=e.name,n=e.link;this._popupPhotoImg.src=n,this._popupPhotoImg.alt=t,this._popupPhotoTitle.textContent=t,L(j(a.prototype),"open",this).call(this)}}])&&E(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(k);function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(){return q="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=T(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},q.apply(this,arguments)}function T(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=A(e)););return e}function D(e,t){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},D(e,t)}function x(e,t){if(t&&("object"===I(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function A(e){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},A(e)}var U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=A(r);if(o){var n=A(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return x(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e))._handleFormSubmit=t,n._formElement=n._popup.querySelector(".form"),n._btnSave=n._formElement.querySelector(".form__bottom-submit"),n._btnSaveText=n._btnSave.textContent,n._formInputList=Array.from(n._formElement.querySelectorAll(".form__input")),n}return t=a,(n=[{key:"_getInputValues",value:function(){var e=this;return this._formValues={},this._formInputList.forEach((function(t){e._formValues[t.name]=t.value})),this._formValues}},{key:"setEventListeners",value:function(){var e=this;q(A(a.prototype),"setEventListeners",this).call(this),this._formElement.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit(e._getInputValues())}))}},{key:"saveButton",value:function(e){this._btnSave.textContent=e?"Сохранение...":this._btnSaveText}},{key:"close",value:function(){q(A(a.prototype),"close",this).call(this),this._formElement.reset()}}])&&B(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(k);function V(e){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V(e)}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function G(){return G="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=H(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},G.apply(this,arguments)}function H(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=M(e)););return e}function J(e,t){return J=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},J(e,t)}function F(e,t){if(t&&("object"===V(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function M(e){return M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},M(e)}var z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&J(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=M(r);if(o){var n=M(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return F(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._formElement=t._popup.querySelector(".form"),t._setConfirmAction=function(){},t}return t=a,(n=[{key:"setEventListeners",value:function(){var e=this;G(M(a.prototype),"setEventListeners",this).call(this),this._formElement.addEventListener("submit",(function(t){t.preventDefault(),e._setConfirmAction()}))}},{key:"setConfirmAction",value:function(e){this._setConfirmAction=e}}])&&N(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(k);function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var K=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._userName=t,this._userInfo=n,this._avatarSelector=document.querySelector(".profile__avatar")}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){var e={};return e.name=this._userName.textContent,e.about=this._userInfo.textContent,e.id=this._userId,e}},{key:"setUserInfo",value:function(e){this._userName.textContent=e.name,this._userInfo.textContent=e.about,this._avatarSelector.src=e.avatar,this._userId=e._id}}])&&$(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var W=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._url=t.url,this._headers=t.headers}var t,n;return t=e,(n=[{key:"_getResponseData",value:function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}},{key:"getUserData",value:function(){return fetch("".concat(this._url,"/users/me"),{headers:this._headers}).then(this._getResponseData)}},{key:"getUserCards",value:function(){return fetch("".concat(this._url,"/cards"),{headers:this._headers}).then(this._getResponseData)}},{key:"setUserData",value:function(e){return fetch("".concat(this._url,"/users/me"),{headers:this._headers,method:"PATCH",body:JSON.stringify({name:e.name,about:e.about})}).then(this._getResponseData)}},{key:"setAvatarData",value:function(e){return fetch("".concat(this._url,"/users/me/avatar"),{headers:this._headers,method:"PATCH",body:JSON.stringify({avatar:e.avatar})}).then(this._getResponseData)}},{key:"pushNewCard",value:function(e){return fetch("".concat(this._url,"/cards"),{headers:this._headers,method:"POST",body:JSON.stringify({name:e.name,link:e.link})}).then(this._getResponseData)}},{key:"deleteCard",value:function(e){return fetch("https://mesto.nomoreparties.co/v1/cohort-48/cards/".concat(e),{headers:this._headers,method:"DELETE"}).then(this._getResponseData)}},{key:"setLike",value:function(e){return fetch("https://mesto.nomoreparties.co/v1/cohort-48/cards/".concat(e,"/likes"),{headers:this._headers,method:"PUT"}).then(this._getResponseData)}},{key:"removeLike",value:function(e){return fetch("https://mesto.nomoreparties.co/v1/cohort-48/cards/".concat(e,"/likes"),{headers:this._headers,method:"DELETE"}).then(this._getResponseData)}}])&&Q(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),X={formSelector:".form",inputSelector:".form__input",submitButtonSelector:".form__bottom-submit",inactiveButtonClass:"form__bottom-submit_status_inactive",inputErrorClass:"form__input_type_error",errorClass:"form__input-error_active"};function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Z=new _(X,s),ee=new _(X,i),te=new _(X,p);Z.enableValidation(),ee.enableValidation(),te.enableValidation();var ne=new W({url:"https://mesto.nomoreparties.co/v1/cohort-48",headers:{authorization:"25ce2e8c-2a55-4b07-a594-407cca6a6dd7","content-type":"application/json"}});function re(e){e.currentUser=fe.getUserInfo();var t=new m(e,"#card_template",{onClick:ae,onDeleteCard:function(e,t){ce.open(),ce.setConfirmAction((function(){ne.deleteCard(e._id).then((function(){t(),ce.close()})).catch((function(e){console.log("Ошибка: ",e)}))}))},onLike:function(e,n){t.isLiked()?ne.removeLike(e._id).then((function(e){return n(e.likes)})).catch((function(e){console.log("Ошибка: ",e)})):ne.setLike(e._id).then((function(e){return n(e.likes)})).catch((function(e){console.log("Ошибка: ",e)}))}});return t.generateCard()}var oe=new b({renderer:function(e){var t=re(e);oe.addItem(t)}},o),ie=new R(".popup_type_pic");function ae(e,t){ie.open(e,t)}ie.setEventListeners(),n.addEventListener("click",(function(){ee.resetVadlidation();var e=fe.getUserInfo(),t=e.name,n=e.about;a.value=t,u.value=n,ee.toggleButtonState(),ue.open()}));var ue=new U(".popup_type_profile",(function(e){ue.saveButton(!0),ne.setUserData(e).then((function(e){fe.setUserInfo(e),ue.close()})).catch((function(e){console.log("Ошибка: ",e)})).finally((function(){ue.saveButton(!1)}))}));ue.setEventListeners();var ce=new z(".popup_type_notification");ce.setEventListeners(),Promise.all([ne.getUserCards(),ne.getUserData()]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Y(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];fe.setUserInfo(i),oe.renderItems(o)})).catch((function(e){console.log(e)})),f.addEventListener("click",(function(){te.resetVadlidation(),se.open(),te.toggleButtonState()}));var se=new U(".popup_type_for-avatar",(function(e){se.saveButton(!0),ne.setAvatarData(e).then((function(e){fe.setUserInfo(e),se.close()})).catch((function(e){console.log("Ошибка: ",e)})).finally((function(){se.saveButton(!1)}))}));se.setEventListeners();var le=new U(".popup_type_place",(function(e){le.saveButton(!0),ne.pushNewCard(e).then((function(e){oe.addItem(re(e)),le.close()})).catch((function(e){console.log(e)})).finally((function(){le.saveButton(!1)}))}));le.setEventListeners(),l.addEventListener("click",(function(){Z.resetVadlidation(),le.open(),Z.toggleButtonState()}));var fe=new K(e,t)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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aUgsR0FBWXdCLFlBQVl6SSxHQUN4QmlJLEdBQVNhLFlBQVlELEVBQ3hCLElBSkwsT0FLVyxTQUFDbEIsR0FDSjNJLFFBQVFDLElBQUkwSSxFQUNmLElBSUx2SyxFQUFpQlcsaUJBQWlCLFNBQVMsV0FDdkM2SSxHQUFrQnlCLG1CQUNsQlUsR0FBY3ZCLE9BQ2RaLEdBQWtCL0ksbUJBQ3JCLElBRUQsSUFjTWtMLEdBQWdCLElBQUlwRixFQUFjLDBCQWRqQixTQUFDM0QsR0FDcEIrSSxHQUFjUixZQUFXLEdBQ3pCekIsR0FBSWtDLGNBQWNoSixHQUNia0csTUFBSyxTQUFDUCxHQUNIc0IsR0FBWXdCLFlBQVk5QyxHQUN4Qm9ELEdBQWMxRixPQUVqQixJQUxMLE9BS2EsU0FBQ3NFLEdBQ04zSSxRQUFRQyxJQUFJLFdBQVkwSSxFQUMzQixJQVBMLFNBUWEsV0FDTG9CLEdBQWNSLFlBQVcsRUFDNUIsR0FDUixJQUVEUSxHQUFjWCxvQkFNZCxJQWFNYSxHQUFrQixJQUFJdEYsRUFBYyxxQkFiakIsU0FBQzNELEdBQ3RCaUosR0FBZ0JWLFlBQVcsR0FDM0J6QixHQUFJb0MsWUFBWWxKLEdBQU1rRyxNQUFLLFNBQUNQLEdBQ3BCc0MsR0FBU0MsUUFBUWxCLEdBQWdCckIsSUFDakNzRCxHQUFnQjVGLE9BQ25CLElBSEwsT0FJVyxTQUFDc0UsR0FDSjNJLFFBQVFDLElBQUkwSSxFQUNmLElBTkwsU0FPYSxXQUNMc0IsR0FBZ0JWLFlBQVcsRUFDOUIsR0FDUixJQUdEVSxHQUFnQmIsb0JBQ2hCakwsRUFBbUJZLGlCQUFpQixTQUFTLFdBQ3pDMkksRUFBdUIyQixtQkFDdkJZLEdBQWdCekIsT0FDaEJkLEVBQXVCN0ksbUJBQzFCLElBTUQsSUFBTW9KLEdBQWMsSUFBSXRDLEVBQVNwSSxFQUFhRyxFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmwvLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL2JsLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9ibC8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vYmwvLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL2JsLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vYmwvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9ibC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vYmwvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtYXRpb24uanMiLCJ3ZWJwYWNrOi8vYmwvLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9ibC8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9ibC8uL3NyYy91dGlscy9jb25maWcuanMiLCJ3ZWJwYWNrOi8vYmwvLi9zcmMvcGFnZXMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IHByb2ZpbGVOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX25hbWUnKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlQWJvdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYWJvdXQnKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlRWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19lZGl0LWJ1dHRvbicpO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF90eXBlX3Byb2ZpbGUnKTtcbmV4cG9ydCBjb25zdCBlbGVtZW50TGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50LWxpc3QnKTtcblxuZXhwb3J0IGNvbnN0IHByb2ZpbGVGb3JtID0gcHJvZmlsZVBvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtJyk7XG5leHBvcnQgY29uc3QgbmFtZUlucHV0ID0gcHJvZmlsZVBvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtX19pbnB1dF90eXBlX25hbWUnKTtcbmV4cG9ydCBjb25zdCBqb2JJbnB1dCA9IHByb2ZpbGVQb3B1cC5xdWVyeVNlbGVjdG9yKCcuZm9ybV9faW5wdXRfdHlwZV9hYm91dCcpO1xuZXhwb3J0IGNvbnN0IG5ld1BsYWNlUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfdHlwZV9wbGFjZScpO1xuZXhwb3J0IGNvbnN0IGZvcm1OZXdFbGVtZW50ID0gbmV3UGxhY2VQb3B1cC5xdWVyeVNlbGVjdG9yKCcuZm9ybScpO1xuXG5leHBvcnQgY29uc3QgcGxhY2VOYW1lID0gbmV3UGxhY2VQb3B1cC5xdWVyeVNlbGVjdG9yKCcuZm9ybV9faW5wdXRfdHlwZV9uYW1lJyk7XG5leHBvcnQgY29uc3QgcGxhY2VVcmwgPSBuZXdQbGFjZVBvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtX19pbnB1dF90eXBlX2Fib3V0Jyk7XG5cbmV4cG9ydCBjb25zdCBwaWN0dXJlUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfdHlwZV9waWMnKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlUGxhY2VCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fcGxhY2UtYnV0dG9uJyk7XG5cbmV4cG9ydCBjb25zdCBub3RpZmljYXRpb25Qb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF90eXBlX25vdGlmaWNhdGlvbicpO1xuZXhwb3J0IGNvbnN0IGJ0bk92ZXJsYXlBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fb3ZlcmxheScpO1xuZXhwb3J0IGNvbnN0IGF2YXRhclBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX3R5cGVfZm9yLWF2YXRhcicpO1xuZXhwb3J0IGNvbnN0IGZvcm1OZXdBdmF0YXIgPSBhdmF0YXJQb3B1cC5xdWVyeVNlbGVjdG9yKCcuZm9ybScpO1xuIiwiZXhwb3J0IGNsYXNzIEZvcm1WYWxpZGF0b3IgeyAvKiogQG1vZHVsZSDQntGC0LLQtdGH0LDQtdGCINC30LAg0LLQsNC70LjQtNCw0YbQuNGOINGE0L7RgNC80YsqL1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZywgZm9ybUVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5fY29uZmlnID0gY29uZmlnO1xuICAgICAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xuICAgICAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoY29uZmlnLmlucHV0U2VsZWN0b3IpKTtcbiAgICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudCA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoY29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcbiAgICB9O1xuXG4gICAgX2lzVmFsaWRpdHkoaW5wdXRFbGVtZW50KSB7IC8v0L/RgNGP0YfQtdGCINC40LvQuCDQv9C+0LrQsNC30YvQstCw0LXRgiDQvtGI0LjQsdC60Lgg0LIg0LfQsNCy0LjRgdC40LzQvtGB0YLQuCDQvtGCINCy0LDQu9C40LTQvdC+0YHRgtC4INC/0L7Qu9C10Lkg0LLRi9C30YvQstCw0LXRgiDRgdC+0L7RgtCyLiDRhNGD0L3QutGG0LjRjlxuICAgICAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgX2hhc0ludmFsaWRJbnB1dCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCkgeyAvLyDQv9C+0LrQsNC30YvQstCw0LXRgiDQvtGI0LjQsdC60LhcbiAgICAgICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xuICAgICAgICBjb25zb2xlLmxvZyhlcnJvckVsZW1lbnQpXG4gICAgICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2NvbmZpZy5pbnB1dEVycm9yQ2xhc3MpO1xuICAgICAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2U7XG4gICAgICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2NvbmZpZy5lcnJvckNsYXNzKTtcbiAgICB9O1xuXG4gICAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkgeyAvL9C/0YDRj9GH0LXRgiDQvtGI0LjQsdC60LhcbiAgICAgICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xuICAgICAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9jb25maWcuaW5wdXRFcnJvckNsYXNzKTtcbiAgICAgICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fY29uZmlnLmVycm9yQ2xhc3MpO1xuICAgICAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSAnJztcbiAgICB9O1xuXG4gICAgdG9nZ2xlQnV0dG9uU3RhdGUoKSB7IC8v0YDQtdCz0YPQu9C40YDRg9C10YIg0YHQvtGB0YLQvtGP0L3QuNC1INC60L3QvtC/0LrQuFxuICAgICAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcbiAgICAgICAgICAgIHRoaXMuX3NldERpc2FibGVkQnV0dG9uKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9zZXRFbmFibGVkQnV0dG9uKClcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgX3NldERpc2FibGVkQnV0dG9uKCkgeyAvL9GA0LXQs9GD0LvQuNGA0YPQtdGCINGB0L7RgdGC0L7Rj9C90LjQtSDQutC90L7Qv9C60Lggb2ZmXG4gICAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9jb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIF9zZXRFbmFibGVkQnV0dG9uKCkgeyAvL9GA0LXQs9GD0LvQuNGA0YPQtdGCINGB0L7RgdGC0L7Rj9C90LjQtSDQutC90L7Qv9C60Lggb25cbiAgICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2NvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKVxuICAgICAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgcmVzZXRWYWRsaWRhdGlvbiA9ICgpID0+IHsgLy/RgdCx0YDQsNGB0YvQstCw0LXRgiDRgdC+0YHRgtC+0Y/QvdC40Y8g0L7RiNC40LHQvtC6LCDQuNGB0L/QvtC70YzQt9GD0LXRgtGB0Y8g0L/RgNC4INC+0YLQutGA0YvRgtC40Lgg0L/QvtC/0LDQv9C+0LJcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0SXRlbSkgPT4gdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRJdGVtKSk7XG4gICAgfVxuXG4gICAgX3NldEV2ZW50TGlzdGVuZXJzID0gKCkgPT4geyAvLyDRg9GB0YLQsNC90LDQstC70LjQstCy0LDQtdGCINGB0LvRg9GI0LDRgtC10LvQuFxuICAgICAgICB0aGlzLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9pc1ZhbGlkaXR5KGlucHV0RWxlbWVudCk7XG4gICAgICAgICAgICAgICAgdGhpcy50b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBlbmFibGVWYWxpZGF0aW9uKCkgeyAvLyDQstC60LvRjtGH0LDQtdGCINCy0LDQu9C40LTQsNGG0LjRjiDRhNC+0YDQvNGLXG4gICAgICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgfTtcbn07XG4iLCJleHBvcnQgY2xhc3MgQ2FyZCB7XG4gICAgY29uc3RydWN0b3IoZGF0YSwgY2FyZHRlbXBsYXRlLCBoYW5kbGVyKSB7IC8qKiBAbW9kdWxlINCe0YLQstC10YfQsNC10YIg0LfQsCDQs9C10L3QtdGA0LDRhtC40Y4g0LrQsNGA0YIqL1xuICAgICAgICB0aGlzLl9kYXRhID0gZGF0YTtcbiAgICAgICAgdGhpcy5fb25MaWtlSGFuZGxlciA9IGhhbmRsZXIub25MaWtlO1xuICAgICAgICB0aGlzLl9yZW1vdmVQaWMgPSBoYW5kbGVyLm9uRGVsZXRlQ2FyZDtcbiAgICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlci5vbkNsaWNrO1xuICAgICAgICB0aGlzLl9jYXJkVGVtcGxhdGUgPSBjYXJkdGVtcGxhdGU7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xuICAgICAgICB0aGlzLm1hc2tHcm91cEltZyA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX21hc2stZ3JvdXAnKTtcbiAgICAgICAgdGhpcy5tYXNrR3JvdXBOYW1lID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fcGxhY2UtbmFtZScpO1xuICAgICAgICB0aGlzLl9saWtlQnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fbGlrZS1idXR0b24nKTtcbiAgICAgICAgdGhpcy5fYnRuUmVtb3ZlQ2FyZCA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2J0bi1yZW1vdmUnKTtcbiAgICAgICAgdGhpcy5saWtlc0VsZW1lbnQgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19saWtlLWNvdW50ZXInKTtcbiAgICAgICAgdGhpcy5tYXNrR3JvdXBJbWcuc3JjID0gdGhpcy5fZGF0YS5saW5rO1xuICAgICAgICB0aGlzLm1hc2tHcm91cE5hbWUudGV4dENvbnRlbnQgPSB0aGlzLl9kYXRhLm5hbWU7XG4gICAgICAgIHRoaXMubWFza0dyb3VwSW1nLmFsdCA9IHRoaXMuX2RhdGEubmFtZTtcbiAgICAgICAgdGhpcy5saWtlc0VsZW1lbnQudGV4dENvbnRlbnQgPSB0aGlzLl9kYXRhLmxpa2VzLmxlbmd0aDtcbiAgICAgICAgaWYgKHRoaXMuaXNMaWtlZCgpKSB7XG4gICAgICAgICAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2VsZW1lbnRfX2xpa2UtYnV0dG9uX2FjdGl2ZScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdlbGVtZW50X19saWtlLWJ1dHRvbl9hY3RpdmUnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuaXNPd25lcigpKSB7XG4gICAgICAgICAgICB0aGlzLl9idG5SZW1vdmVDYXJkLnJlbW92ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKClcbiAgICB9XG5cbiAgICBpc0xpa2VkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGF0YS5saWtlcy5zb21lKChpdGVtKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZGF0YS5jdXJyZW50VXNlci5pZCA9PT0gaXRlbS5faWRcbiAgICAgICAgfSlcbiAgICB9XG4gICAgaXNPd25lcigpIHtcblxuICAgICAgICByZXR1cm4gdGhpcy5fZGF0YS5jdXJyZW50VXNlci5pZCA9PT0gdGhpcy5fZGF0YS5vd25lci5faWRcbiAgICB9XG5cbiAgICBfaGFuZGxlTGlrZSgpIHtcbiAgICAgICAgLy8g0LLRi9C30L7QsiDQutC+0LvQsdC10LrQsCwg0LrQvtGC0L7RgNGL0Lkg0L/RgNC40YjRkdC7INGB0L3QsNGA0YPQttC4XG4gICAgICAgIHRoaXMuX29uTGlrZUhhbmRsZXIoXG4gICAgICAgICAgICB0aGlzLl9kYXRhLFxuICAgICAgICAgICAgKHVwZGF0ZWRMaWtlcykgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2RhdGEubGlrZXMgPSB1cGRhdGVkTGlrZXM7XG4gICAgICAgICAgICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKCdlbGVtZW50X19saWtlLWJ1dHRvbl9hY3RpdmUnLCB0aGlzLmlzTGlrZWQoKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5saWtlc0VsZW1lbnQudGV4dENvbnRlbnQgPSB0aGlzLl9kYXRhLmxpa2VzLmxlbmd0aDtcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbiAgICBfZ2V0VGVtcGxhdGUoKSB7XG4gICAgICAgIGNvbnN0IGNhcmROZXdFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkVGVtcGxhdGUpLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50XCIpLmNsb25lTm9kZSh0cnVlKTtcbiAgICAgICAgcmV0dXJuIGNhcmROZXdFbGVtZW50XG4gICAgfVxuICAgIGdlbmVyYXRlQ2FyZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VsZW1lbnRcbiAgICB9XG5cbiAgICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICAgIHRoaXMuX2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVMaWtlKCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9idG5SZW1vdmVDYXJkLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9yZW1vdmVQaWModGhpcy5fZGF0YSwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2hhbmRsZVRyYXNoQnRuQ2xpY2soKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5tYXNrR3JvdXBJbWcuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayh7IG5hbWU6IHRoaXMuX2RhdGEubmFtZSwgbGluazogdGhpcy5fZGF0YS5saW5rIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgX2hhbmRsZVRyYXNoQnRuQ2xpY2soKSB7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlKCk7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQgPSBudWxsO1xuICAgIH1cblxufVxuIiwiZXhwb3J0IGNsYXNzIFNlY3Rpb24geyAvKiogQG1vZHVsZSDQutC70LDRgdGBINC+0YLRgNC40YHQvtCy0LrQuCDQvNCw0YHRgdC40LLQsCDQutCw0YDRgtC+0YfQtdC6LiAgKi9cbiAgICBjb25zdHJ1Y3Rvcih7IHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XG4gICAgICAgIHRoaXMuX2Z1bmN0aW9uUmVuZGVyID0gcmVuZGVyZXI7XG4gICAgICAgIHRoaXMuX2NvbnRhaW5lciA9IGNvbnRhaW5lclNlbGVjdG9yO1xuICAgIH1cblxuICAgIHJlbmRlckl0ZW1zKGRhdGEpIHtcbiAgICAgICAgZGF0YS5yZXZlcnNlKCkuZm9yRWFjaChpdGVtID0+IHRoaXMuX2Z1bmN0aW9uUmVuZGVyKGl0ZW0pKTtcbiAgICB9XG5cbiAgICBhZGRJdGVtKGVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XG4gICAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIFBvcHVwIHtcbiAgICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgICAgIHRoaXMuX3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcbiAgICAgICAgdGhpcy5faGFuZGxlRXNjQ2xvc2VCaW5kZWQgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xuICAgIH1cbiAgICBvcGVuKCkge1xuICAgICAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKCdwb3B1cF9vcGVuZWQnKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlQmluZGVkKTtcbiAgICB9XG4gICAgY2xvc2UoKSB7XG4gICAgICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwX29wZW5lZCcpO1xuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2VCaW5kZWQpO1xuICAgIH1cbiAgICBfaGFuZGxlRXNjQ2xvc2UoZXZ0KSB7IC8v0JzQtdGC0L7QtCDQv9C+0LfQstC+0LvRj9GO0YnQuNC5INC30LDQutGA0YvQstCw0YLRjCDQv9C+0L/QsNC/0Ysg0L/QviBFc2NcbiAgICAgICAgaWYgKGV2dC5rZXkgPT09ICdFc2NhcGUnKSB7XG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7IC8v0JzQtdGC0L7QtCDQv9C+0LfQstC+0LvRj9GO0YnQuNC5INC30LDQutGA0YvQstCw0YLRjCDQv9C+0L/QsNC/0Ysg0L/QviDQutC70LjQutGDINC90LAg0LrRgNC10YHRgtC40Log0Lgg0L7QstC10YDQu9C10LlcbiAgICAgICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGV2dCkgPT4ge1xuICAgICAgICAgICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cF9vcGVuZWQnKSB8fCAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3BvcHVwX19jbG9zZScpKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gJy4vUG9wdXAuanMnXG5cbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHsgLyoqIEBtb2R1bGUg0J7RgtCy0LXRh9Cw0LXRgiDQt9CwINC+0YLQutGA0YvRgtC40LUg0LrQsNGA0YLQuNC90LrQuCovXG4gICAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgICAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICAgICAgdGhpcy5fcG9wdXBQaG90b1RpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19jYXB0aW9uJyk7XG4gICAgICAgIHRoaXMuX3BvcHVwUGhvdG9JbWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2ltZycpO1xuICAgICAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIH1cblxuICAgIG9wZW4oeyBuYW1lLCBsaW5rIH0pIHsgLy/QvtGC0LrRgNGL0YLQuNC1INC60LDRgNGC0LjQvdC60Lgg0Lgg0L/QtdGA0LXQtNCw0YfQsCDQt9C90LDRh9C10L3QuNC5XG4gICAgICAgIHRoaXMuX3BvcHVwUGhvdG9JbWcuc3JjID0gbGluaztcbiAgICAgICAgdGhpcy5fcG9wdXBQaG90b0ltZy5hbHQgPSBuYW1lO1xuICAgICAgICB0aGlzLl9wb3B1cFBob3RvVGl0bGUudGV4dENvbnRlbnQgPSBuYW1lO1xuXG4gICAgICAgIHN1cGVyLm9wZW4oKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwLmpzXCJcblxuZXhwb3J0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7IC8qKiBAbW9kdWxlINCe0YLQstC10YfQsNC10YIg0LfQsCDQvtGC0LrRgNGL0YLQuNC1INC/0L7Qv9Cw0L/QvtCyINGE0L7RgNC8Ki9cbiAgICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0KSB7IC8v0J/QtdGA0LXQtNCw0LXQvCDQutC+0LvQsdC10LpcbiAgICAgICAgc3VwZXIocG9wdXBTZWxlY3RvcilcblxuXG4gICAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xuICAgICAgICB0aGlzLl9mb3JtRWxlbWVudCA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtJyk7XG4gICAgICAgIHRoaXMuX2J0blNhdmUgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZm9ybV9fYm90dG9tLXN1Ym1pdCcpO1xuICAgICAgICB0aGlzLl9idG5TYXZlVGV4dCA9IHRoaXMuX2J0blNhdmUudGV4dENvbnRlbnQ7XG4gICAgICAgIHRoaXMuX2Zvcm1JbnB1dExpc3QgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5mb3JtX19pbnB1dCcpKTsgLy/QodC+0LHQuNGA0LDQtdC8INC60L7Qu9C70LXQutGG0LjRjiDQuNC90L/Rg9GC0L7QslxuXG4gICAgfVxuICAgIF9nZXRJbnB1dFZhbHVlcygpIHtcbiAgICAgICAgdGhpcy5fZm9ybVZhbHVlcyA9IHt9OyAvL9Cf0LXRgNC10LTQsNC10Lwg0LjRhSDQsiDQvNCw0YHRgdC40LJcbiAgICAgICAgdGhpcy5fZm9ybUlucHV0TGlzdC5mb3JFYWNoKGlucHV0ID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2Zvcm1WYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vINCy0L7Qt9Cy0YDQsNGJ0LDQtdC8INC+0LHRitC10LrRgiDQt9C90LDRh9C10L3QuNC5XG4gICAgICAgIHJldHVybiB0aGlzLl9mb3JtVmFsdWVzO1xuICAgIH1cbiAgICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICAgICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICAgICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xuICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpOyAvL9Cf0LXRgNC10LTQsNC10Lwg0LTQsNC90L3Ri9C1INCyINC60L7Qu9Cx0LXQulxuICAgICAgICB9KVxuICAgIH1cbiAgICBzYXZlQnV0dG9uKGlzU2F2ZSkgeyAvL9Cc0LXRgtC+0LQg0YDQtdCw0LvQuNC30YPQtdGCIFVYINGBINC60L3QvtC/0LrQvtC5INCy0YHQtdGFIHN1Ym1pdCDQv9C+0L/QsNC/0L7QslxuICAgICAgICBpZiAoaXNTYXZlKSB7XG4gICAgICAgICAgICB0aGlzLl9idG5TYXZlLnRleHRDb250ZW50ID0gJ9Ch0L7RhdGA0LDQvdC10L3QuNC1Li4uJ1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fYnRuU2F2ZS50ZXh0Q29udGVudCA9IHRoaXMuX2J0blNhdmVUZXh0O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2xvc2UoKSB7IC8v0LfQsNC60YDRi9Cy0LDQtdGCINC4INC+0YLRh9C40YnQsNC10YIg0LjQvdC/0YPRgtGLXG4gICAgICAgIHN1cGVyLmNsb3NlKCk7XG4gICAgICAgIHRoaXMuX2Zvcm1FbGVtZW50LnJlc2V0KCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUG9wdXAgfSBmcm9tIFwiLi9Qb3B1cC5qc1wiXG5leHBvcnQgY2xhc3MgUG9wdXBXaXRoQ29uZmlybWF0aW9uIGV4dGVuZHMgUG9wdXAge1xuICAgIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICAgICAgc3VwZXIocG9wdXBTZWxlY3RvcilcbiAgICAgICAgdGhpcy5fZm9ybUVsZW1lbnQgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcuZm9ybScpO1xuICAgICAgICB0aGlzLl9zZXRDb25maXJtQWN0aW9uID0gKCkgPT4ge31cblxuICAgIH1cbiAgICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICAgICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICAgICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4geyAvL9Cf0L7QtNGC0LLQtdGA0LbQtNC10L3QuNC1INGD0LTQsNC70LXQvdC40Y9cbiAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgdGhpcy5fc2V0Q29uZmlybUFjdGlvbigpO1xuICAgICAgICB9KVxuICAgIH1cbiAgICBzZXRDb25maXJtQWN0aW9uKGFjdGlvbikgeyAvL9Cf0LXRgNC10LTQsNC10YIg0LrQvtC70LHQtdC6INCyINC60L7QvdGB0YLRgNGD0LrRgtC+0YBcbiAgICAgICAgdGhpcy5fc2V0Q29uZmlybUFjdGlvbiA9IGFjdGlvbjtcbiAgICB9XG5cblxufVxuIiwiZXhwb3J0IGNsYXNzIFVzZXJJbmZvIHsgLyoqIEBtb2R1bGUg0J/QtdGA0LXQtNCw0LXRgiDQuNC90YTQvtGA0LzQsNGG0LjRjiDQvdCwINGB0YLRgNCw0L3QuNGG0YMgKi9cbiAgICBjb25zdHJ1Y3Rvcih1c2VyTmFtZVNlbGVjdG9yLCB1c2VySW5mb1NlbGVjdG9yKSB7XG4gICAgICAgIHRoaXMuX3VzZXJOYW1lID0gdXNlck5hbWVTZWxlY3RvcjtcbiAgICAgICAgdGhpcy5fdXNlckluZm8gPSB1c2VySW5mb1NlbGVjdG9yO1xuICAgICAgICB0aGlzLl9hdmF0YXJTZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hdmF0YXInKTtcblxuICAgIH1cblxuICAgIC8v0J/Rg9Cx0LvQuNGH0L3Ri9C5INC80LXRgtC+0LQg0L/RgNC40L3QuNC80LDQtdGCINC+0LHRitC10LrRgiDRgSDQtNCw0L3QvdGL0LzQuCDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y9cblxuICAgIGdldFVzZXJJbmZvKCkge1xuICAgICAgICBjb25zdCB1c2VyRGF0YSA9IHt9O1xuICAgICAgICB1c2VyRGF0YS5uYW1lID0gdGhpcy5fdXNlck5hbWUudGV4dENvbnRlbnQ7XG4gICAgICAgIHVzZXJEYXRhLmFib3V0ID0gdGhpcy5fdXNlckluZm8udGV4dENvbnRlbnQ7XG4gICAgICAgIHVzZXJEYXRhLmlkID0gdGhpcy5fdXNlcklkO1xuXG4gICAgICAgIHJldHVybiB1c2VyRGF0YTtcbiAgICB9XG5cbiAgICBzZXRVc2VySW5mbyhkYXRhKSB7XG4gICAgICAgIHRoaXMuX3VzZXJOYW1lLnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xuICAgICAgICB0aGlzLl91c2VySW5mby50ZXh0Q29udGVudCA9IGRhdGEuYWJvdXQ7XG4gICAgICAgIHRoaXMuX2F2YXRhclNlbGVjdG9yLnNyYyA9IGRhdGEuYXZhdGFyO1xuICAgICAgICB0aGlzLl91c2VySWQgPSBkYXRhLl9pZDtcbiAgICB9XG59XG4iLCJleHBvcnQgY2xhc3MgQXBpIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuX3VybCA9IG9wdGlvbnMudXJsO1xuICAgICAgICB0aGlzLl9oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzO1xuXG4gICAgfVxuICAgIF9nZXRSZXNwb25zZURhdGEocmVzKSB7XG4gICAgICAgIGlmICghcmVzLm9rKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCe0YjQuNCx0LrQsDogJHtyZXMuc3RhdHVzfWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgIH1cbiAgICBnZXRVc2VyRGF0YSgpIHtcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vdXNlcnMvbWVgLCB7IGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMgfSlcbiAgICAgICAgICAgIC50aGVuKHRoaXMuX2dldFJlc3BvbnNlRGF0YSlcbiAgICB9XG4gICAgZ2V0VXNlckNhcmRzKCkge1xuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkc2AsIHsgaGVhZGVyczogdGhpcy5faGVhZGVycyB9KVxuICAgICAgICAgICAgLnRoZW4odGhpcy5fZ2V0UmVzcG9uc2VEYXRhKVxuICAgIH1cbiAgICBzZXRVc2VyRGF0YShkYXRhKSB7XG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L3VzZXJzL21lYCwge1xuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgICAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgIG5hbWU6IGRhdGEubmFtZSxcbiAgICAgICAgICAgICAgICBhYm91dDogZGF0YS5hYm91dFxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSkudGhlbih0aGlzLl9nZXRSZXNwb25zZURhdGEpXG4gICAgfVxuICAgIHNldEF2YXRhckRhdGEoZGF0YSkge1xuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgYXZhdGFyOiBkYXRhLmF2YXRhclxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSkudGhlbih0aGlzLl9nZXRSZXNwb25zZURhdGEpXG4gICAgfVxuICAgIHB1c2hOZXdDYXJkKGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vY2FyZHNgLCB7XG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICBuYW1lOiBkYXRhLm5hbWUsXG4gICAgICAgICAgICAgICAgbGluazogZGF0YS5saW5rXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KS50aGVuKHRoaXMuX2dldFJlc3BvbnNlRGF0YSlcblxuICAgIH1cblxuICAgIGRlbGV0ZUNhcmQoY2FyZElEKSB7XG4gICAgICAgIHJldHVybiBmZXRjaChgaHR0cHM6Ly9tZXN0by5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC00OC9jYXJkcy8ke2NhcmRJRH1gLCB7XG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgICAgfSkudGhlbih0aGlzLl9nZXRSZXNwb25zZURhdGEpXG4gICAgfVxuICAgIHNldExpa2UoY2FyZElEKSB7XG4gICAgICAgIHJldHVybiBmZXRjaChgaHR0cHM6Ly9tZXN0by5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC00OC9jYXJkcy8ke2NhcmRJRH0vbGlrZXNgLCB7XG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgfSkudGhlbih0aGlzLl9nZXRSZXNwb25zZURhdGEpXG4gICAgfVxuXG4gICAgcmVtb3ZlTGlrZShjYXJkSUQpIHtcbiAgICAgICAgcmV0dXJuIGZldGNoKGBodHRwczovL21lc3RvLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTQ4L2NhcmRzLyR7Y2FyZElEfS9saWtlc2AsIHtcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgICB9KS50aGVuKHRoaXMuX2dldFJlc3BvbnNlRGF0YSlcbiAgICB9XG59XG4iLCJleHBvcnQgY29uc3QgY29uZmlnID0ge1xuICAgIGZvcm1TZWxlY3RvcjogJy5mb3JtJyxcbiAgICBpbnB1dFNlbGVjdG9yOiAnLmZvcm1fX2lucHV0JyxcbiAgICBzdWJtaXRCdXR0b25TZWxlY3RvcjogJy5mb3JtX19ib3R0b20tc3VibWl0JyxcbiAgICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiAnZm9ybV9fYm90dG9tLXN1Ym1pdF9zdGF0dXNfaW5hY3RpdmUnLFxuICAgIGlucHV0RXJyb3JDbGFzczogJ2Zvcm1fX2lucHV0X3R5cGVfZXJyb3InLFxuICAgIGVycm9yQ2xhc3M6ICdmb3JtX19pbnB1dC1lcnJvcl9hY3RpdmUnLFxufTtcbmV4cG9ydCBjb25zdCBhcGlDb25maWcgPSB7XG4gICAgdXJsOiBcImh0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtNDhcIixcbiAgICBoZWFkZXJzOiB7XG4gICAgICAgIGF1dGhvcml6YXRpb246ICcyNWNlMmU4Yy0yYTU1LTRiMDctYTU5NC00MDdjY2E2YTZkZDcnLFxuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxuICAgIH1cbn07XG4iLCJpbXBvcnQgJy4vaW5kZXguY3NzJztcbmltcG9ydCB7XG4gICAgZm9ybU5ld0F2YXRhcixcbiAgICBidG5PdmVybGF5QXZhdGFyLFxuICAgIHByb2ZpbGVOYW1lLFxuICAgIHByb2ZpbGVBYm91dCxcbiAgICBwcm9maWxlRWRpdEJ1dHRvbixcbiAgICBlbGVtZW50TGlzdCxcbiAgICBwcm9maWxlRm9ybSxcbiAgICBuYW1lSW5wdXQsXG4gICAgam9iSW5wdXQsXG4gICAgZm9ybU5ld0VsZW1lbnQsXG4gICAgcHJvZmlsZVBsYWNlQnV0dG9uXG59IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cy5qcyc7XG5pbXBvcnQgeyBGb3JtVmFsaWRhdG9yIH0gZnJvbSAnLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzJztcbmltcG9ydCB7IENhcmQgfSBmcm9tICcuLi9jb21wb25lbnRzL0NhcmQuanMnO1xuaW1wb3J0IHsgU2VjdGlvbiB9IGZyb20gJy4uL2NvbXBvbmVudHMvU2VjdGlvbi5qcyc7XG5pbXBvcnQgeyBQb3B1cFdpdGhJbWFnZSB9IGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMnO1xuaW1wb3J0IHsgUG9wdXBXaXRoRm9ybSB9IGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyc7XG5pbXBvcnQgeyBQb3B1cFdpdGhDb25maXJtYXRpb24gfSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm1hdGlvbi5qcyc7XG5pbXBvcnQgeyBVc2VySW5mbyB9IGZyb20gJy4uL2NvbXBvbmVudHMvVXNlckluZm8uanMnO1xuaW1wb3J0IHsgQXBpIH0gZnJvbSAnLi4vY29tcG9uZW50cy9BcGkuanMnO1xuaW1wb3J0IHsgY29uZmlnLCBhcGlDb25maWcgfSBmcm9tICcuLi91dGlscy9jb25maWcuanMnO1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiAtINCh0L7Qt9C00LDQvdC40LUg0LrQu9Cw0YHRgdC+0LIg0LLQsNC70LjQtNCw0YbQuNC4INGE0L7RgNC8INC/0L7Qv9Cw0L/QvtCyKNCf0YDQvtGE0LjQu9GMLCDQtNC+0LHQsNCy0LvQtdC90LjQtSDQutCw0YDRgiwg0YHQvNC10L3QsCDQsNCy0LDRgtCw0YDQsCks0LfQsNC/0YPRgdC60LDQtdGCINCy0LDQu9C40LTQsNGG0LjRji5cbiAqL1xuY29uc3QgdmFsaWRhdGVGb3JtTmV3RWxlbWVudCA9IG5ldyBGb3JtVmFsaWRhdG9yKGNvbmZpZywgZm9ybU5ld0VsZW1lbnQpO1xuY29uc3QgdmFsaWRhdGVQcm9maWxlRm9ybSA9IG5ldyBGb3JtVmFsaWRhdG9yKGNvbmZpZywgcHJvZmlsZUZvcm0pO1xuY29uc3QgdmFsaWRhdGVBdmF0YUZvcm0gPSBuZXcgRm9ybVZhbGlkYXRvcihjb25maWcsIGZvcm1OZXdBdmF0YXIpO1xuXG52YWxpZGF0ZUZvcm1OZXdFbGVtZW50LmVuYWJsZVZhbGlkYXRpb24oKTtcbnZhbGlkYXRlUHJvZmlsZUZvcm0uZW5hYmxlVmFsaWRhdGlvbigpO1xudmFsaWRhdGVBdmF0YUZvcm0uZW5hYmxlVmFsaWRhdGlvbigpO1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiAtINC60LvQsNGB0YEg0YHQvtC00LXRgNC20LjRgiDQvNC10YLQvtC00YsgQVBJINC30LDQv9GA0L7RgdC+0LJcbiAqL1xuY29uc3QgYXBpID0gbmV3IEFwaShhcGlDb25maWcpO1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiAtINGE0YPQvdC60YbQuNGPINCy0YvQt9GL0LLQsNGO0YnQsNGPINC80LXRgtC+0LTRiyDQutC70LDRgdGB0L7QsiBBUEksIFVzZXJJbmZvLCBQb3B1cFdpdGhGb3JtLtCh0L7Qt9C00LDRjtGJ0LDRjyDQutCw0YDRgtC+0YfQutGDINC4INC90LDQv9C+0LvQvdGP0LXRgiDRhNGD0L3QutGG0LjQvtC90LDQu9GM0L3QvtGB0YLRjNGOXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUNhcmRDbGFzcyhkYXRhKSB7XG4gICAgZGF0YS5jdXJyZW50VXNlciA9IHByb2ZpbGVJbmZvLmdldFVzZXJJbmZvKCk7XG4gICAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKFxuICAgICAgICBkYXRhLCAnI2NhcmRfdGVtcGxhdGUnLCB7XG4gICAgICAgICAgICBvbkNsaWNrOiBoYW5kbGVDYXJkQ2xpY2ssIC8vINC+0YLQutGA0YvRgtC40LUg0L/QvtC/0LDQv9CwXG4gICAgICAgICAgICBvbkRlbGV0ZUNhcmQ6IChjdXJyZW50Q2FyZCwgcmVtb3ZlQ2FyZCkgPT4geyAvLyDRhNGD0L3QutGG0LjQvtC90LDQu9GM0L3QvtGB0YLRjCDRg9C00LDQu9C10L3QuNC1INC60LDRgNGC0YtcbiAgICAgICAgICAgICAgICBjb25maXJtUG9wdXAub3BlbigpO1xuICAgICAgICAgICAgICAgIGNvbmZpcm1Qb3B1cC5zZXRDb25maXJtQWN0aW9uKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgYXBpLmRlbGV0ZUNhcmQoY3VycmVudENhcmQuX2lkKS50aGVuKCgpID0+IHsgLy8g0L7RgtC/0YDQsNCy0LvRj9C10Lwg0LfQsNC/0YDQvtGBXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlQ2FyZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpcm1Qb3B1cC5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ9Ce0YjQuNCx0LrQsDogJywgZXJyKTsgLy8g0LLRi9Cy0LXQtNC10Lwg0L7RiNC40LHQutGDINCyINC60L7QvdGB0L7Qu9GMXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkxpa2U6IChjdXJyZW50Q2FyZCwgbGlrZUNhbGxiYWNrKSA9PiB7IC8vINGE0YPQvdC60YbQuNC+0L3QsNC70YzQvdC+0YHRgtGMINC/0L7RgdGC0LDQvdC+0LLQutC4INC70LDQudC60LBcbiAgICAgICAgICAgICAgICBpZiAoY2FyZC5pc0xpa2VkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgYXBpLnJlbW92ZUxpa2UoY3VycmVudENhcmQuX2lkKS50aGVuKCh1cGRhdGVkQ2FyZCkgPT4gbGlrZUNhbGxiYWNrKHVwZGF0ZWRDYXJkLmxpa2VzKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ9Ce0YjQuNCx0LrQsDogJywgZXJyKTsgLy8g0LLRi9Cy0LXQtNC10Lwg0L7RiNC40LHQutGDINCyINC60L7QvdGB0L7Qu9GMXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhcGkuc2V0TGlrZShjdXJyZW50Q2FyZC5faWQpLnRoZW4oKHVwZGF0ZWRDYXJkKSA9PiBsaWtlQ2FsbGJhY2sodXBkYXRlZENhcmQubGlrZXMpKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn0J7RiNC40LHQutCwOiAnLCBlcnIpOyAvLyDQstGL0LLQtdC00LXQvCDQvtGI0LjQsdC60YMg0LIg0LrQvtC90YHQvtC70YxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICBjb25zdCBjYXJkTmV3RWxlbWVudCA9IGNhcmQuZ2VuZXJhdGVDYXJkKCk7XG4gICAgcmV0dXJuIGNhcmROZXdFbGVtZW50O1xufVxuXG5jb25zdCBjYXJkTGlzdCA9IG5ldyBTZWN0aW9uKHtcbiAgICAgICAgcmVuZGVyZXI6IChkYXRhKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gY3JlYXRlQ2FyZENsYXNzKGRhdGEpO1xuICAgICAgICAgICAgY2FyZExpc3QuYWRkSXRlbShlbGVtZW50KTtcbiAgICAgICAgfSxcbiAgICB9LFxuICAgIGVsZW1lbnRMaXN0XG4pO1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiAtINC60LvQsNGB0YEg0L/QvtC/0LDQv9CwINC60LDRgNGC0LjQvdC60LguXG4gKi9cbmNvbnN0IHBvcHVwUGljZSA9IG5ldyBQb3B1cFdpdGhJbWFnZSgnLnBvcHVwX3R5cGVfcGljJylcblxucG9wdXBQaWNlLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmZ1bmN0aW9uIGhhbmRsZUNhcmRDbGljayhuYW1lLCBsaW5rKSB7XG4gICAgcG9wdXBQaWNlLm9wZW4obmFtZSwgbGluayk7XG59O1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiAtINC/0L7Qv9Cw0L8g0YDQtdC00LDQutGC0LjRgNCy0LDQvdC40Y8g0L/RgNC+0YTQuNC70Y8uXG4gKi9cbnByb2ZpbGVFZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIHZhbGlkYXRlUHJvZmlsZUZvcm0ucmVzZXRWYWRsaWRhdGlvbigpO1xuICAgIGNvbnN0IHsgbmFtZSwgYWJvdXQgfSA9IHByb2ZpbGVJbmZvLmdldFVzZXJJbmZvKCk7XG4gICAgbmFtZUlucHV0LnZhbHVlID0gbmFtZTtcbiAgICBqb2JJbnB1dC52YWx1ZSA9IGFib3V0O1xuICAgIHZhbGlkYXRlUHJvZmlsZUZvcm0udG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICBwb3B1cFByb2ZpbGVGb3JtLm9wZW4oKVxufSk7XG5jb25zdCBoYW5kbGVQcm9maWxlRm9ybVN1Ym1pdCA9IChkYXRhKSA9PiB7IC8vINC60L7Qu9Cx0LXQuiAxMzAg0YHRgtGA0L7QutCwXG4gICAgcG9wdXBQcm9maWxlRm9ybS5zYXZlQnV0dG9uKHRydWUpO1xuICAgIGFwaS5zZXRVc2VyRGF0YShkYXRhKVxuICAgICAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICAgICAgcHJvZmlsZUluZm8uc2V0VXNlckluZm8oZGF0YSk7XG4gICAgICAgICAgICBwb3B1cFByb2ZpbGVGb3JtLmNsb3NlKCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygn0J7RiNC40LHQutCwOiAnLCBlcnIpOyAvLyDQstGL0LLQtdC00LXQvCDQvtGI0LjQsdC60YMg0LIg0LrQvtC90YHQvtC70YxcbiAgICAgICAgfSlcbiAgICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICAgICAgcG9wdXBQcm9maWxlRm9ybS5zYXZlQnV0dG9uKGZhbHNlKTtcbiAgICAgICAgfSk7XG5cbn1cblxuY29uc3QgcG9wdXBQcm9maWxlRm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtKCcucG9wdXBfdHlwZV9wcm9maWxlJywgaGFuZGxlUHJvZmlsZUZvcm1TdWJtaXQpO1xucG9wdXBQcm9maWxlRm9ybS5zZXRFdmVudExpc3RlbmVycygpO1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiAtINCf0L7Qv9Cw0L8g0L/QtdGA0LXQtCDRg9C00LDQu9C10L3QuNC10Lwg0LrQsNGA0YLRiy5cbiAqL1xuXG5jb25zdCBjb25maXJtUG9wdXAgPSBuZXcgUG9wdXBXaXRoQ29uZmlybWF0aW9uKCcucG9wdXBfdHlwZV9ub3RpZmljYXRpb24nKTtcbmNvbmZpcm1Qb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5Qcm9taXNlLmFsbChbYXBpLmdldFVzZXJDYXJkcygpLCBhcGkuZ2V0VXNlckRhdGEoKV0pXG4gICAgLnRoZW4oKFtpbml0aWFsQ2FyZHMsIGRhdGFdKSA9PiB7XG4gICAgICAgIHByb2ZpbGVJbmZvLnNldFVzZXJJbmZvKGRhdGEpXG4gICAgICAgIGNhcmRMaXN0LnJlbmRlckl0ZW1zKGluaXRpYWxDYXJkcylcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7IC8vINCy0YvQstC10LTQtdC8INC+0YjQuNCx0LrRgyDQsiDQutC+0L3RgdC+0LvRjFxuICAgIH0pO1xuXG4vKiogQGRlc2NyaXB0aW9uIC0g0KDQsNCx0L7RgtCwINGBINCw0LLQsNGC0LDRgNC+0Lwg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPICovXG5cbmJ0bk92ZXJsYXlBdmF0YXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgdmFsaWRhdGVBdmF0YUZvcm0ucmVzZXRWYWRsaWRhdGlvbigpO1xuICAgIHBvcHVwQnlBdmF0YXIub3BlbigpO1xuICAgIHZhbGlkYXRlQXZhdGFGb3JtLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XG59KVxuXG5jb25zdCBhdmF0YXJGdW5jdGlvbiA9IChkYXRhKSA9PiB7XG4gICAgcG9wdXBCeUF2YXRhci5zYXZlQnV0dG9uKHRydWUpO1xuICAgIGFwaS5zZXRBdmF0YXJEYXRhKGRhdGEpXG4gICAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICAgIHByb2ZpbGVJbmZvLnNldFVzZXJJbmZvKHJlcyk7XG4gICAgICAgICAgICBwb3B1cEJ5QXZhdGFyLmNsb3NlKCk7XG5cbiAgICAgICAgfSkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ9Ce0YjQuNCx0LrQsDogJywgZXJyKTsgLy8g0LLRi9Cy0LXQtNC10Lwg0L7RiNC40LHQutGDINCyINC60L7QvdGB0L7Qu9GMXG4gICAgICAgIH0pXG4gICAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgICAgIHBvcHVwQnlBdmF0YXIuc2F2ZUJ1dHRvbihmYWxzZSk7XG4gICAgICAgIH0pO1xufVxuY29uc3QgcG9wdXBCeUF2YXRhciA9IG5ldyBQb3B1cFdpdGhGb3JtKCcucG9wdXBfdHlwZV9mb3ItYXZhdGFyJywgYXZhdGFyRnVuY3Rpb24pO1xucG9wdXBCeUF2YXRhci5zZXRFdmVudExpc3RlbmVycygpO1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiAtINCg0LDQsdC+0YLQsCDRgSDQv9C+0L/QsNC/0L7QvCDRgdC+0LfQtNCw0L3QuNGPINC60LDRgNGC0L7Rh9C60LhcbiAqL1xuXG5jb25zdCBoYW5kbGVBZGRFbG1Gb3JtID0gKGRhdGEpID0+IHsgLy8g0LrQvtC70LHQtdC6IDE5MSDRgdGC0YDQvtC60LBcbiAgICBwb3B1cE5ld0VsZW1lbnQuc2F2ZUJ1dHRvbih0cnVlKTtcbiAgICBhcGkucHVzaE5ld0NhcmQoZGF0YSkudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgICBjYXJkTGlzdC5hZGRJdGVtKGNyZWF0ZUNhcmRDbGFzcyhyZXMpKVxuICAgICAgICAgICAgcG9wdXBOZXdFbGVtZW50LmNsb3NlKClcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7IC8vINCy0YvQstC10LTQtdC8INC+0YjQuNCx0LrRgyDQsiDQutC+0L3RgdC+0LvRjFxuICAgICAgICB9KVxuICAgICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAgICAgICBwb3B1cE5ld0VsZW1lbnQuc2F2ZUJ1dHRvbihmYWxzZSk7XG4gICAgICAgIH0pO1xufVxuY29uc3QgcG9wdXBOZXdFbGVtZW50ID0gbmV3IFBvcHVwV2l0aEZvcm0oJy5wb3B1cF90eXBlX3BsYWNlJywgaGFuZGxlQWRkRWxtRm9ybSk7IC8vINC/0L7Qv9Cw0L8g0YHQvtC30LTQsNC90LjRjyDQutCw0YDRgtGLXG5cbnBvcHVwTmV3RWxlbWVudC5zZXRFdmVudExpc3RlbmVycygpO1xucHJvZmlsZVBsYWNlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIHZhbGlkYXRlRm9ybU5ld0VsZW1lbnQucmVzZXRWYWRsaWRhdGlvbigpO1xuICAgIHBvcHVwTmV3RWxlbWVudC5vcGVuKClcbiAgICB2YWxpZGF0ZUZvcm1OZXdFbGVtZW50LnRvZ2dsZUJ1dHRvblN0YXRlKCk7XG59KVxuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiAtINGD0L/RgNCw0LLQu9C10L3QuNC1INC+0YLQvtCx0YDQsNC20LXQvdC40LXQvCDQuNC90YTQvtGA0LzQsNGG0LjQuCDQviDQv9C+0LvRjNC30L7QstCw0YLQtdC70LUg0L3QsCDRgdGC0YDQsNC90LjRhtC1LlxuICovXG5cbmNvbnN0IHByb2ZpbGVJbmZvID0gbmV3IFVzZXJJbmZvKHByb2ZpbGVOYW1lLCBwcm9maWxlQWJvdXQpO1xuIl0sIm5hbWVzIjpbInByb2ZpbGVOYW1lIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwicHJvZmlsZUFib3V0IiwicHJvZmlsZUVkaXRCdXR0b24iLCJwcm9maWxlUG9wdXAiLCJlbGVtZW50TGlzdCIsInByb2ZpbGVGb3JtIiwibmFtZUlucHV0Iiwiam9iSW5wdXQiLCJuZXdQbGFjZVBvcHVwIiwiZm9ybU5ld0VsZW1lbnQiLCJwcm9maWxlUGxhY2VCdXR0b24iLCJidG5PdmVybGF5QXZhdGFyIiwiZm9ybU5ld0F2YXRhciIsIkZvcm1WYWxpZGF0b3IiLCJjb25maWciLCJmb3JtRWxlbWVudCIsIl9pbnB1dExpc3QiLCJmb3JFYWNoIiwiaW5wdXRJdGVtIiwiX2hpZGVJbnB1dEVycm9yIiwidG9nZ2xlQnV0dG9uU3RhdGUiLCJpbnB1dEVsZW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiX2lzVmFsaWRpdHkiLCJ0aGlzIiwiX2NvbmZpZyIsIl9mb3JtRWxlbWVudCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpbnB1dFNlbGVjdG9yIiwiX2J1dHRvbkVsZW1lbnQiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsInZhbGlkaXR5IiwidmFsaWQiLCJfc2hvd0lucHV0RXJyb3IiLCJzb21lIiwiZXJyb3JFbGVtZW50IiwiaWQiLCJjb25zb2xlIiwibG9nIiwiY2xhc3NMaXN0IiwiYWRkIiwiaW5wdXRFcnJvckNsYXNzIiwidGV4dENvbnRlbnQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsImVycm9yQ2xhc3MiLCJyZW1vdmUiLCJfaGFzSW52YWxpZElucHV0IiwiX3NldERpc2FibGVkQnV0dG9uIiwiX3NldEVuYWJsZWRCdXR0b24iLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiZGlzYWJsZWQiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJDYXJkIiwiZGF0YSIsImNhcmR0ZW1wbGF0ZSIsImhhbmRsZXIiLCJfZGF0YSIsIl9vbkxpa2VIYW5kbGVyIiwib25MaWtlIiwiX3JlbW92ZVBpYyIsIm9uRGVsZXRlQ2FyZCIsIl9oYW5kbGVDYXJkQ2xpY2siLCJvbkNsaWNrIiwiX2NhcmRUZW1wbGF0ZSIsIl9lbGVtZW50IiwiX2dldFRlbXBsYXRlIiwibWFza0dyb3VwSW1nIiwibWFza0dyb3VwTmFtZSIsIl9saWtlQnV0dG9uIiwiX2J0blJlbW92ZUNhcmQiLCJsaWtlc0VsZW1lbnQiLCJzcmMiLCJsaW5rIiwibmFtZSIsImFsdCIsImxpa2VzIiwibGVuZ3RoIiwiaXNMaWtlZCIsImlzT3duZXIiLCJpdGVtIiwiY3VycmVudFVzZXIiLCJfaWQiLCJvd25lciIsInVwZGF0ZWRMaWtlcyIsInRvZ2dsZSIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfaGFuZGxlTGlrZSIsIl9oYW5kbGVUcmFzaEJ0bkNsaWNrIiwiU2VjdGlvbiIsImNvbnRhaW5lclNlbGVjdG9yIiwicmVuZGVyZXIiLCJfZnVuY3Rpb25SZW5kZXIiLCJfY29udGFpbmVyIiwicmV2ZXJzZSIsImVsZW1lbnQiLCJwcmVwZW5kIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiX3BvcHVwIiwiX2hhbmRsZUVzY0Nsb3NlQmluZGVkIiwiX2hhbmRsZUVzY0Nsb3NlIiwiYmluZCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJldnQiLCJrZXkiLCJjbG9zZSIsInRhcmdldCIsImNvbnRhaW5zIiwiUG9wdXBXaXRoSW1hZ2UiLCJfcG9wdXBQaG90b1RpdGxlIiwiX3BvcHVwUGhvdG9JbWciLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlRm9ybVN1Ym1pdCIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX2J0blNhdmUiLCJfYnRuU2F2ZVRleHQiLCJfZm9ybUlucHV0TGlzdCIsIl9mb3JtVmFsdWVzIiwiaW5wdXQiLCJ2YWx1ZSIsInByZXZlbnREZWZhdWx0IiwiX2dldElucHV0VmFsdWVzIiwiaXNTYXZlIiwicmVzZXQiLCJQb3B1cFdpdGhDb25maXJtYXRpb24iLCJfc2V0Q29uZmlybUFjdGlvbiIsImFjdGlvbiIsIlVzZXJJbmZvIiwidXNlck5hbWVTZWxlY3RvciIsInVzZXJJbmZvU2VsZWN0b3IiLCJfdXNlck5hbWUiLCJfdXNlckluZm8iLCJfYXZhdGFyU2VsZWN0b3IiLCJ1c2VyRGF0YSIsImFib3V0IiwiX3VzZXJJZCIsImF2YXRhciIsIkFwaSIsIm9wdGlvbnMiLCJfdXJsIiwidXJsIiwiX2hlYWRlcnMiLCJoZWFkZXJzIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImZldGNoIiwidGhlbiIsIl9nZXRSZXNwb25zZURhdGEiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImNhcmRJRCIsImZvcm1TZWxlY3RvciIsInZhbGlkYXRlRm9ybU5ld0VsZW1lbnQiLCJ2YWxpZGF0ZVByb2ZpbGVGb3JtIiwidmFsaWRhdGVBdmF0YUZvcm0iLCJlbmFibGVWYWxpZGF0aW9uIiwiYXBpIiwiYXV0aG9yaXphdGlvbiIsImNyZWF0ZUNhcmRDbGFzcyIsInByb2ZpbGVJbmZvIiwiZ2V0VXNlckluZm8iLCJjYXJkIiwiaGFuZGxlQ2FyZENsaWNrIiwiY3VycmVudENhcmQiLCJyZW1vdmVDYXJkIiwiY29uZmlybVBvcHVwIiwib3BlbiIsInNldENvbmZpcm1BY3Rpb24iLCJkZWxldGVDYXJkIiwiZXJyIiwibGlrZUNhbGxiYWNrIiwicmVtb3ZlTGlrZSIsInVwZGF0ZWRDYXJkIiwic2V0TGlrZSIsImdlbmVyYXRlQ2FyZCIsImNhcmRMaXN0IiwiYWRkSXRlbSIsInBvcHVwUGljZSIsInNldEV2ZW50TGlzdGVuZXJzIiwicmVzZXRWYWRsaWRhdGlvbiIsInBvcHVwUHJvZmlsZUZvcm0iLCJzYXZlQnV0dG9uIiwic2V0VXNlckRhdGEiLCJzZXRVc2VySW5mbyIsImFsbCIsImdldFVzZXJDYXJkcyIsImdldFVzZXJEYXRhIiwiaW5pdGlhbENhcmRzIiwicmVuZGVySXRlbXMiLCJwb3B1cEJ5QXZhdGFyIiwic2V0QXZhdGFyRGF0YSIsInBvcHVwTmV3RWxlbWVudCIsInB1c2hOZXdDYXJkIl0sInNvdXJjZVJvb3QiOiIifQ==