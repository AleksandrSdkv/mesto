(()=>{"use strict";var e=document.querySelector(".profile__name"),t=document.querySelector(".profile__about"),n=document.querySelector(".profile__edit-button"),r=document.querySelector(".popup_type_profile"),o=document.querySelector(".element-list"),i=r.querySelector(".form"),a=r.querySelector(".form__input_type_name"),u=r.querySelector(".form__input_type_about"),c=document.querySelector(".popup_type_place"),s=c.querySelector(".form"),l=(c.querySelector(".form__input_type_name"),c.querySelector(".form__input_type_about"),document.querySelector(".popup_type_pic")),f=document.querySelector(".profile__place-button"),p=document.querySelector(".popup_type_notification"),h=document.querySelector(".profile__overlay"),y=document.querySelector(".popup_type_for-avatar"),d=y.querySelector(".form");function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),m(this,"resetVadlidation",(function(){r._inputList.forEach((function(e){return r._hideInputError(e)}))})),m(this,"_setEventListeners",(function(){r.toggleButtonState(),r._inputList.forEach((function(e){e.addEventListener("input",(function(){r._isValidity(e),r.toggleButtonState()}))}))})),this._config=t,this._formElement=n,this._inputList=Array.from(n.querySelectorAll(t.inputSelector)),this._buttonElement=n.querySelector(t.submitButtonSelector)}var t,n;return t=e,(n=[{key:"_isValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"_showInputError",value:function(e){var t=this._formElement.querySelector(".".concat(e.id,"-error"));console.log(t),e.classList.add(this._config.inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._config.errorClass)}},{key:"_hideInputError",value:function(e){var t=this._formElement.querySelector(".".concat(e.id,"-error"));e.classList.remove(this._config.inputErrorClass),t.classList.remove(this._config.errorClass),t.textContent=""}},{key:"toggleButtonState",value:function(){this._hasInvalidInput()?this._setDisabledButton():this._setEnabledButton()}},{key:"_setDisabledButton",value:function(){this._buttonElement.classList.add(this._config.inactiveButtonClass),this._buttonElement.disabled=!0}},{key:"_setEnabledButton",value:function(){this._buttonElement.classList.remove(this._config.inactiveButtonClass),this._buttonElement.disabled=!1}},{key:"enableValidation",value:function(){this._setEventListeners()}}])&&_(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var g=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._data=t,this._onLikeHandler=r.onLike,this._removePic=r.onDeleteCard,this._handleCardClick=r.onClick,this._cardTemplate=n,this._element=this._getTemplate(),this.maskGroupImg=this._element.querySelector(".element__mask-group"),this.maskGroupName=this._element.querySelector(".element__place-name"),this._likeButton=this._element.querySelector(".element__like-button"),this._btnRemoveCard=this._element.querySelector(".element__btn-remove"),this.likesElement=this._element.querySelector(".element__like-counter"),this.maskGroupImg.src=this._data.link,this.maskGroupName.textContent=this._data.name,this.maskGroupImg.alt=this._data.name,this.likesElement.textContent=this._data.likes.length,this.isLiked()?this._likeButton.classList.add("element__like-button_active"):this._likeButton.classList.remove("element__like-button_active"),this.isOwner()||this._btnRemoveCard.remove(),this._setEventListeners()}var t,n;return t=e,(n=[{key:"isLiked",value:function(){var e=this;return this._data.likes.some((function(t){return e._data.currentUser.id===t._id}))}},{key:"isOwner",value:function(){return this._data.currentUser.id===this._data.owner._id}},{key:"_handleLike",value:function(){var e=this;this._onLikeHandler(this._data,(function(t){e._data.likes=t,e._likeButton.classList.toggle("element__like-button_active",e.isLiked()),e.likesElement.textContent=e._data.likes.length}))}},{key:"_getTemplate",value:function(){return document.querySelector(this._cardTemplate).content.querySelector(".element").cloneNode(!0)}},{key:"generateCard",value:function(){return this._element}},{key:"_setEventListeners",value:function(){var e=this;this._likeButton.addEventListener("click",(function(){e._handleLike()})),this._btnRemoveCard.addEventListener("click",(function(){e._removePic(e._data,(function(){e._handleTrashBtnClick()}))})),this.maskGroupImg.addEventListener("click",(function(){e._handleCardClick({name:e._data.name,link:e._data.link})}))}},{key:"_handleTrashBtnClick",value:function(){this._element.remove(),this._element=null}}])&&b(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var w=function(){function e(t,n){var r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._functionRender=r,this._container=n}var t,n;return t=e,(n=[{key:"renderItems",value:function(e){var t=this;e.reverse().forEach((function(e){return t._functionRender(e)}))}},{key:"addItem",value:function(e){this._container.prepend(e)}}])&&k(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var E=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popupSelector=t,this._handleEscCloseBinded=this._handleEscClose.bind(this)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popupSelector.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscCloseBinded)}},{key:"close",value:function(){this._popupSelector.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscCloseBinded)}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this._popupSelector.addEventListener("mousedown",(function(t){(t.target.classList.contains("popup_opened")||t.target.classList.contains("popup__close"))&&e.close()}))}}])&&S(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(){return L="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=P(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},L.apply(this,arguments)}function P(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=I(e)););return e}function j(e,t){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},j(e,t)}function R(e,t){if(t&&("object"===O(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function I(e){return I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},I(e)}var B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&j(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=I(r);if(o){var n=I(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return R(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._popupPhotoTitle=document.querySelector(".popup__caption"),t._popupPhotoImg=document.querySelector(".popup__img"),t}return t=a,(n=[{key:"open",value:function(e){var t=e.name,n=e.link;this._popupPhotoImg.src=n,this._popupPhotoImg.alt=t,this._popupPhotoTitle.textContent=t,L(I(a.prototype),"open",this).call(this)}}])&&C(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(E);function q(e){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q(e)}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(){return D="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=x(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},D.apply(this,arguments)}function x(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=V(e)););return e}function A(e,t){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},A(e,t)}function U(e,t){if(t&&("object"===q(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function V(e){return V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},V(e)}var N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&A(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=V(r);if(o){var n=V(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return U(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e))._popupSelector=e,n._handleFormSubmit=t,n._formElement=n._popupSelector.querySelector(".form"),n._btnSave=n._formElement.querySelector(".form__bottom-submit"),n._btnSaveText=n._btnSave.textContent,n._formInputList=Array.from(n._formElement.querySelectorAll(".form__input")),n}return t=a,(n=[{key:"_getInputValues",value:function(){var e=this;return this._formValues={},this._formInputList.forEach((function(t){e._formValues[t.name]=t.value})),this._formValues}},{key:"setEventListeners",value:function(){var e=this;D(V(a.prototype),"setEventListeners",this).call(this),this._formElement.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit(e._getInputValues())}))}},{key:"saveButton",value:function(e){this._btnSave.textContent=e?"Сохранение...":this._btnSaveText}},{key:"close",value:function(){D(V(a.prototype),"close",this).call(this),this._formElement.reset()}}])&&T(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(E);function G(e){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G(e)}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function J(){return J="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=F(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},J.apply(this,arguments)}function F(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=$(e)););return e}function M(e,t){return M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},M(e,t)}function z(e,t){if(t&&("object"===G(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function $(e){return $=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$(e)}var K=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=$(r);if(o){var n=$(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return z(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._popupSelector=e,t._formElement=t._popupSelector.querySelector(".form"),t._setConfirmAction=function(){},t}return t=a,(n=[{key:"setEventListeners",value:function(){var e=this;J($(a.prototype),"setEventListeners",this).call(this),this._formElement.addEventListener("submit",(function(t){t.preventDefault(),e._setConfirmAction()}))}},{key:"setConfirmAction",value:function(e){this._setConfirmAction=e}}])&&H(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(E);function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var W=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._userName=t,this._userInfo=n,this._avatarSelector=document.querySelector(".profile__avatar")}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){var e={};return e.name=this._userName.textContent,e.about=this._userInfo.textContent,e.id=this._userId,e}},{key:"setUserInfo",value:function(e){this._data=e,this._userName.textContent=e.name,this._userInfo.textContent=e.about,this._avatarSelector.src=e.avatar,this._userId=e._id}}])&&Q(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Y=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._url=t.url,this._headers=t.headers}var t,n;return t=e,(n=[{key:"_getResponseData",value:function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}},{key:"getUserData",value:function(){return fetch("".concat(this._url,"/users/me"),{headers:this._headers}).then(this._getResponseData)}},{key:"getUserCards",value:function(){return fetch("".concat(this._url,"/cards"),{headers:this._headers}).then(this._getResponseData)}},{key:"setUserData",value:function(e){return fetch("".concat(this._url,"/users/me"),{headers:this._headers,method:"PATCH",body:JSON.stringify({name:e.name,about:e.about})}).then(this._getResponseData)}},{key:"setAvatarData",value:function(e){return fetch("".concat(this._url,"/users/me/avatar"),{headers:this._headers,method:"PATCH",body:JSON.stringify({avatar:e.avatar})}).then(this._getResponseData)}},{key:"pushNewCard",value:function(e){return fetch("".concat(this._url,"/cards"),{headers:this._headers,method:"POST",body:JSON.stringify({name:e.name,link:e.link})}).then(this._getResponseData)}},{key:"deleteCard",value:function(e){return fetch("https://mesto.nomoreparties.co/v1/cohort-48/cards/".concat(e),{headers:this._headers,method:"DELETE"}).then(this._getResponseData)}},{key:"setLike",value:function(e){return fetch("https://mesto.nomoreparties.co/v1/cohort-48/cards/".concat(e,"/likes"),{headers:this._headers,method:"PUT"}).then(this._getResponseData)}},{key:"removeLike",value:function(e){return fetch("https://mesto.nomoreparties.co/v1/cohort-48/cards/".concat(e,"/likes"),{headers:this._headers,method:"DELETE"}).then(this._getResponseData)}}])&&X(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Z={formSelector:".form",inputSelector:".form__input",submitButtonSelector:".form__bottom-submit",inactiveButtonClass:"form__bottom-submit_status_inactive",inputErrorClass:"form__input_type_error",errorClass:"form__input-error_active"};function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var te=new v(Z,s),ne=new v(Z,i),re=new v(Z,d);te.enableValidation(),ne.enableValidation(),re.enableValidation();var oe=new Y({url:"https://mesto.nomoreparties.co/v1/cohort-48",headers:{authorization:"25ce2e8c-2a55-4b07-a594-407cca6a6dd7","content-type":"application/json"}});function ie(e){e.currentUser=he.getUserInfo();var t=new g(e,"#card_template",{onClick:ce,onDeleteCard:function(e,t){le.open(),le.setConfirmAction((function(){oe.deleteCard(e._id).then((function(){t(),le.close()})).catch((function(e){console.log("Ошибка: ",e)}))}))},onLike:function(e,n){t.isLiked()?oe.removeLike(e._id).then((function(e){return n(e.likes)})).catch((function(e){console.log("Ошибка: ",e)})):oe.setLike(e._id).then((function(e){return n(e.likes)})).catch((function(e){console.log("Ошибка: ",e)}))}});return t.generateCard()}var ae=new w({renderer:function(e){var t=ie(e);ae.addItem(t)}},o),ue=new B(l);function ce(e,t){ue.open(e,t)}ue.setEventListeners(),n.addEventListener("click",(function(){ne.resetVadlidation();var e=he.getUserInfo(),t=e.name,n=e.about;a.value=t,u.value=n,ne.toggleButtonState(),se.open()}));var se=new N(r,(function(e){se.saveButton(!0),oe.setUserData(e).then((function(e){he.setUserInfo(e),se.close()})).catch((function(e){console.log("Ошибка: ",e)})).finally((function(){se.saveButton(!1)}))}));se.setEventListeners();var le=new K(p);le.setEventListeners(),Promise.all([oe.getUserCards(),oe.getUserData()]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ee(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];he.setUserInfo(i),ae.renderItems(o)})).catch((function(e){console.log(e)})),h.addEventListener("click",(function(){re.resetVadlidation(),fe.open(),re.toggleButtonState()}));var fe=new N(y,(function(e){fe.saveButton(!0),oe.setAvatarData(e).then((function(e){he.setUserInfo(e),fe.close()})).catch((function(e){console.log("Ошибка: ",e)})).finally((function(){fe.saveButton(!1)}))}));fe.setEventListeners();var pe=new N(c,(function(e){pe.saveButton(!0),oe.pushNewCard(e).then((function(e){ae.addItem(ie(e)),pe.close()})).catch((function(e){console.log(e)})).finally((function(){pe.saveButton(!1)}))}));pe.setEventListeners(),f.addEventListener("click",(function(){te.resetVadlidation(),pe.open(),te.toggleButtonState()}));var he=new W(e,t)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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anMiLCJ3ZWJwYWNrOi8vYmwvLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL2JsLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9ibC8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vYmwvLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9ibC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL2JsLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9ibC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm1hdGlvbi5qcyIsIndlYnBhY2s6Ly9ibC8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL2JsLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL2JsLy4vc3JjL3V0aWxzL2NvbmZpZy5qcyIsIndlYnBhY2s6Ly9ibC8uL3NyYy9wYWdlcy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgcHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fbmFtZScpO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVBYm91dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hYm91dCcpO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVFZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2VkaXQtYnV0dG9uJyk7XG5leHBvcnQgY29uc3QgcHJvZmlsZVBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX3R5cGVfcHJvZmlsZScpO1xuZXhwb3J0IGNvbnN0IGVsZW1lbnRMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnQtbGlzdCcpO1xuXG5leHBvcnQgY29uc3QgcHJvZmlsZUZvcm0gPSBwcm9maWxlUG9wdXAucXVlcnlTZWxlY3RvcignLmZvcm0nKTtcbmV4cG9ydCBjb25zdCBuYW1lSW5wdXQgPSBwcm9maWxlUG9wdXAucXVlcnlTZWxlY3RvcignLmZvcm1fX2lucHV0X3R5cGVfbmFtZScpO1xuZXhwb3J0IGNvbnN0IGpvYklucHV0ID0gcHJvZmlsZVBvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtX19pbnB1dF90eXBlX2Fib3V0Jyk7XG5leHBvcnQgY29uc3QgbmV3UGxhY2VQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF90eXBlX3BsYWNlJyk7XG5leHBvcnQgY29uc3QgZm9ybU5ld0VsZW1lbnQgPSBuZXdQbGFjZVBvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtJyk7XG5cbmV4cG9ydCBjb25zdCBwbGFjZU5hbWUgPSBuZXdQbGFjZVBvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtX19pbnB1dF90eXBlX25hbWUnKTtcbmV4cG9ydCBjb25zdCBwbGFjZVVybCA9IG5ld1BsYWNlUG9wdXAucXVlcnlTZWxlY3RvcignLmZvcm1fX2lucHV0X3R5cGVfYWJvdXQnKTtcblxuZXhwb3J0IGNvbnN0IHBpY3R1cmVQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF90eXBlX3BpYycpO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVQbGFjZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19wbGFjZS1idXR0b24nKTtcblxuZXhwb3J0IGNvbnN0IG5vdGlmaWNhdGlvblBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX3R5cGVfbm90aWZpY2F0aW9uJyk7XG5leHBvcnQgY29uc3QgYnRuT3ZlcmxheUF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19vdmVybGF5Jyk7XG5leHBvcnQgY29uc3QgYXZhdGFyUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfdHlwZV9mb3ItYXZhdGFyJyk7XG5leHBvcnQgY29uc3QgZm9ybU5ld0F2YXRhciA9IGF2YXRhclBvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtJyk7XG4iLCJleHBvcnQgY2xhc3MgRm9ybVZhbGlkYXRvciB7IC8qKiBAbW9kdWxlINCe0YLQstC10YfQsNC10YIg0LfQsCDQstCw0LvQuNC00LDRhtC40Y4g0YTQvtGA0LzRiyovXG4gICAgY29uc3RydWN0b3IoY29uZmlnLCBmb3JtRWxlbWVudCkge1xuICAgICAgICB0aGlzLl9jb25maWcgPSBjb25maWc7XG4gICAgICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XG4gICAgICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20oZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChjb25maWcuaW5wdXRTZWxlY3RvcikpO1xuICAgICAgICB0aGlzLl9idXR0b25FbGVtZW50ID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3Rvcihjb25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xuICAgIH07XG5cbiAgICBfaXNWYWxpZGl0eShpbnB1dEVsZW1lbnQpIHsgLy/Qv9GA0Y/Rh9C10YIg0LjQu9C4INC/0L7QutCw0LfRi9Cy0LDQtdGCINC+0YjQuNCx0LrQuCDQsiDQt9Cw0LLQuNGB0LjQvNC+0YHRgtC4INC+0YIg0LLQsNC70LjQtNC90L7RgdGC0Lgg0L/QvtC70LXQuSDQstGL0LfRi9Cy0LDQtdGCINGB0L7QvtGC0LIuINGE0YPQvdC60YbQuNGOXG4gICAgICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICAgICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBfaGFzSW52YWxpZElucHV0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7IC8vINC/0L7QutCw0LfRi9Cy0LDQtdGCINC+0YjQuNCx0LrQuFxuICAgICAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yRWxlbWVudClcbiAgICAgICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fY29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XG4gICAgICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZTtcbiAgICAgICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fY29uZmlnLmVycm9yQ2xhc3MpO1xuICAgIH07XG5cbiAgICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7IC8v0L/RgNGP0YfQtdGCINC+0YjQuNCx0LrQuFxuICAgICAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XG4gICAgICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2NvbmZpZy5pbnB1dEVycm9yQ2xhc3MpO1xuICAgICAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9jb25maWcuZXJyb3JDbGFzcyk7XG4gICAgICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9ICcnO1xuICAgIH07XG5cbiAgICB0b2dnbGVCdXR0b25TdGF0ZSgpIHsgLy/RgNC10LPRg9C70LjRgNGD0LXRgiDRgdC+0YHRgtC+0Y/QvdC40LUg0LrQvdC+0L/QutC4XG4gICAgICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoKSkge1xuICAgICAgICAgICAgdGhpcy5fc2V0RGlzYWJsZWRCdXR0b24oKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3NldEVuYWJsZWRCdXR0b24oKVxuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBfc2V0RGlzYWJsZWRCdXR0b24oKSB7IC8v0YDQtdCz0YPQu9C40YDRg9C10YIg0YHQvtGB0YLQvtGP0L3QuNC1INC60L3QvtC/0LrQuCBvZmZcbiAgICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2NvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgX3NldEVuYWJsZWRCdXR0b24oKSB7IC8v0YDQtdCz0YPQu9C40YDRg9C10YIg0YHQvtGB0YLQvtGP0L3QuNC1INC60L3QvtC/0LrQuCBvblxuICAgICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3MpXG4gICAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICByZXNldFZhZGxpZGF0aW9uID0gKCkgPT4geyAvL9GB0LHRgNCw0YHRi9Cy0LDQtdGCINGB0L7RgdGC0L7Rj9C90LjRjyDQvtGI0LjQsdC+0LosINC40YHQv9C+0LvRjNC30YPQtdGC0YHRjyDQv9GA0Lgg0L7RgtC60YDRi9GC0LjQuCDQv9C+0L/QsNC/0L7QslxuICAgICAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRJdGVtKSA9PiB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEl0ZW0pKTtcbiAgICB9XG5cbiAgICBfc2V0RXZlbnRMaXN0ZW5lcnMgPSAoKSA9PiB7IC8vINGD0YHRgtCw0L3QsNCy0LvQuNCy0LLQsNC10YIg0YHQu9GD0YjQsNGC0LXQu9C4XG4gICAgICAgIHRoaXMudG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2lzVmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIGVuYWJsZVZhbGlkYXRpb24oKSB7IC8vINCy0LrQu9GO0YfQsNC10YIg0LLQsNC70LjQtNCw0YbQuNGOINGE0L7RgNC80YtcbiAgICAgICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB9O1xufTtcbiIsImV4cG9ydCBjbGFzcyBDYXJkIHtcbiAgICBjb25zdHJ1Y3RvcihkYXRhLCBjYXJkdGVtcGxhdGUsIGhhbmRsZXIpIHsgLyoqIEBtb2R1bGUg0J7RgtCy0LXRh9Cw0LXRgiDQt9CwINCz0LXQvdC10YDQsNGG0LjRjiDQutCw0YDRgiovXG4gICAgICAgIHRoaXMuX2RhdGEgPSBkYXRhO1xuICAgICAgICB0aGlzLl9vbkxpa2VIYW5kbGVyID0gaGFuZGxlci5vbkxpa2U7XG4gICAgICAgIHRoaXMuX3JlbW92ZVBpYyA9IGhhbmRsZXIub25EZWxldGVDYXJkO1xuICAgICAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVyLm9uQ2xpY2s7XG4gICAgICAgIHRoaXMuX2NhcmRUZW1wbGF0ZSA9IGNhcmR0ZW1wbGF0ZTtcbiAgICAgICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XG4gICAgICAgIHRoaXMubWFza0dyb3VwSW1nID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fbWFzay1ncm91cCcpO1xuICAgICAgICB0aGlzLm1hc2tHcm91cE5hbWUgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19wbGFjZS1uYW1lJyk7XG4gICAgICAgIHRoaXMuX2xpa2VCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19saWtlLWJ1dHRvbicpO1xuICAgICAgICB0aGlzLl9idG5SZW1vdmVDYXJkID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fYnRuLXJlbW92ZScpO1xuICAgICAgICB0aGlzLmxpa2VzRWxlbWVudCA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2xpa2UtY291bnRlcicpO1xuICAgICAgICB0aGlzLm1hc2tHcm91cEltZy5zcmMgPSB0aGlzLl9kYXRhLmxpbms7XG4gICAgICAgIHRoaXMubWFza0dyb3VwTmFtZS50ZXh0Q29udGVudCA9IHRoaXMuX2RhdGEubmFtZTtcbiAgICAgICAgdGhpcy5tYXNrR3JvdXBJbWcuYWx0ID0gdGhpcy5fZGF0YS5uYW1lO1xuICAgICAgICB0aGlzLmxpa2VzRWxlbWVudC50ZXh0Q29udGVudCA9IHRoaXMuX2RhdGEubGlrZXMubGVuZ3RoO1xuICAgICAgICBpZiAodGhpcy5pc0xpa2VkKCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LmFkZCgnZWxlbWVudF9fbGlrZS1idXR0b25fYWN0aXZlJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2VsZW1lbnRfX2xpa2UtYnV0dG9uX2FjdGl2ZScpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5pc093bmVyKCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2J0blJlbW92ZUNhcmQucmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKVxuICAgIH1cblxuICAgIGlzTGlrZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kYXRhLmxpa2VzLnNvbWUoKGl0ZW0pID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kYXRhLmN1cnJlbnRVc2VyLmlkID09PSBpdGVtLl9pZFxuICAgICAgICB9KVxuICAgIH1cbiAgICBpc093bmVyKCkge1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9kYXRhLmN1cnJlbnRVc2VyLmlkID09PSB0aGlzLl9kYXRhLm93bmVyLl9pZFxuICAgIH1cblxuICAgIF9oYW5kbGVMaWtlKCkge1xuICAgICAgICAvLyDQstGL0LfQvtCyINC60L7Qu9Cx0LXQutCwLCDQutC+0YLQvtGA0YvQuSDQv9GA0LjRiNGR0Lsg0YHQvdCw0YDRg9C20LhcbiAgICAgICAgdGhpcy5fb25MaWtlSGFuZGxlcihcbiAgICAgICAgICAgIHRoaXMuX2RhdGEsXG4gICAgICAgICAgICAodXBkYXRlZExpa2VzKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZGF0YS5saWtlcyA9IHVwZGF0ZWRMaWtlcztcbiAgICAgICAgICAgICAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoJ2VsZW1lbnRfX2xpa2UtYnV0dG9uX2FjdGl2ZScsIHRoaXMuaXNMaWtlZCgpKTtcbiAgICAgICAgICAgICAgICB0aGlzLmxpa2VzRWxlbWVudC50ZXh0Q29udGVudCA9IHRoaXMuX2RhdGEubGlrZXMubGVuZ3RoO1xuICAgICAgICAgICAgfSk7XG4gICAgfVxuICAgIF9nZXRUZW1wbGF0ZSgpIHtcbiAgICAgICAgY29uc3QgY2FyZE5ld0VsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRUZW1wbGF0ZSkuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRcIikuY2xvbmVOb2RlKHRydWUpO1xuICAgICAgICByZXR1cm4gY2FyZE5ld0VsZW1lbnRcbiAgICB9XG4gICAgZ2VuZXJhdGVDYXJkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZWxlbWVudFxuICAgIH1cblxuICAgIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZUxpa2UoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX2J0blJlbW92ZUNhcmQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX3JlbW92ZVBpYyh0aGlzLl9kYXRhLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlVHJhc2hCdG5DbGljaygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm1hc2tHcm91cEltZy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKHsgbmFtZTogdGhpcy5fZGF0YS5uYW1lLCBsaW5rOiB0aGlzLl9kYXRhLmxpbmsgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfaGFuZGxlVHJhc2hCdG5DbGljaygpIHtcbiAgICAgICAgdGhpcy5fZWxlbWVudC5yZW1vdmUoKTtcbiAgICAgICAgdGhpcy5fZWxlbWVudCA9IG51bGw7XG4gICAgfVxuXG59XG4iLCJleHBvcnQgY2xhc3MgU2VjdGlvbiB7IC8qKiBAbW9kdWxlINC60LvQsNGB0YEg0L7RgtGA0LjRgdC+0LLQutC4INC80LDRgdGB0LjQstCwINC60LDRgNGC0L7Rh9C10LouICAqL1xuICAgIGNvbnN0cnVjdG9yKHsgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcbiAgICAgICAgdGhpcy5fZnVuY3Rpb25SZW5kZXIgPSByZW5kZXJlcjtcbiAgICAgICAgdGhpcy5fY29udGFpbmVyID0gY29udGFpbmVyU2VsZWN0b3I7XG4gICAgfVxuXG4gICAgcmVuZGVySXRlbXMoZGF0YSkge1xuICAgICAgICBkYXRhLnJldmVyc2UoKS5mb3JFYWNoKGl0ZW0gPT4gdGhpcy5fZnVuY3Rpb25SZW5kZXIoaXRlbSkpO1xuICAgIH1cblxuICAgIGFkZEl0ZW0oZWxlbWVudCkge1xuICAgICAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcbiAgICB9XG59XG4iLCJleHBvcnQgY2xhc3MgUG9wdXAge1xuICAgIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICAgICAgdGhpcy5fcG9wdXBTZWxlY3RvciA9IHBvcHVwU2VsZWN0b3I7XG4gICAgICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlQmluZGVkID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcbiAgICB9XG4gICAgb3BlbigpIHtcbiAgICAgICAgdGhpcy5fcG9wdXBTZWxlY3Rvci5jbGFzc0xpc3QuYWRkKCdwb3B1cF9vcGVuZWQnKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlQmluZGVkKTtcbiAgICB9XG4gICAgY2xvc2UoKSB7XG4gICAgICAgIHRoaXMuX3BvcHVwU2VsZWN0b3IuY2xhc3NMaXN0LnJlbW92ZSgncG9wdXBfb3BlbmVkJyk7XG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZUJpbmRlZCk7XG4gICAgfVxuICAgIF9oYW5kbGVFc2NDbG9zZShldnQpIHsgLy/QnNC10YLQvtC0INC/0L7Qt9Cy0L7Qu9GP0Y7RidC40Lkg0LfQsNC60YDRi9Cy0LDRgtGMINC/0L7Qv9Cw0L/RiyDQv9C+IEVzY1xuICAgICAgICBpZiAoZXZ0LmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXRFdmVudExpc3RlbmVycygpIHsgLy/QnNC10YLQvtC0INC/0L7Qt9Cy0L7Qu9GP0Y7RidC40Lkg0LfQsNC60YDRi9Cy0LDRgtGMINC/0L7Qv9Cw0L/RiyDQv9C+INC60LvQuNC60YMg0L3QsCDQutGA0LXRgdGC0LjQuiDQuCDQvtCy0LXRgNC70LXQuVxuICAgICAgICB0aGlzLl9wb3B1cFNlbGVjdG9yLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChldnQpID0+IHtcbiAgICAgICAgICAgIGlmIChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncG9wdXBfb3BlbmVkJykgfHwgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cF9fY2xvc2UnKSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUG9wdXAgfSBmcm9tICcuL1BvcHVwLmpzJ1xuXG5leHBvcnQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7IC8qKiBAbW9kdWxlINCe0YLQstC10YfQsNC10YIg0LfQsCDQvtGC0LrRgNGL0YLQuNC1INC60LDRgNGC0LjQvdC60LgqL1xuICAgIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICAgICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgICAgIHRoaXMuX3BvcHVwUGhvdG9UaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fY2FwdGlvbicpO1xuICAgICAgICB0aGlzLl9wb3B1cFBob3RvSW1nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbWcnKTtcbiAgICB9XG5cbiAgICBvcGVuKHsgbmFtZSwgbGluayB9KSB7IC8v0L7RgtC60YDRi9GC0LjQtSDQutCw0YDRgtC40L3QutC4INC4INC/0LXRgNC10LTQsNGH0LAg0LfQvdCw0YfQtdC90LjQuVxuICAgICAgICB0aGlzLl9wb3B1cFBob3RvSW1nLnNyYyA9IGxpbms7XG4gICAgICAgIHRoaXMuX3BvcHVwUGhvdG9JbWcuYWx0ID0gbmFtZTtcbiAgICAgICAgdGhpcy5fcG9wdXBQaG90b1RpdGxlLnRleHRDb250ZW50ID0gbmFtZTtcblxuICAgICAgICBzdXBlci5vcGVuKCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUG9wdXAgfSBmcm9tIFwiLi9Qb3B1cC5qc1wiXG5cbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAgeyAvKiogQG1vZHVsZSDQntGC0LLQtdGH0LDQtdGCINC30LAg0L7RgtC60YDRi9GC0LjQtSDQv9C+0L/QsNC/0L7QsiDRhNC+0YDQvCovXG4gICAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCkgeyAvL9Cf0LXRgNC10LTQsNC10Lwg0LrQvtC70LHQtdC6XG4gICAgICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpXG4gICAgICAgIHRoaXMuX3BvcHVwU2VsZWN0b3IgPSBwb3B1cFNlbGVjdG9yO1xuICAgICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcbiAgICAgICAgdGhpcy5fZm9ybUVsZW1lbnQgPSB0aGlzLl9wb3B1cFNlbGVjdG9yLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtJyk7XG4gICAgICAgIHRoaXMuX2J0blNhdmUgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZm9ybV9fYm90dG9tLXN1Ym1pdCcpO1xuICAgICAgICB0aGlzLl9idG5TYXZlVGV4dCA9IHRoaXMuX2J0blNhdmUudGV4dENvbnRlbnQ7XG4gICAgICAgIHRoaXMuX2Zvcm1JbnB1dExpc3QgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5mb3JtX19pbnB1dCcpKTsgLy/QodC+0LHQuNGA0LDQtdC8INC60L7Qu9C70LXQutGG0LjRjiDQuNC90L/Rg9GC0L7QslxuXG4gICAgfVxuICAgIF9nZXRJbnB1dFZhbHVlcygpIHtcbiAgICAgICAgdGhpcy5fZm9ybVZhbHVlcyA9IHt9OyAvL9Cf0LXRgNC10LTQsNC10Lwg0LjRhSDQsiDQvNCw0YHRgdC40LJcbiAgICAgICAgdGhpcy5fZm9ybUlucHV0TGlzdC5mb3JFYWNoKGlucHV0ID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2Zvcm1WYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vINCy0L7Qt9Cy0YDQsNGJ0LDQtdC8INC+0LHRitC10LrRgiDQt9C90LDRh9C10L3QuNC5XG4gICAgICAgIHJldHVybiB0aGlzLl9mb3JtVmFsdWVzO1xuICAgIH1cbiAgICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICAgICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICAgICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xuICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpOyAvL9Cf0LXRgNC10LTQsNC10Lwg0LTQsNC90L3Ri9C1INCyINC60L7Qu9Cx0LXQulxuICAgICAgICB9KVxuICAgIH1cbiAgICBzYXZlQnV0dG9uKGlzU2F2ZSkgeyAvL9Cc0LXRgtC+0LQg0YDQtdCw0LvQuNC30YPQtdGCIFVYINGBINC60L3QvtC/0LrQvtC5INCy0YHQtdGFIHN1Ym1pdCDQv9C+0L/QsNC/0L7QslxuICAgICAgICBpZiAoaXNTYXZlKSB7XG4gICAgICAgICAgICB0aGlzLl9idG5TYXZlLnRleHRDb250ZW50ID0gJ9Ch0L7RhdGA0LDQvdC10L3QuNC1Li4uJ1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fYnRuU2F2ZS50ZXh0Q29udGVudCA9IHRoaXMuX2J0blNhdmVUZXh0O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2xvc2UoKSB7IC8v0LfQsNC60YDRi9Cy0LDQtdGCINC4INC+0YLRh9C40YnQsNC10YIg0LjQvdC/0YPRgtGLXG4gICAgICAgIHN1cGVyLmNsb3NlKCk7XG4gICAgICAgIHRoaXMuX2Zvcm1FbGVtZW50LnJlc2V0KCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUG9wdXAgfSBmcm9tIFwiLi9Qb3B1cC5qc1wiXG5leHBvcnQgY2xhc3MgUG9wdXBXaXRoQ29uZmlybWF0aW9uIGV4dGVuZHMgUG9wdXAge1xuICAgIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICAgICAgc3VwZXIocG9wdXBTZWxlY3RvcilcbiAgICAgICAgdGhpcy5fcG9wdXBTZWxlY3RvciA9IHBvcHVwU2VsZWN0b3I7XG4gICAgICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gdGhpcy5fcG9wdXBTZWxlY3Rvci5xdWVyeVNlbGVjdG9yKCcuZm9ybScpO1xuICAgICAgICB0aGlzLl9zZXRDb25maXJtQWN0aW9uID0gKCkgPT4ge31cblxuICAgIH1cbiAgICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICAgICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICAgICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4geyAvL9Cf0L7QtNGC0LLQtdGA0LbQtNC10L3QuNC1INGD0LTQsNC70LXQvdC40Y9cbiAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgdGhpcy5fc2V0Q29uZmlybUFjdGlvbigpO1xuICAgICAgICB9KVxuICAgIH1cbiAgICBzZXRDb25maXJtQWN0aW9uKGFjdGlvbikgeyAvL9Cf0LXRgNC10LTQsNC10YIg0LrQvtC70LHQtdC6INCyINC60L7QvdGB0YLRgNGD0LrRgtC+0YBcbiAgICAgICAgdGhpcy5fc2V0Q29uZmlybUFjdGlvbiA9IGFjdGlvbjtcbiAgICB9XG5cblxufVxuIiwiZXhwb3J0IGNsYXNzIFVzZXJJbmZvIHsgLyoqIEBtb2R1bGUg0J/QtdGA0LXQtNCw0LXRgiDQuNC90YTQvtGA0LzQsNGG0LjRjiDQvdCwINGB0YLRgNCw0L3QuNGG0YMgKi9cbiAgICBjb25zdHJ1Y3Rvcih1c2VyTmFtZVNlbGVjdG9yLCB1c2VySW5mb1NlbGVjdG9yKSB7XG4gICAgICAgIHRoaXMuX3VzZXJOYW1lID0gdXNlck5hbWVTZWxlY3RvcjtcbiAgICAgICAgdGhpcy5fdXNlckluZm8gPSB1c2VySW5mb1NlbGVjdG9yO1xuICAgICAgICB0aGlzLl9hdmF0YXJTZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hdmF0YXInKTtcblxuICAgIH1cblxuICAgIC8v0J/Rg9Cx0LvQuNGH0L3Ri9C5INC80LXRgtC+0LQg0L/RgNC40L3QuNC80LDQtdGCINC+0LHRitC10LrRgiDRgSDQtNCw0L3QvdGL0LzQuCDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y9cblxuICAgIGdldFVzZXJJbmZvKCkge1xuICAgICAgICBjb25zdCB1c2VyRGF0YSA9IHt9O1xuICAgICAgICB1c2VyRGF0YS5uYW1lID0gdGhpcy5fdXNlck5hbWUudGV4dENvbnRlbnQ7XG4gICAgICAgIHVzZXJEYXRhLmFib3V0ID0gdGhpcy5fdXNlckluZm8udGV4dENvbnRlbnQ7XG4gICAgICAgIHVzZXJEYXRhLmlkID0gdGhpcy5fdXNlcklkO1xuXG4gICAgICAgIHJldHVybiB1c2VyRGF0YTtcbiAgICB9XG5cbiAgICBzZXRVc2VySW5mbyhkYXRhKSB7XG4gICAgICAgIHRoaXMuX2RhdGEgPSBkYXRhO1xuICAgICAgICB0aGlzLl91c2VyTmFtZS50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcbiAgICAgICAgdGhpcy5fdXNlckluZm8udGV4dENvbnRlbnQgPSBkYXRhLmFib3V0O1xuICAgICAgICB0aGlzLl9hdmF0YXJTZWxlY3Rvci5zcmMgPSBkYXRhLmF2YXRhcjtcbiAgICAgICAgdGhpcy5fdXNlcklkID0gZGF0YS5faWQ7XG4gICAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIEFwaSB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICB0aGlzLl91cmwgPSBvcHRpb25zLnVybDtcbiAgICAgICAgdGhpcy5faGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycztcblxuICAgIH1cbiAgICBfZ2V0UmVzcG9uc2VEYXRhKHJlcykge1xuICAgICAgICBpZiAoIXJlcy5vaykge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LA6ICR7cmVzLnN0YXR1c31gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICB9XG4gICAgZ2V0VXNlckRhdGEoKSB7XG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L3VzZXJzL21lYCwgeyBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzIH0pXG4gICAgICAgICAgICAudGhlbih0aGlzLl9nZXRSZXNwb25zZURhdGEpXG4gICAgfVxuICAgIGdldFVzZXJDYXJkcygpIHtcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vY2FyZHNgLCB7IGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMgfSlcbiAgICAgICAgICAgIC50aGVuKHRoaXMuX2dldFJlc3BvbnNlRGF0YSlcbiAgICB9XG4gICAgc2V0VXNlckRhdGEoZGF0YSkge1xuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS91c2Vycy9tZWAsIHtcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICAgICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICBuYW1lOiBkYXRhLm5hbWUsXG4gICAgICAgICAgICAgICAgYWJvdXQ6IGRhdGEuYWJvdXRcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pLnRoZW4odGhpcy5fZ2V0UmVzcG9uc2VEYXRhKVxuICAgIH1cbiAgICBzZXRBdmF0YXJEYXRhKGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgICAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgIGF2YXRhcjogZGF0YS5hdmF0YXJcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pLnRoZW4odGhpcy5fZ2V0UmVzcG9uc2VEYXRhKVxuICAgIH1cbiAgICBwdXNoTmV3Q2FyZChkYXRhKSB7XG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzYCwge1xuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgbmFtZTogZGF0YS5uYW1lLFxuICAgICAgICAgICAgICAgIGxpbms6IGRhdGEubGlua1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfSkudGhlbih0aGlzLl9nZXRSZXNwb25zZURhdGEpXG5cbiAgICB9XG5cbiAgICBkZWxldGVDYXJkKGNhcmRJRCkge1xuICAgICAgICByZXR1cm4gZmV0Y2goYGh0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtNDgvY2FyZHMvJHtjYXJkSUR9YCwge1xuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICAgIH0pLnRoZW4odGhpcy5fZ2V0UmVzcG9uc2VEYXRhKVxuICAgIH1cbiAgICBzZXRMaWtlKGNhcmRJRCkge1xuICAgICAgICByZXR1cm4gZmV0Y2goYGh0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtNDgvY2FyZHMvJHtjYXJkSUR9L2xpa2VzYCwge1xuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgIH0pLnRoZW4odGhpcy5fZ2V0UmVzcG9uc2VEYXRhKVxuICAgIH1cblxuICAgIHJlbW92ZUxpa2UoY2FyZElEKSB7XG4gICAgICAgIHJldHVybiBmZXRjaChgaHR0cHM6Ly9tZXN0by5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC00OC9jYXJkcy8ke2NhcmRJRH0vbGlrZXNgLCB7XG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgICAgfSkudGhlbih0aGlzLl9nZXRSZXNwb25zZURhdGEpXG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IGNvbmZpZyA9IHtcbiAgICBmb3JtU2VsZWN0b3I6ICcuZm9ybScsXG4gICAgaW5wdXRTZWxlY3RvcjogJy5mb3JtX19pbnB1dCcsXG4gICAgc3VibWl0QnV0dG9uU2VsZWN0b3I6ICcuZm9ybV9fYm90dG9tLXN1Ym1pdCcsXG4gICAgaW5hY3RpdmVCdXR0b25DbGFzczogJ2Zvcm1fX2JvdHRvbS1zdWJtaXRfc3RhdHVzX2luYWN0aXZlJyxcbiAgICBpbnB1dEVycm9yQ2xhc3M6ICdmb3JtX19pbnB1dF90eXBlX2Vycm9yJyxcbiAgICBlcnJvckNsYXNzOiAnZm9ybV9faW5wdXQtZXJyb3JfYWN0aXZlJyxcbn07XG5leHBvcnQgY29uc3QgYXBpQ29uZmlnID0ge1xuICAgIHVybDogXCJodHRwczovL21lc3RvLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTQ4XCIsXG4gICAgaGVhZGVyczoge1xuICAgICAgICBhdXRob3JpemF0aW9uOiAnMjVjZTJlOGMtMmE1NS00YjA3LWE1OTQtNDA3Y2NhNmE2ZGQ3JyxcbiAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICB9XG59O1xuIiwiaW1wb3J0ICcuL2luZGV4LmNzcyc7XG5pbXBvcnQge1xuICAgIGZvcm1OZXdBdmF0YXIsXG4gICAgYXZhdGFyUG9wdXAsXG4gICAgYnRuT3ZlcmxheUF2YXRhcixcbiAgICBub3RpZmljYXRpb25Qb3B1cCxcbiAgICBwcm9maWxlTmFtZSxcbiAgICBwcm9maWxlQWJvdXQsXG4gICAgcHJvZmlsZUVkaXRCdXR0b24sXG4gICAgcHJvZmlsZVBvcHVwLFxuICAgIGVsZW1lbnRMaXN0LFxuICAgIHByb2ZpbGVGb3JtLFxuICAgIG5hbWVJbnB1dCxcbiAgICBqb2JJbnB1dCxcbiAgICBuZXdQbGFjZVBvcHVwLFxuICAgIGZvcm1OZXdFbGVtZW50LFxuICAgIHBpY3R1cmVQb3B1cCxcbiAgICBwcm9maWxlUGxhY2VCdXR0b25cbn0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzLmpzJztcbmltcG9ydCB7IEZvcm1WYWxpZGF0b3IgfSBmcm9tICcuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMnO1xuaW1wb3J0IHsgQ2FyZCB9IGZyb20gJy4uL2NvbXBvbmVudHMvQ2FyZC5qcyc7XG5pbXBvcnQgeyBTZWN0aW9uIH0gZnJvbSAnLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzJztcbmltcG9ydCB7IFBvcHVwV2l0aEltYWdlIH0gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyc7XG5pbXBvcnQgeyBQb3B1cFdpdGhGb3JtIH0gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzJztcbmltcG9ydCB7IFBvcHVwV2l0aENvbmZpcm1hdGlvbiB9IGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybWF0aW9uLmpzJztcbmltcG9ydCB7IFVzZXJJbmZvIH0gZnJvbSAnLi4vY29tcG9uZW50cy9Vc2VySW5mby5qcyc7XG5pbXBvcnQgeyBBcGkgfSBmcm9tICcuLi9jb21wb25lbnRzL0FwaS5qcyc7XG5pbXBvcnQgeyBjb25maWcsIGFwaUNvbmZpZyB9IGZyb20gJy4uL3V0aWxzL2NvbmZpZy5qcyc7XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIC0g0KHQvtC30LTQsNC90LjQtSDQutC70LDRgdGB0L7QsiDQstCw0LvQuNC00LDRhtC40Lgg0YTQvtGA0Lwg0L/QvtC/0LDQv9C+0LIo0J/RgNC+0YTQuNC70YwsINC00L7QsdCw0LLQu9C10L3QuNC1INC60LDRgNGCLCDRgdC80LXQvdCwINCw0LLQsNGC0LDRgNCwKSzQt9Cw0L/Rg9GB0LrQsNC10YIg0LLQsNC70LjQtNCw0YbQuNGOLlxuICovXG5jb25zdCB2YWxpZGF0ZUZvcm1OZXdFbGVtZW50ID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnLCBmb3JtTmV3RWxlbWVudCk7XG5jb25zdCB2YWxpZGF0ZVByb2ZpbGVGb3JtID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnLCBwcm9maWxlRm9ybSk7XG5jb25zdCB2YWxpZGF0ZUF2YXRhRm9ybSA9IG5ldyBGb3JtVmFsaWRhdG9yKGNvbmZpZywgZm9ybU5ld0F2YXRhcik7XG5cbnZhbGlkYXRlRm9ybU5ld0VsZW1lbnQuZW5hYmxlVmFsaWRhdGlvbigpO1xudmFsaWRhdGVQcm9maWxlRm9ybS5lbmFibGVWYWxpZGF0aW9uKCk7XG52YWxpZGF0ZUF2YXRhRm9ybS5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIC0g0LrQu9Cw0YHRgSDRgdC+0LTQtdGA0LbQuNGCINC80LXRgtC+0LTRiyBBUEkg0LfQsNC/0YDQvtGB0L7QslxuICovXG5jb25zdCBhcGkgPSBuZXcgQXBpKGFwaUNvbmZpZyk7XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIC0g0YTRg9C90LrRhtC40Y8g0LLRi9C30YvQstCw0Y7RidCw0Y8g0LzQtdGC0L7QtNGLINC60LvQsNGB0YHQvtCyIEFQSSwgVXNlckluZm8sIFBvcHVwV2l0aEZvcm0u0KHQvtC30LTQsNGO0YnQsNGPINC60LDRgNGC0L7Rh9C60YMg0Lgg0L3QsNC/0L7Qu9C90Y/QtdGCINGE0YPQvdC60YbQuNC+0L3QsNC70YzQvdC+0YHRgtGM0Y5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlQ2FyZENsYXNzKGRhdGEpIHtcbiAgICBkYXRhLmN1cnJlbnRVc2VyID0gcHJvZmlsZUluZm8uZ2V0VXNlckluZm8oKTtcbiAgICBjb25zdCBjYXJkID0gbmV3IENhcmQoXG4gICAgICAgIGRhdGEsICcjY2FyZF90ZW1wbGF0ZScsIHtcbiAgICAgICAgICAgIG9uQ2xpY2s6IGhhbmRsZUNhcmRDbGljaywgLy8g0L7RgtC60YDRi9GC0LjQtSDQv9C+0L/QsNC/0LBcbiAgICAgICAgICAgIG9uRGVsZXRlQ2FyZDogKGN1cnJlbnRDYXJkLCByZW1vdmVDYXJkKSA9PiB7IC8vINGE0YPQvdC60YbQuNC+0L3QsNC70YzQvdC+0YHRgtGMINGD0LTQsNC70LXQvdC40LUg0LrQsNGA0YLRi1xuICAgICAgICAgICAgICAgIGNvbmZpcm1Qb3B1cC5vcGVuKCk7XG4gICAgICAgICAgICAgICAgY29uZmlybVBvcHVwLnNldENvbmZpcm1BY3Rpb24oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBhcGkuZGVsZXRlQ2FyZChjdXJyZW50Q2FyZC5faWQpLnRoZW4oKCkgPT4geyAvLyDQvtGC0L/RgNCw0LLQu9GP0LXQvCDQt9Cw0L/RgNC+0YFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVDYXJkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlybVBvcHVwLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn0J7RiNC40LHQutCwOiAnLCBlcnIpOyAvLyDQstGL0LLQtdC00LXQvCDQvtGI0LjQsdC60YMg0LIg0LrQvtC90YHQvtC70YxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uTGlrZTogKGN1cnJlbnRDYXJkLCBsaWtlQ2FsbGJhY2spID0+IHsgLy8g0YTRg9C90LrRhtC40L7QvdCw0LvRjNC90L7RgdGC0Ywg0L/QvtGB0YLQsNC90L7QstC60Lgg0LvQsNC50LrQsFxuICAgICAgICAgICAgICAgIGlmIChjYXJkLmlzTGlrZWQoKSkge1xuICAgICAgICAgICAgICAgICAgICBhcGkucmVtb3ZlTGlrZShjdXJyZW50Q2FyZC5faWQpLnRoZW4oKHVwZGF0ZWRDYXJkKSA9PiBsaWtlQ2FsbGJhY2sodXBkYXRlZENhcmQubGlrZXMpKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn0J7RiNC40LHQutCwOiAnLCBlcnIpOyAvLyDQstGL0LLQtdC00LXQvCDQvtGI0LjQsdC60YMg0LIg0LrQvtC90YHQvtC70YxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGFwaS5zZXRMaWtlKGN1cnJlbnRDYXJkLl9pZCkudGhlbigodXBkYXRlZENhcmQpID0+IGxpa2VDYWxsYmFjayh1cGRhdGVkQ2FyZC5saWtlcykpXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfQntGI0LjQsdC60LA6ICcsIGVycik7IC8vINCy0YvQstC10LTQtdC8INC+0YjQuNCx0LrRgyDQsiDQutC+0L3RgdC+0LvRjFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIGNvbnN0IGNhcmROZXdFbGVtZW50ID0gY2FyZC5nZW5lcmF0ZUNhcmQoKTtcbiAgICByZXR1cm4gY2FyZE5ld0VsZW1lbnQ7XG59XG5cbmNvbnN0IGNhcmRMaXN0ID0gbmV3IFNlY3Rpb24oe1xuICAgICAgICByZW5kZXJlcjogKGRhdGEpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBjcmVhdGVDYXJkQ2xhc3MoZGF0YSk7XG4gICAgICAgICAgICBjYXJkTGlzdC5hZGRJdGVtKGVsZW1lbnQpO1xuICAgICAgICB9LFxuICAgIH0sXG4gICAgZWxlbWVudExpc3Rcbik7XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIC0g0LrQu9Cw0YHRgSDQv9C+0L/QsNC/0LAg0LrQsNGA0YLQuNC90LrQuC5cbiAqL1xuY29uc3QgcG9wdXBQaWNlID0gbmV3IFBvcHVwV2l0aEltYWdlKHBpY3R1cmVQb3B1cClcbnBvcHVwUGljZS5zZXRFdmVudExpc3RlbmVycygpO1xuXG5mdW5jdGlvbiBoYW5kbGVDYXJkQ2xpY2sobmFtZSwgbGluaykge1xuICAgIHBvcHVwUGljZS5vcGVuKG5hbWUsIGxpbmspO1xufTtcblxuLyoqXG4gKiBAZGVzY3JpcHRpb24gLSDQv9C+0L/QsNC/INGA0LXQtNCw0LrRgtC40YDQstCw0L3QuNGPINC/0YDQvtGE0LjQu9GPLlxuICovXG5wcm9maWxlRWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICB2YWxpZGF0ZVByb2ZpbGVGb3JtLnJlc2V0VmFkbGlkYXRpb24oKTtcbiAgICBjb25zdCB7IG5hbWUsIGFib3V0IH0gPSBwcm9maWxlSW5mby5nZXRVc2VySW5mbygpO1xuICAgIG5hbWVJbnB1dC52YWx1ZSA9IG5hbWU7XG4gICAgam9iSW5wdXQudmFsdWUgPSBhYm91dDtcbiAgICB2YWxpZGF0ZVByb2ZpbGVGb3JtLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgcG9wdXBQcm9maWxlRm9ybS5vcGVuKClcbn0pO1xuY29uc3QgaGFuZGxlUHJvZmlsZUZvcm1TdWJtaXQgPSAoZGF0YSkgPT4geyAvLyDQutC+0LvQsdC10LogMTMwINGB0YLRgNC+0LrQsFxuICAgIHBvcHVwUHJvZmlsZUZvcm0uc2F2ZUJ1dHRvbih0cnVlKTtcbiAgICBhcGkuc2V0VXNlckRhdGEoZGF0YSlcbiAgICAgICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgICAgIHByb2ZpbGVJbmZvLnNldFVzZXJJbmZvKGRhdGEpO1xuICAgICAgICAgICAgcG9wdXBQcm9maWxlRm9ybS5jbG9zZSgpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ9Ce0YjQuNCx0LrQsDogJywgZXJyKTsgLy8g0LLRi9Cy0LXQtNC10Lwg0L7RiNC40LHQutGDINCyINC60L7QvdGB0L7Qu9GMXG4gICAgICAgIH0pXG4gICAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgICAgIHBvcHVwUHJvZmlsZUZvcm0uc2F2ZUJ1dHRvbihmYWxzZSk7XG4gICAgICAgIH0pO1xuXG59XG5cbmNvbnN0IHBvcHVwUHJvZmlsZUZvcm0gPSBuZXcgUG9wdXBXaXRoRm9ybShwcm9maWxlUG9wdXAsIGhhbmRsZVByb2ZpbGVGb3JtU3VibWl0KTtcbnBvcHVwUHJvZmlsZUZvcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuLyoqXG4gKiBAZGVzY3JpcHRpb24gLSDQn9C+0L/QsNC/INC/0LXRgNC10LQg0YPQtNCw0LvQtdC90LjQtdC8INC60LDRgNGC0YsuXG4gKi9cblxuY29uc3QgY29uZmlybVBvcHVwID0gbmV3IFBvcHVwV2l0aENvbmZpcm1hdGlvbihub3RpZmljYXRpb25Qb3B1cCk7XG5jb25maXJtUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuUHJvbWlzZS5hbGwoW2FwaS5nZXRVc2VyQ2FyZHMoKSwgYXBpLmdldFVzZXJEYXRhKCldKVxuICAgIC50aGVuKChbaW5pdGlhbENhcmRzLCBkYXRhXSkgPT4ge1xuICAgICAgICBwcm9maWxlSW5mby5zZXRVc2VySW5mbyhkYXRhKVxuICAgICAgICBjYXJkTGlzdC5yZW5kZXJJdGVtcyhpbml0aWFsQ2FyZHMpXG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpOyAvLyDQstGL0LLQtdC00LXQvCDQvtGI0LjQsdC60YMg0LIg0LrQvtC90YHQvtC70YxcbiAgICB9KTtcblxuLyoqIEBkZXNjcmlwdGlvbiAtINCg0LDQsdC+0YLQsCDRgSDQsNCy0LDRgtCw0YDQvtC8INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjyAqL1xuXG5idG5PdmVybGF5QXZhdGFyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIHZhbGlkYXRlQXZhdGFGb3JtLnJlc2V0VmFkbGlkYXRpb24oKTtcbiAgICBwb3B1cEJ5QXZhdGFyLm9wZW4oKTtcbiAgICB2YWxpZGF0ZUF2YXRhRm9ybS50b2dnbGVCdXR0b25TdGF0ZSgpO1xufSlcblxuY29uc3QgYXZhdGFyRnVuY3Rpb24gPSAoZGF0YSkgPT4ge1xuICAgIHBvcHVwQnlBdmF0YXIuc2F2ZUJ1dHRvbih0cnVlKTtcbiAgICBhcGkuc2V0QXZhdGFyRGF0YShkYXRhKVxuICAgICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgICBwcm9maWxlSW5mby5zZXRVc2VySW5mbyhyZXMpO1xuICAgICAgICAgICAgcG9wdXBCeUF2YXRhci5jbG9zZSgpO1xuXG4gICAgICAgIH0pLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfQntGI0LjQsdC60LA6ICcsIGVycik7IC8vINCy0YvQstC10LTQtdC8INC+0YjQuNCx0LrRgyDQsiDQutC+0L3RgdC+0LvRjFxuICAgICAgICB9KVxuICAgICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAgICAgICBwb3B1cEJ5QXZhdGFyLnNhdmVCdXR0b24oZmFsc2UpO1xuICAgICAgICB9KTtcbn1cbmNvbnN0IHBvcHVwQnlBdmF0YXIgPSBuZXcgUG9wdXBXaXRoRm9ybShhdmF0YXJQb3B1cCwgYXZhdGFyRnVuY3Rpb24pO1xucG9wdXBCeUF2YXRhci5zZXRFdmVudExpc3RlbmVycygpO1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiAtINCg0LDQsdC+0YLQsCDRgSDQv9C+0L/QsNC/0L7QvCDRgdC+0LfQtNCw0L3QuNGPINC60LDRgNGC0L7Rh9C60LhcbiAqL1xuXG5jb25zdCBoYW5kbGVBZGRFbG1Gb3JtID0gKGRhdGEpID0+IHsgLy8g0LrQvtC70LHQtdC6IDE5MSDRgdGC0YDQvtC60LBcbiAgICBwb3B1cE5ld0VsZW1lbnQuc2F2ZUJ1dHRvbih0cnVlKTtcbiAgICBhcGkucHVzaE5ld0NhcmQoZGF0YSkudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgICBjYXJkTGlzdC5hZGRJdGVtKGNyZWF0ZUNhcmRDbGFzcyhyZXMpKVxuICAgICAgICAgICAgcG9wdXBOZXdFbGVtZW50LmNsb3NlKClcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7IC8vINCy0YvQstC10LTQtdC8INC+0YjQuNCx0LrRgyDQsiDQutC+0L3RgdC+0LvRjFxuICAgICAgICB9KVxuICAgICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAgICAgICBwb3B1cE5ld0VsZW1lbnQuc2F2ZUJ1dHRvbihmYWxzZSk7XG4gICAgICAgIH0pO1xufVxuY29uc3QgcG9wdXBOZXdFbGVtZW50ID0gbmV3IFBvcHVwV2l0aEZvcm0obmV3UGxhY2VQb3B1cCwgaGFuZGxlQWRkRWxtRm9ybSk7IC8vINC/0L7Qv9Cw0L8g0YHQvtC30LTQsNC90LjRjyDQutCw0YDRgtGLXG5cbnBvcHVwTmV3RWxlbWVudC5zZXRFdmVudExpc3RlbmVycygpO1xucHJvZmlsZVBsYWNlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIHZhbGlkYXRlRm9ybU5ld0VsZW1lbnQucmVzZXRWYWRsaWRhdGlvbigpO1xuICAgIHBvcHVwTmV3RWxlbWVudC5vcGVuKClcbiAgICB2YWxpZGF0ZUZvcm1OZXdFbGVtZW50LnRvZ2dsZUJ1dHRvblN0YXRlKCk7XG59KVxuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiAtINGD0L/RgNCw0LLQu9C10L3QuNC1INC+0YLQvtCx0YDQsNC20LXQvdC40LXQvCDQuNC90YTQvtGA0LzQsNGG0LjQuCDQviDQv9C+0LvRjNC30L7QstCw0YLQtdC70LUg0L3QsCDRgdGC0YDQsNC90LjRhtC1LlxuICovXG5cbmNvbnN0IHByb2ZpbGVJbmZvID0gbmV3IFVzZXJJbmZvKHByb2ZpbGVOYW1lLCBwcm9maWxlQWJvdXQpO1xuIl0sIm5hbWVzIjpbInByb2ZpbGVOYW1lIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwicHJvZmlsZUFib3V0IiwicHJvZmlsZUVkaXRCdXR0b24iLCJwcm9maWxlUG9wdXAiLCJlbGVtZW50TGlzdCIsInByb2ZpbGVGb3JtIiwibmFtZUlucHV0Iiwiam9iSW5wdXQiLCJuZXdQbGFjZVBvcHVwIiwiZm9ybU5ld0VsZW1lbnQiLCJwaWN0dXJlUG9wdXAiLCJwcm9maWxlUGxhY2VCdXR0b24iLCJub3RpZmljYXRpb25Qb3B1cCIsImJ0bk92ZXJsYXlBdmF0YXIiLCJhdmF0YXJQb3B1cCIsImZvcm1OZXdBdmF0YXIiLCJGb3JtVmFsaWRhdG9yIiwiY29uZmlnIiwiZm9ybUVsZW1lbnQiLCJfaW5wdXRMaXN0IiwiZm9yRWFjaCIsImlucHV0SXRlbSIsIl9oaWRlSW5wdXRFcnJvciIsInRvZ2dsZUJ1dHRvblN0YXRlIiwiaW5wdXRFbGVtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9pc1ZhbGlkaXR5IiwidGhpcyIsIl9jb25maWciLCJfZm9ybUVsZW1lbnQiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW5wdXRTZWxlY3RvciIsIl9idXR0b25FbGVtZW50Iiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX3Nob3dJbnB1dEVycm9yIiwic29tZSIsImVycm9yRWxlbWVudCIsImlkIiwiY29uc29sZSIsImxvZyIsImNsYXNzTGlzdCIsImFkZCIsImlucHV0RXJyb3JDbGFzcyIsInRleHRDb250ZW50IiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJlcnJvckNsYXNzIiwicmVtb3ZlIiwiX2hhc0ludmFsaWRJbnB1dCIsIl9zZXREaXNhYmxlZEJ1dHRvbiIsIl9zZXRFbmFibGVkQnV0dG9uIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImRpc2FibGVkIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiQ2FyZCIsImRhdGEiLCJjYXJkdGVtcGxhdGUiLCJoYW5kbGVyIiwiX2RhdGEiLCJfb25MaWtlSGFuZGxlciIsIm9uTGlrZSIsIl9yZW1vdmVQaWMiLCJvbkRlbGV0ZUNhcmQiLCJfaGFuZGxlQ2FyZENsaWNrIiwib25DbGljayIsIl9jYXJkVGVtcGxhdGUiLCJfZWxlbWVudCIsIl9nZXRUZW1wbGF0ZSIsIm1hc2tHcm91cEltZyIsIm1hc2tHcm91cE5hbWUiLCJfbGlrZUJ1dHRvbiIsIl9idG5SZW1vdmVDYXJkIiwibGlrZXNFbGVtZW50Iiwic3JjIiwibGluayIsIm5hbWUiLCJhbHQiLCJsaWtlcyIsImxlbmd0aCIsImlzTGlrZWQiLCJpc093bmVyIiwiaXRlbSIsImN1cnJlbnRVc2VyIiwiX2lkIiwib3duZXIiLCJ1cGRhdGVkTGlrZXMiLCJ0b2dnbGUiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX2hhbmRsZUxpa2UiLCJfaGFuZGxlVHJhc2hCdG5DbGljayIsIlNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsInJlbmRlcmVyIiwiX2Z1bmN0aW9uUmVuZGVyIiwiX2NvbnRhaW5lciIsInJldmVyc2UiLCJlbGVtZW50IiwicHJlcGVuZCIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cFNlbGVjdG9yIiwiX2hhbmRsZUVzY0Nsb3NlQmluZGVkIiwiX2hhbmRsZUVzY0Nsb3NlIiwiYmluZCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJldnQiLCJrZXkiLCJjbG9zZSIsInRhcmdldCIsImNvbnRhaW5zIiwiUG9wdXBXaXRoSW1hZ2UiLCJfcG9wdXBQaG90b1RpdGxlIiwiX3BvcHVwUGhvdG9JbWciLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlRm9ybVN1Ym1pdCIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX2J0blNhdmUiLCJfYnRuU2F2ZVRleHQiLCJfZm9ybUlucHV0TGlzdCIsIl9mb3JtVmFsdWVzIiwiaW5wdXQiLCJ2YWx1ZSIsInByZXZlbnREZWZhdWx0IiwiX2dldElucHV0VmFsdWVzIiwiaXNTYXZlIiwicmVzZXQiLCJQb3B1cFdpdGhDb25maXJtYXRpb24iLCJfc2V0Q29uZmlybUFjdGlvbiIsImFjdGlvbiIsIlVzZXJJbmZvIiwidXNlck5hbWVTZWxlY3RvciIsInVzZXJJbmZvU2VsZWN0b3IiLCJfdXNlck5hbWUiLCJfdXNlckluZm8iLCJfYXZhdGFyU2VsZWN0b3IiLCJ1c2VyRGF0YSIsImFib3V0IiwiX3VzZXJJZCIsImF2YXRhciIsIkFwaSIsIm9wdGlvbnMiLCJfdXJsIiwidXJsIiwiX2hlYWRlcnMiLCJoZWFkZXJzIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImZldGNoIiwidGhlbiIsIl9nZXRSZXNwb25zZURhdGEiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImNhcmRJRCIsImZvcm1TZWxlY3RvciIsInZhbGlkYXRlRm9ybU5ld0VsZW1lbnQiLCJ2YWxpZGF0ZVByb2ZpbGVGb3JtIiwidmFsaWRhdGVBdmF0YUZvcm0iLCJlbmFibGVWYWxpZGF0aW9uIiwiYXBpIiwiYXV0aG9yaXphdGlvbiIsImNyZWF0ZUNhcmRDbGFzcyIsInByb2ZpbGVJbmZvIiwiZ2V0VXNlckluZm8iLCJjYXJkIiwiaGFuZGxlQ2FyZENsaWNrIiwiY3VycmVudENhcmQiLCJyZW1vdmVDYXJkIiwiY29uZmlybVBvcHVwIiwib3BlbiIsInNldENvbmZpcm1BY3Rpb24iLCJkZWxldGVDYXJkIiwiZXJyIiwibGlrZUNhbGxiYWNrIiwicmVtb3ZlTGlrZSIsInVwZGF0ZWRDYXJkIiwic2V0TGlrZSIsImdlbmVyYXRlQ2FyZCIsImNhcmRMaXN0IiwiYWRkSXRlbSIsInBvcHVwUGljZSIsInNldEV2ZW50TGlzdGVuZXJzIiwicmVzZXRWYWRsaWRhdGlvbiIsInBvcHVwUHJvZmlsZUZvcm0iLCJzYXZlQnV0dG9uIiwic2V0VXNlckRhdGEiLCJzZXRVc2VySW5mbyIsImFsbCIsImdldFVzZXJDYXJkcyIsImdldFVzZXJEYXRhIiwiaW5pdGlhbENhcmRzIiwicmVuZGVySXRlbXMiLCJwb3B1cEJ5QXZhdGFyIiwic2V0QXZhdGFyRGF0YSIsInBvcHVwTmV3RWxlbWVudCIsInB1c2hOZXdDYXJkIl0sInNvdXJjZVJvb3QiOiIifQ==